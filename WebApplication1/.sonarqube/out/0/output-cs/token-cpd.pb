õ¡
6D:\Hotpot\HotpotLibrary\Services\UserServiceReports.cs
	namespace

 	
HotpotLibrary


 
.

 
Services

  
{ 
public 

class 
UserServiceReports #
:$ %(
IUserServiceReportsInterface& B
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K
UserServiceReportsK ]
)] ^
)^ _
;_ `
public 
UserServiceReports !
(! "
AppDbContext" .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
public 
void 
RegisterUser  
(  !
UserDTO! (
userDto) 0
)0 1
{ 	
_logger 
. 
Info 
( 
$" 
$str D
{D E
userDtoE L
.L M
UsernameM U
}U V
"V W
)W X
;X Y
var 
user 
= 
new 
User 
{ 
Username 
= 
userDto "
." #
Username# +
,+ ,
Email 
= 
userDto 
.  
Email  %
,% &
Password 
= 
userDto "
." #
Password# +
,+ ,
PhNo 
= 
userDto 
. 
PhNo #
,# $
AddressLine   
=   
userDto   %
.  % &
AddressLine  & 1
,  1 2
City!! 
=!! 
userDto!! 
.!! 
City!! #
,!!# $
State"" 
="" 
userDto"" 
.""  
State""  %
,""% &

PostalCode## 
=## 
userDto## $
.##$ %

PostalCode##% /
,##/ 0
Country$$ 
=$$ 
userDto$$ !
.$$! "
Country$$" )
,$$) *
Role%% 
=%% 
userDto%% 
.%% 
Role%% #
,%%# $
CreatedDate&& 
=&& 
userDto&& %
.&&% &
CreatedDate&&& 1
,&&1 2
IsActive'' 
='' 
userDto'' "
.''" #
IsActive''# +
}(( 
;(( 
_context** 
.** 
Users** 
.** 
Add** 
(** 
user** #
)**# $
;**$ %
_context++ 
.++ 
SaveChanges++  
(++  !
)++! "
;++" #
_logger,, 
.,, 
Info,, 
(,, 
$str,, A
),,A B
;,,B C
}-- 	
public// 
UserDTO// 
Login// 
(// 
string// #
usernameOrEmail//$ 3
,//3 4
string//5 ;
password//< D
)//D E
{00 	
_logger11 
.11 
Info11 
(11 
$"11 
$str11 I
{11I J
usernameOrEmail11J Y
}11Y Z
"11Z [
)11[ \
;11\ ]
var33 
user33 
=33 
_context33 
.33  
Users33  %
.33% &
SingleOrDefault33& 5
(335 6
u336 7
=>338 :
(33; <
u33< =
.33= >
Username33> F
==33G I
usernameOrEmail33J Y
||33Z \
u33] ^
.33^ _
Email33_ d
==33e g
usernameOrEmail33h w
)33w x
&&33y {
u33| }
.33} ~
Password	33~ Ü
==
33á â
password
33ä í
)
33í ì
;
33ì î
if44 
(44 
user44 
==44 
null44 
)44 
{55 
_logger66 
.66 
Warn66 
(66 
$"66 
$str66 I
{66I J
usernameOrEmail66J Y
}66Y Z
"66Z [
)66[ \
;66\ ]
return77 
null77 
;77 
}88 
_logger:: 
.:: 
Info:: 
(:: 
$":: 
$str:: I
{::I J
usernameOrEmail::J Y
}::Y Z
"::Z [
)::[ \
;::\ ]
return;; 
new;; 
UserDTO;; 
{<< 
UserID== 
=== 
user== 
.== 
UserID== $
,==$ %
Username>> 
=>> 
user>> 
.>>  
Username>>  (
,>>( )
Email?? 
=?? 
user?? 
.?? 
Email?? "
,??" #
Password@@ 
=@@ 
user@@ 
.@@  
Password@@  (
,@@( )
PhNoAA 
=AA 
userAA 
.AA 
PhNoAA  
,AA  !
AddressLineBB 
=BB 
userBB "
.BB" #
AddressLineBB# .
,BB. /
CityCC 
=CC 
userCC 
.CC 
CityCC  
,CC  !
StateDD 
=DD 
userDD 
.DD 
StateDD "
,DD" #

PostalCodeEE 
=EE 
userEE !
.EE! "

PostalCodeEE" ,
,EE, -
CountryFF 
=FF 
userFF 
.FF 
CountryFF &
,FF& '
RoleGG 
=GG 
userGG 
.GG 
RoleGG  
,GG  !
CreatedDateHH 
=HH 
(HH 
DateTimeHH '
)HH' (
userHH( ,
.HH, -
CreatedDateHH- 8
,HH8 9
IsActiveII 
=II 
(II 
boolII  
)II  !
userII! %
.II% &
IsActiveII& .
}JJ 
;JJ 
}KK 	
publicMM 
voidMM 
LogoutMM 
(MM 
)MM 
{NN 	
_loggerOO 
.OO 
InfoOO 
(OO 
$strOO 5
)OO5 6
;OO6 7
}QQ 	
publicSS 
UserDTOSS 
GetUserByEmailSS %
(SS% &
stringSS& ,
emailSS- 2
)SS2 3
{TT 	
_loggerUU 
.UU 
InfoUU 
(UU 
$"UU 
$strUU >
{UU> ?
emailUU? D
}UUD E
"UUE F
)UUF G
;UUG H
varWW 
userWW 
=WW 
_contextWW 
.WW  
UsersWW  %
.WW% &
SingleOrDefaultWW& 5
(WW5 6
uWW6 7
=>WW8 :
uWW; <
.WW< =
EmailWW= B
==WWC E
emailWWF K
)WWK L
;WWL M
ifXX 
(XX 
userXX 
==XX 
nullXX 
)XX 
{YY 
_loggerZZ 
.ZZ 
WarnZZ 
(ZZ 
$"ZZ 
$strZZ B
{ZZB C
emailZZC H
}ZZH I
"ZZI J
)ZZJ K
;ZZK L
return[[ 
null[[ 
;[[ 
}\\ 
return^^ 
new^^ 
UserDTO^^ 
{__ 
UserID`` 
=`` 
user`` 
.`` 
UserID`` $
,``$ %
Usernameaa 
=aa 
useraa 
.aa  
Usernameaa  (
,aa( )
Emailbb 
=bb 
userbb 
.bb 
Emailbb "
,bb" #
Passwordcc 
=cc 
usercc 
.cc  
Passwordcc  (
,cc( )
PhNodd 
=dd 
userdd 
.dd 
PhNodd  
,dd  !
AddressLineee 
=ee 
useree "
.ee" #
AddressLineee# .
,ee. /
Cityff 
=ff 
userff 
.ff 
Cityff  
,ff  !
Stategg 
=gg 
usergg 
.gg 
Stategg "
,gg" #

PostalCodehh 
=hh 
userhh !
.hh! "

PostalCodehh" ,
,hh, -
Countryii 
=ii 
userii 
.ii 
Countryii &
,ii& '
Rolejj 
=jj 
userjj 
.jj 
Rolejj  
,jj  !
CreatedDatekk 
=kk 
(kk 
DateTimekk '
)kk' (
userkk( ,
.kk, -
CreatedDatekk- 8
,kk8 9
IsActivell 
=ll 
(ll 
boolll  
)ll  !
userll! %
.ll% &
IsActivell& .
}mm 
;mm 
}nn 	
publicpp 
IEnumerablepp 
<pp 
MenuDTOpp "
>pp" #
GetAllMenuspp$ /
(pp/ 0
)pp0 1
{qq 	
_loggerrr 
.rr 
Inforr 
(rr 
$strrr 7
)rr7 8
;rr8 9
vartt 
menustt 
=tt 
_contexttt  
.tt  !
Menustt! &
.tt& '
Selecttt' -
(tt- .
menutt. 2
=>tt3 5
newtt6 9
MenuDTOtt: A
{uu 
MenuIDvv 
=vv 
menuvv 
.vv 
MenuIDvv $
,vv$ %
RestaurantIDww 
=ww 
menuww #
.ww# $
RestaurantIDww$ 0
,ww0 1
MenuNamexx 
=xx 
menuxx 
.xx  
MenuNamexx  (
,xx( )
Descriptionyy 
=yy 
menuyy "
.yy" #
Descriptionyy# .
,yy. /
CreatedDatezz 
=zz 
(zz 
DateTimezz '
)zz' (
menuzz( ,
.zz, -
CreatedDatezz- 8
,zz8 9
IsActive{{ 
={{ 
({{ 
bool{{  
){{  !
menu{{! %
.{{% &
IsActive{{& .
}|| 
)|| 
.|| 
ToList|| 
(|| 
)|| 
;|| 
_logger~~ 
.~~ 
Info~~ 
(~~ 
$"~~ 
$str~~ .
{~~. /
menus~~/ 4
.~~4 5
Count~~5 :
}~~: ;
$str~~; B
"~~B C
)~~C D
;~~D E
return 
menus 
; 
}
ÄÄ 	
public
ÇÇ 
IEnumerable
ÇÇ 
<
ÇÇ 
MenuItemDTO
ÇÇ &
>
ÇÇ& '
SearchMenuItems
ÇÇ( 7
(
ÇÇ7 8
string
ÇÇ8 >
query
ÇÇ? D
)
ÇÇD E
{
ÉÉ 	
_logger
ÑÑ 
.
ÑÑ 
Info
ÑÑ 
(
ÑÑ 
$"
ÑÑ 
$str
ÑÑ E
{
ÑÑE F
query
ÑÑF K
}
ÑÑK L
"
ÑÑL M
)
ÑÑM N
;
ÑÑN O
var
ÜÜ 
items
ÜÜ 
=
ÜÜ 
_context
ÜÜ  
.
ÜÜ  !
	MenuItems
ÜÜ! *
.
áá 
Where
áá 
(
áá 
item
áá 
=>
áá 
item
áá #
.
áá# $
ItemName
áá$ ,
.
áá, -
Contains
áá- 5
(
áá5 6
query
áá6 ;
)
áá; <
||
áá= ?
item
áá@ D
.
ááD E
Description
ááE P
.
ááP Q
Contains
ááQ Y
(
ááY Z
query
ááZ _
)
áá_ `
)
áá` a
.
àà 
Select
àà 
(
àà 
item
àà 
=>
àà 
new
àà  #
MenuItemDTO
àà$ /
{
ââ 

MenuItemID
ää 
=
ää  
item
ää! %
.
ää% &

MenuItemID
ää& 0
,
ää0 1
MenuID
ãã 
=
ãã 
item
ãã !
.
ãã! "
MenuID
ãã" (
,
ãã( )
ItemName
åå 
=
åå 
item
åå #
.
åå# $
ItemName
åå$ ,
,
åå, -
Description
çç 
=
çç  !
item
çç" &
.
çç& '
Description
çç' 2
,
çç2 3
Category
éé 
=
éé 
item
éé #
.
éé# $
Category
éé$ ,
,
éé, -
Price
èè 
=
èè 
item
èè  
.
èè  !
Price
èè! &
,
èè& ' 
SpecialDietaryInfo
êê &
=
êê' (
item
êê) -
.
êê- . 
SpecialDietaryInfo
êê. @
,
êê@ A
	TasteInfo
ëë 
=
ëë 
item
ëë  $
.
ëë$ %
	TasteInfo
ëë% .
,
ëë. /
NutritionalInfo
íí #
=
íí$ %
item
íí& *
.
íí* +
NutritionalInfo
íí+ :
,
íí: ;
AvailabilityTime
ìì $
=
ìì% &
item
ìì' +
.
ìì+ ,
AvailabilityTime
ìì, <
,
ìì< =
	IsInStock
îî 
=
îî 
(
îî  !
bool
îî! %
)
îî% &
item
îî& *
.
îî* +
	IsInStock
îî+ 4
,
îî4 5
ImageUrl
ïï 
=
ïï 
item
ïï #
.
ïï# $
ImageUrl
ïï$ ,
,
ïï, -
IsAvailable
ññ 
=
ññ  !
(
ññ" #
bool
ññ# '
)
ññ' (
item
ññ( ,
.
ññ, -
IsAvailable
ññ- 8
,
ññ8 9
	Discounts
óó 
=
óó 
(
óó  !
decimal
óó! (
)
óó( )
item
óó) -
.
óó- .
	Discounts
óó. 7
,
óó7 8
CreatedDate
òò 
=
òò  !
(
òò" #
DateTime
òò# +
)
òò+ ,
item
òò, 0
.
òò0 1
CreatedDate
òò1 <
}
ôô 
)
ôô 
.
ôô 
ToList
ôô 
(
ôô 
)
ôô 
;
ôô 
_logger
õõ 
.
õõ 
Info
õõ 
(
õõ 
$"
õõ 
$str
õõ *
{
õõ* +
items
õõ+ 0
.
õõ0 1
Count
õõ1 6
}
õõ6 7
$str
õõ7 R
"
õõR S
)
õõS T
;
õõT U
return
úú 
items
úú 
;
úú 
}
ùù 	
public
üü 
MenuItemDTO
üü 
GetMenuItemById
üü *
(
üü* +
int
üü+ .
id
üü/ 1
)
üü1 2
{
†† 	
_logger
°° 
.
°° 
Info
°° 
(
°° 
$"
°° 
$str
°° @
{
°°@ A
id
°°A C
}
°°C D
"
°°D E
)
°°E F
;
°°F G
var
££ 
item
££ 
=
££ 
_context
££ 
.
££  
	MenuItems
££  )
.
££) *
Find
££* .
(
££. /
id
££/ 1
)
££1 2
;
££2 3
if
§§ 
(
§§ 
item
§§ 
==
§§ 
null
§§ 
)
§§ 
{
•• 
_logger
¶¶ 
.
¶¶ 
Warn
¶¶ 
(
¶¶ 
$"
¶¶ 
$str
¶¶ D
{
¶¶D E
id
¶¶E G
}
¶¶G H
"
¶¶H I
)
¶¶I J
;
¶¶J K
return
ßß 
null
ßß 
;
ßß 
}
®® 
return
™™ 
new
™™ 
MenuItemDTO
™™ "
{
´´ 

MenuItemID
¨¨ 
=
¨¨ 
item
¨¨ !
.
¨¨! "

MenuItemID
¨¨" ,
,
¨¨, -
MenuID
≠≠ 
=
≠≠ 
item
≠≠ 
.
≠≠ 
MenuID
≠≠ $
,
≠≠$ %
ItemName
ÆÆ 
=
ÆÆ 
item
ÆÆ 
.
ÆÆ  
ItemName
ÆÆ  (
,
ÆÆ( )
Description
ØØ 
=
ØØ 
item
ØØ "
.
ØØ" #
Description
ØØ# .
,
ØØ. /
Category
∞∞ 
=
∞∞ 
item
∞∞ 
.
∞∞  
Category
∞∞  (
,
∞∞( )
Price
±± 
=
±± 
item
±± 
.
±± 
Price
±± "
,
±±" # 
SpecialDietaryInfo
≤≤ "
=
≤≤# $
item
≤≤% )
.
≤≤) * 
SpecialDietaryInfo
≤≤* <
,
≤≤< =
	TasteInfo
≥≥ 
=
≥≥ 
item
≥≥  
.
≥≥  !
	TasteInfo
≥≥! *
,
≥≥* +
NutritionalInfo
¥¥ 
=
¥¥  !
item
¥¥" &
.
¥¥& '
NutritionalInfo
¥¥' 6
,
¥¥6 7
AvailabilityTime
µµ  
=
µµ! "
item
µµ# '
.
µµ' (
AvailabilityTime
µµ( 8
,
µµ8 9
	IsInStock
∂∂ 
=
∂∂ 
(
∂∂ 
bool
∂∂ !
)
∂∂! "
item
∂∂" &
.
∂∂& '
	IsInStock
∂∂' 0
,
∂∂0 1
ImageUrl
∑∑ 
=
∑∑ 
item
∑∑ 
.
∑∑  
ImageUrl
∑∑  (
,
∑∑( )
IsAvailable
∏∏ 
=
∏∏ 
(
∏∏ 
bool
∏∏ #
)
∏∏# $
item
∏∏$ (
.
∏∏( )
IsAvailable
∏∏) 4
,
∏∏4 5
	Discounts
ππ 
=
ππ 
(
ππ 
decimal
ππ $
)
ππ$ %
item
ππ% )
.
ππ) *
	Discounts
ππ* 3
,
ππ3 4
CreatedDate
∫∫ 
=
∫∫ 
(
∫∫ 
DateTime
∫∫ '
)
∫∫' (
item
∫∫( ,
.
∫∫, -
CreatedDate
∫∫- 8
}
ªª 
;
ªª 
}
ºº 	
public
ææ 
CartDTO
ææ 
GetCartContents
ææ &
(
ææ& '
int
ææ' *
userId
ææ+ 1
)
ææ1 2
{
øø 	
_logger
¿¿ 
.
¿¿ 
Info
¿¿ 
(
¿¿ 
$"
¿¿ 
$str
¿¿ M
{
¿¿M N
userId
¿¿N T
}
¿¿T U
"
¿¿U V
)
¿¿V W
;
¿¿W X
var
¬¬ 
	cartItems
¬¬ 
=
¬¬ 
_context
¬¬ $
.
¬¬$ %
Carts
¬¬% *
.
¬¬* +
Where
¬¬+ 0
(
¬¬0 1
c
¬¬1 2
=>
¬¬3 5
c
¬¬6 7
.
¬¬7 8
UserID
¬¬8 >
==
¬¬? A
userId
¬¬B H
)
¬¬H I
.
¬¬I J
ToList
¬¬J P
(
¬¬P Q
)
¬¬Q R
;
¬¬R S
var
√√ 
	totalCost
√√ 
=
√√ 
	cartItems
√√ %
.
√√% &
Sum
√√& )
(
√√) *
c
√√* +
=>
√√, .
c
√√/ 0
.
√√0 1
Price
√√1 6
*
√√7 8
c
√√9 :
.
√√: ;
Quantity
√√; C
)
√√C D
;
√√D E
_logger
≈≈ 
.
≈≈ 
Info
≈≈ 
(
≈≈ 
$"
≈≈ 
$str
≈≈ *
{
≈≈* +
	cartItems
≈≈+ 4
.
≈≈4 5
Count
≈≈5 :
}
≈≈: ;
$str
≈≈; W
{
≈≈W X
userId
≈≈X ^
}
≈≈^ _
"
≈≈_ `
)
≈≈` a
;
≈≈a b
return
∆∆ 
new
∆∆ 
CartDTO
∆∆ 
{
«« 
CartID
»» 
=
»» 
$num
»» 
,
»» 
UserID
…… 
=
…… 
userId
…… 
,
……  

MenuItemID
   
=
   
$num
   
,
   
Quantity
ÀÀ 
=
ÀÀ 
	cartItems
ÀÀ $
.
ÀÀ$ %
Sum
ÀÀ% (
(
ÀÀ( )
c
ÀÀ) *
=>
ÀÀ+ -
c
ÀÀ. /
.
ÀÀ/ 0
Quantity
ÀÀ0 8
)
ÀÀ8 9
,
ÀÀ9 :
Price
ÃÃ 
=
ÃÃ 
	totalCost
ÃÃ !
,
ÃÃ! "
CreatedDate
ÕÕ 
=
ÕÕ 
DateTime
ÕÕ &
.
ÕÕ& '
Now
ÕÕ' *
}
ŒŒ 
;
ŒŒ 
}
œœ 	
public
—— 
OrderDTO
—— 
GetOrderDetails
—— '
(
——' (
int
——( +
orderId
——, 3
)
——3 4
{
““ 	
_logger
”” 
.
”” 
Info
”” 
(
”” 
$"
”” 
$str
”” I
{
””I J
orderId
””J Q
}
””Q R
"
””R S
)
””S T
;
””T U
var
’’ 
order
’’ 
=
’’ 
_context
’’  
.
’’  !
Orders
’’! '
.
’’' (
Find
’’( ,
(
’’, -
orderId
’’- 4
)
’’4 5
;
’’5 6
if
÷÷ 
(
÷÷ 
order
÷÷ 
==
÷÷ 
null
÷÷ 
)
÷÷ 
{
◊◊ 
_logger
ÿÿ 
.
ÿÿ 
Warn
ÿÿ 
(
ÿÿ 
$"
ÿÿ 
$str
ÿÿ @
{
ÿÿ@ A
orderId
ÿÿA H
}
ÿÿH I
"
ÿÿI J
)
ÿÿJ K
;
ÿÿK L
return
ŸŸ 
null
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
return
‹‹ 
new
‹‹ 
OrderDTO
‹‹ 
{
›› 
UserID
ﬁﬁ 
=
ﬁﬁ 
order
ﬁﬁ 
.
ﬁﬁ 
UserID
ﬁﬁ %
,
ﬁﬁ% &
RestaurantID
ﬂﬂ 
=
ﬂﬂ 
order
ﬂﬂ $
.
ﬂﬂ$ %
RestaurantID
ﬂﬂ% 1
,
ﬂﬂ1 2
	OrderDate
‡‡ 
=
‡‡ 
order
‡‡ !
.
‡‡! "
	OrderDate
‡‡" +
,
‡‡+ ,
TotalAmount
·· 
=
·· 
order
·· #
.
··# $
TotalAmount
··$ /
,
··/ 0
OrderStatus
‚‚ 
=
‚‚ 
order
‚‚ #
.
‚‚# $
OrderStatus
‚‚$ /
,
‚‚/ 0
PaymentStatus
„„ 
=
„„ 
order
„„  %
.
„„% &
PaymentStatus
„„& 3
,
„„3 4
DeliveryAddress
‰‰ 
=
‰‰  !
order
‰‰" '
.
‰‰' (
DeliveryAddress
‰‰( 7
,
‰‰7 8
DeliveryDate
ÂÂ 
=
ÂÂ 
order
ÂÂ $
.
ÂÂ$ %
DeliveryDate
ÂÂ% 1
}
ÊÊ 
;
ÊÊ 
}
ÁÁ 	
public
ÈÈ 
IEnumerable
ÈÈ 
<
ÈÈ 
OrderDTO
ÈÈ #
>
ÈÈ# $
GetOrderHistory
ÈÈ% 4
(
ÈÈ4 5
int
ÈÈ5 8
userId
ÈÈ9 ?
)
ÈÈ? @
{
ÍÍ 	
_logger
ÎÎ 
.
ÎÎ 
Info
ÎÎ 
(
ÎÎ 
$"
ÎÎ 
$str
ÎÎ H
{
ÎÎH I
userId
ÎÎI O
}
ÎÎO P
"
ÎÎP Q
)
ÎÎQ R
;
ÎÎR S
var
ÌÌ 
orders
ÌÌ 
=
ÌÌ 
_context
ÌÌ !
.
ÌÌ! "
Orders
ÌÌ" (
.
ÌÌ( )
Where
ÌÌ) .
(
ÌÌ. /
o
ÌÌ/ 0
=>
ÌÌ1 3
o
ÌÌ4 5
.
ÌÌ5 6
UserID
ÌÌ6 <
==
ÌÌ= ?
userId
ÌÌ@ F
)
ÌÌF G
.
ÌÌG H
Select
ÌÌH N
(
ÌÌN O
order
ÌÌO T
=>
ÌÌU W
new
ÌÌX [
OrderDTO
ÌÌ\ d
{
ÓÓ 
UserID
ÔÔ 
=
ÔÔ 
order
ÔÔ 
.
ÔÔ 
UserID
ÔÔ %
,
ÔÔ% &
RestaurantID
 
=
 
order
 $
.
$ %
RestaurantID
% 1
,
1 2
	OrderDate
ÒÒ 
=
ÒÒ 
order
ÒÒ !
.
ÒÒ! "
	OrderDate
ÒÒ" +
,
ÒÒ+ ,
TotalAmount
ÚÚ 
=
ÚÚ 
order
ÚÚ #
.
ÚÚ# $
TotalAmount
ÚÚ$ /
,
ÚÚ/ 0
OrderStatus
ÛÛ 
=
ÛÛ 
order
ÛÛ #
.
ÛÛ# $
OrderStatus
ÛÛ$ /
,
ÛÛ/ 0
PaymentStatus
ÙÙ 
=
ÙÙ 
order
ÙÙ  %
.
ÙÙ% &
PaymentStatus
ÙÙ& 3
,
ÙÙ3 4
DeliveryAddress
ıı 
=
ıı  !
order
ıı" '
.
ıı' (
DeliveryAddress
ıı( 7
,
ıı7 8
DeliveryDate
ˆˆ 
=
ˆˆ 
order
ˆˆ $
.
ˆˆ$ %
DeliveryDate
ˆˆ% 1
}
˜˜ 
)
˜˜ 
.
˜˜ 
ToList
˜˜ 
(
˜˜ 
)
˜˜ 
;
˜˜ 
_logger
˘˘ 
.
˘˘ 
Info
˘˘ 
(
˘˘ 
$"
˘˘ 
$str
˘˘ .
{
˘˘. /
orders
˘˘/ 5
.
˘˘5 6
Count
˘˘6 ;
}
˘˘; <
$str
˘˘< Q
{
˘˘Q R
userId
˘˘R X
}
˘˘X Y
"
˘˘Y Z
)
˘˘Z [
;
˘˘[ \
return
˙˙ 
orders
˙˙ 
;
˙˙ 
}
˚˚ 	
}
¸¸ 
}˝˝ Æ|
/D:\Hotpot\HotpotLibrary\Services\UserService.cs
public		 
class		 
UserService		 
{

 
private 
readonly 
IUserRepository $
_userRepository% 4
;4 5
private 
readonly 
IEmailService "
_emailService# 0
;0 1
private 
static 
readonly 
ILog  
_logger! (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G
UserServiceG R
)R S
)S T
;T U
public 

UserService 
( 
IUserRepository &
userRepository' 5
,5 6
IEmailService7 D
emailServiceE Q
)Q R
{ 
_userRepository 
= 
userRepository (
;( )
_emailService 
= 
emailService $
;$ %
} 
public 

IEnumerable 
< 
UserDTO 
> 
GetAllUsers  +
(+ ,
), -
{ 
_logger 
. 
Info 
( 
$str 3
)3 4
;4 5
return 
_userRepository 
. 
GetAllUsers *
(* +
)+ ,
;, -
} 
public 

UserDTO 
GetUserById 
( 
int "
userId# )
)) *
{ 
_logger 
. 
Info 
( 
$" 
$str 6
{6 7
userId7 =
}= >
$str> ?
"? @
)@ A
;A B
return 
_userRepository 
. 
GetUserById *
(* +
userId+ 1
)1 2
;2 3
} 
public!! 

void!! 

CreateUser!! 
(!! 
UserDTO!! "
userDto!!# *
)!!* +
{"" 
_logger## 
.## 
Info## 
(## 
$"## 
$str## =
{##= >
userDto##> E
.##E F
Username##F N
}##N O
"##O P
)##P Q
;##Q R
_userRepository&& 
.&& 

CreateUser&& "
(&&" #
userDto&&# *
)&&* +
;&&+ ,
var)) 
subject)) 
=)) 
$str)) *
;))* +
var** 
body** 
=** 
$@"** 
$str*/ J
{//J K
userDto//K R
.//R S
Username//S [
}//[ \
$str/:\ 
":: 
;:: 	
_emailService;; 
.;; 
	SendEmail;; 
(;;  
userDto;;  '
.;;' (
Email;;( -
,;;- .
subject;;/ 6
,;;6 7
body;;8 <
);;< =
;;;= >
_logger== 
.== 
Info== 
(== 
$"== 
$str== ;
{==; <
userDto==< C
.==C D
Email==D I
}==I J
"==J K
)==K L
;==L M
}>> 
public@@ 

void@@ 

UpdateUser@@ 
(@@ 
int@@ 
id@@ !
,@@! "
UserDTO@@# *
userDto@@+ 2
)@@2 3
{AA 
_loggerBB 
.BB 
InfoBB 
(BB 
$"BB 
$strBB 6
{BB6 7
userDtoBB7 >
.BB> ?
UserIDBB? E
}BBE F
"BBF G
)BBG H
;BBH I
varCC 
existingUserCC 
=CC 
_userRepositoryCC *
.CC* +
GetUserByIdCC+ 6
(CC6 7
idCC7 9
)CC9 :
;CC: ;
ifEE 

(EE 
existingUserEE 
==EE 
nullEE  
)EE  !
{FF 	
_loggerGG 
.GG 
WarnGG 
(GG 
$"GG 
$strGG 1
{GG1 2
idGG2 4
}GG4 5
$strGG5 K
"GGK L
)GGL M
;GGM N
returnHH 
;HH 
}II 	
_userRepositoryKK 
.KK 

UpdateUserKK "
(KK" #
idKK# %
,KK% &
userDtoKK' .
)KK. /
;KK/ 0
varNN 
subjectNN 
=NN 
$strNN <
;NN< =
varOO 
bodyOO 
=OO 
$@"OO 
$strOT =
{TT= >
userDtoTT> E
.TTE F
UsernameTTF N
}TTN O
$strTbO 
"bb 
;bb 	
_emailServicecc 
.cc 
	SendEmailcc 
(cc  
userDtocc  '
.cc' (
Emailcc( -
,cc- .
subjectcc/ 6
,cc6 7
bodycc8 <
)cc< =
;cc= >
_loggeree 
.ee 
Infoee 
(ee 
$"ee 
$stree 5
{ee5 6
userDtoee6 =
.ee= >
Emailee> C
}eeC D
"eeD E
)eeE F
;eeF G
}ff 
publichh 

voidhh 

DeleteUserhh 
(hh 
inthh 
userIdhh %
)hh% &
{ii 
_loggerjj 
.jj 
Infojj 
(jj 
$"jj 
$strjj 6
{jj6 7
userIdjj7 =
}jj= >
"jj> ?
)jj? @
;jj@ A
varkk 
userkk 
=kk 
_userRepositorykk "
.kk" #
GetUserByIdkk# .
(kk. /
userIdkk/ 5
)kk5 6
;kk6 7
ifmm 

(mm 
usermm 
==mm 
nullmm 
)mm 
{nn 	
_loggeroo 
.oo 
Warnoo 
(oo 
$"oo 
$stroo 1
{oo1 2
userIdoo2 8
}oo8 9
$stroo9 Q
"ooQ R
)ooR S
;ooS T
returnpp 
;pp 
}qq 	
_userRepositoryss 
.ss 

DeleteUserss "
(ss" #
userIdss# )
)ss) *
;ss* +
varvv 
subjectvv 
=vv 
$strvv <
;vv< =
varww 
bodyww 
=ww 
$@"ww 
$strw| =
{||= >
user||> B
.||B C
Username||C K
}||K L
$str	|äL 
"
ää 
;
ää 	
_emailService
ãã 
.
ãã 
	SendEmail
ãã 
(
ãã  
user
ãã  $
.
ãã$ %
Email
ãã% *
,
ãã* +
subject
ãã, 3
,
ãã3 4
body
ãã5 9
)
ãã9 :
;
ãã: ;
_logger
çç 
.
çç 
Info
çç 
(
çç 
$"
çç 
$str
çç 7
{
çç7 8
user
çç8 <
.
çç< =
Email
çç= B
}
ççB C
"
ççC D
)
ççD E
;
ççE F
}
éé 
public
êê 

UserDTO
êê 
GetUserByUsername
êê $
(
êê$ %
string
êê% +
username
êê, 4
)
êê4 5
{
ëë 
_logger
íí 
.
íí 
Info
íí 
(
íí 
$"
íí 
$str
íí =
{
íí= >
username
íí> F
}
ííF G
"
ííG H
)
ííH I
;
ííI J
var
ìì 
user
ìì 
=
ìì 
_userRepository
ìì "
.
ìì" #
GetUserByUsername
ìì# 4
(
ìì4 5
username
ìì5 =
)
ìì= >
;
ìì> ?
if
îî 

(
îî 
user
îî 
==
îî 
null
îî 
)
îî 
return
îî  
null
îî! %
;
îî% &
return
ññ 
new
ññ 
UserDTO
ññ 
{
óó 	
UserID
òò 
=
òò 
user
òò 
.
òò 
UserID
òò  
,
òò  !
Username
ôô 
=
ôô 
user
ôô 
.
ôô 
Username
ôô $
,
ôô$ %
Email
öö 
=
öö 
user
öö 
.
öö 
Email
öö 
,
öö 
Password
õõ 
=
õõ 
user
õõ 
.
õõ 
Password
õõ $
,
õõ$ %
PhNo
úú 
=
úú 
user
úú 
.
úú 
PhNo
úú 
,
úú 
AddressLine
ùù 
=
ùù 
user
ùù 
.
ùù 
AddressLine
ùù *
,
ùù* +
City
ûû 
=
ûû 
user
ûû 
.
ûû 
City
ûû 
,
ûû 
State
üü 
=
üü 
user
üü 
.
üü 
State
üü 
,
üü 

PostalCode
†† 
=
†† 
user
†† 
.
†† 

PostalCode
†† (
,
††( )
Country
°° 
=
°° 
user
°° 
.
°° 
Country
°° "
,
°°" #
Role
¢¢ 
=
¢¢ 
user
¢¢ 
.
¢¢ 
Role
¢¢ 
,
¢¢ 
CreatedDate
££ 
=
££ 
user
££ 
.
££ 
CreatedDate
££ *
,
££* +
IsActive
§§ 
=
§§ 
user
§§ 
.
§§ 
IsActive
§§ $
}
•• 	
;
••	 

}
¶¶ 
public
®® 

UserDTO
®® 
GetUserByEmail
®® !
(
®®! "
string
®®" (
email
®®) .
)
®®. /
{
©© 
_logger
™™ 
.
™™ 
Info
™™ 
(
™™ 
$"
™™ 
$str
™™ :
{
™™: ;
email
™™; @
}
™™@ A
"
™™A B
)
™™B C
;
™™C D
var
´´ 
user
´´ 
=
´´ 
_userRepository
´´ "
.
´´" #
GetUserByEmail
´´# 1
(
´´1 2
email
´´2 7
)
´´7 8
;
´´8 9
if
¨¨ 

(
¨¨ 
user
¨¨ 
==
¨¨ 
null
¨¨ 
)
¨¨ 
return
¨¨  
null
¨¨! %
;
¨¨% &
return
ÆÆ 
new
ÆÆ 
UserDTO
ÆÆ 
{
ØØ 	
UserID
∞∞ 
=
∞∞ 
user
∞∞ 
.
∞∞ 
UserID
∞∞  
,
∞∞  !
Username
±± 
=
±± 
user
±± 
.
±± 
Username
±± $
,
±±$ %
Email
≤≤ 
=
≤≤ 
user
≤≤ 
.
≤≤ 
Email
≤≤ 
,
≤≤ 
Password
≥≥ 
=
≥≥ 
user
≥≥ 
.
≥≥ 
Password
≥≥ $
,
≥≥$ %
PhNo
¥¥ 
=
¥¥ 
user
¥¥ 
.
¥¥ 
PhNo
¥¥ 
,
¥¥ 
AddressLine
µµ 
=
µµ 
user
µµ 
.
µµ 
AddressLine
µµ *
,
µµ* +
City
∂∂ 
=
∂∂ 
user
∂∂ 
.
∂∂ 
City
∂∂ 
,
∂∂ 
State
∑∑ 
=
∑∑ 
user
∑∑ 
.
∑∑ 
State
∑∑ 
,
∑∑ 

PostalCode
∏∏ 
=
∏∏ 
user
∏∏ 
.
∏∏ 

PostalCode
∏∏ (
,
∏∏( )
Country
ππ 
=
ππ 
user
ππ 
.
ππ 
Country
ππ "
,
ππ" #
Role
∫∫ 
=
∫∫ 
user
∫∫ 
.
∫∫ 
Role
∫∫ 
,
∫∫ 
CreatedDate
ªª 
=
ªª 
user
ªª 
.
ªª 
CreatedDate
ªª *
,
ªª* +
IsActive
ºº 
=
ºº 
user
ºº 
.
ºº 
IsActive
ºº $
}
ΩΩ 	
;
ΩΩ	 

}
ææ 
public
¿¿ 

IEnumerable
¿¿ 
<
¿¿ 
FeedbackRatingDTO
¿¿ (
>
¿¿( )
GetUserReviews
¿¿* 8
(
¿¿8 9
int
¿¿9 <
userId
¿¿= C
)
¿¿C D
{
¡¡ 
_logger
¬¬ 
.
¬¬ 
Info
¬¬ 
(
¬¬ 
$"
¬¬ 
$str
¬¬ B
{
¬¬B C
userId
¬¬C I
}
¬¬I J
"
¬¬J K
)
¬¬K L
;
¬¬L M
var
√√ 
reviews
√√ 
=
√√ 
_userRepository
√√ %
.
√√% &
GetUserReviews
√√& 4
(
√√4 5
userId
√√5 ;
)
√√; <
;
√√< =
return
ƒƒ 
reviews
ƒƒ 
.
ƒƒ 
Select
ƒƒ 
(
ƒƒ 
fr
ƒƒ  
=>
ƒƒ! #
new
ƒƒ$ '
FeedbackRatingDTO
ƒƒ( 9
{
≈≈ 	
FeedbackRatingID
∆∆ 
=
∆∆ 
fr
∆∆ !
.
∆∆! "
FeedbackRatingID
∆∆" 2
,
∆∆2 3
UserID
«« 
=
«« 
fr
«« 
.
«« 
UserID
«« 
,
«« 
RestaurantID
»» 
=
»» 
fr
»» 
.
»» 
RestaurantID
»» *
,
»»* +
Message
…… 
=
…… 
fr
…… 
.
…… 
Message
……  
,
……  !
Rating
   
=
   
fr
   
.
   
Rating
   
,
   
CreatedDate
ÀÀ 
=
ÀÀ 
fr
ÀÀ 
.
ÀÀ 
CreatedDate
ÀÀ (
}
ÃÃ 	
)
ÃÃ	 

.
ÃÃ
 
ToList
ÃÃ 
(
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 
public
œœ 

IEnumerable
œœ 
<
œœ 
OrderDTO
œœ 
>
œœ  "
GetAllOrdersByUserId
œœ! 5
(
œœ5 6
int
œœ6 9
userId
œœ: @
)
œœ@ A
{
–– 
_logger
—— 
.
—— 
Info
—— 
(
—— 
$"
—— 
$str
—— E
{
——E F
userId
——F L
}
——L M
"
——M N
)
——N O
;
——O P
var
““ 
orders
““ 
=
““ 
_userRepository
““ $
.
““$ %"
GetAllOrdersByUserId
““% 9
(
““9 :
userId
““: @
)
““@ A
;
““A B
return
”” 
orders
”” 
.
”” 
Select
”” 
(
”” 
o
”” 
=>
”” !
new
””" %
OrderDTO
””& .
{
‘‘ 	
OrderID
’’ 
=
’’ 
o
’’ 
.
’’ 
OrderID
’’ 
,
’’  
UserID
÷÷ 
=
÷÷ 
o
÷÷ 
.
÷÷ 
UserID
÷÷ 
,
÷÷ 
RestaurantID
◊◊ 
=
◊◊ 
o
◊◊ 
.
◊◊ 
RestaurantID
◊◊ )
,
◊◊) *
	OrderDate
ÿÿ 
=
ÿÿ 
o
ÿÿ 
.
ÿÿ 
	OrderDate
ÿÿ #
,
ÿÿ# $
TotalAmount
ŸŸ 
=
ŸŸ 
o
ŸŸ 
.
ŸŸ 
TotalAmount
ŸŸ '
,
ŸŸ' (
OrderStatus
⁄⁄ 
=
⁄⁄ 
o
⁄⁄ 
.
⁄⁄ 
OrderStatus
⁄⁄ '
,
⁄⁄' (
PaymentStatus
€€ 
=
€€ 
o
€€ 
.
€€ 
PaymentStatus
€€ +
,
€€+ ,
DeliveryAddress
‹‹ 
=
‹‹ 
o
‹‹ 
.
‹‹  
DeliveryAddress
‹‹  /
,
‹‹/ 0
DeliveryDate
›› 
=
›› 
o
›› 
.
›› 
DeliveryDate
›› )
,
››) *
CreatedDate
ﬁﬁ 
=
ﬁﬁ 
o
ﬁﬁ 
.
ﬁﬁ 
CreatedDate
ﬁﬁ '
}
ﬂﬂ 	
)
ﬂﬂ	 

.
ﬂﬂ
 
ToList
ﬂﬂ 
(
ﬂﬂ 
)
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 
}·· §y
<D:\Hotpot\HotpotLibrary\Services\RestaurantServiceReports.cs
public		 
class		 $
RestaurantServiceReports		 %
:		& '.
"IRestaurantServiceReportsInterface		( J
{

 
private 
readonly 
AppDbContext !
_context" *
;* +
private 
static 
readonly 
ILog  
_logger! (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G$
RestaurantServiceReportsG _
)_ `
)` a
;a b
public 
$
RestaurantServiceReports #
(# $
AppDbContext$ 0
context1 8
)8 9
{ 
_context 
= 
context 
; 
} 
public 

void 
Login 
( 
string 
username %
,% &
string' -
password. 6
)6 7
{ 
_logger 
. 
Info 
( 
$" 
$str C
{C D
usernameD L
}L M
"M N
)N O
;O P
} 
public 

void 
Logout 
( 
) 
{ 
_logger 
. 
Info 
( 
$str 5
)5 6
;6 7
} 
public 

void 
CreateMenuItem 
( 
MenuItemDTO *
menuItemDto+ 6
)6 7
{   
_logger!! 
.!! 
Info!! 
(!! 
$"!! 
$str!! 8
{!!8 9
menuItemDto!!9 D
}!!D E
"!!E F
)!!F G
;!!G H
var"" 
menuItem"" 
="" 
new"" 
MenuItem"" #
{## 	
ItemName$$ 
=$$ 
menuItemDto$$ "
.$$" #
ItemName$$# +
,$$+ ,
Description%% 
=%% 
menuItemDto%% %
.%%% &
Description%%& 1
,%%1 2
Price&& 
=&& 
menuItemDto&& 
.&&  
Price&&  %
,&&% &
AvailabilityTime'' 
='' 
menuItemDto'' *
.''* +
AvailabilityTime''+ ;
,''; <
SpecialDietaryInfo(( 
=((  
menuItemDto((! ,
.((, -
SpecialDietaryInfo((- ?
,((? @
}** 	
;**	 

_context++ 
.++ 
	MenuItems++ 
.++ 
Add++ 
(++ 
menuItem++ '
)++' (
;++( )
_context,, 
.,, 
SaveChanges,, 
(,, 
),, 
;,, 
_logger-- 
.-- 
Info-- 
(-- 
$str-- 6
)--6 7
;--7 8
}.. 
public00 

void00 
UpdateMenuItem00 
(00 
MenuItemDTO00 *
menuItemDto00+ 6
)006 7
{11 
_logger22 
.22 
Info22 
(22 
$"22 
$str22 3
{223 4
menuItemDto224 ?
.22? @
MenuID22@ F
}22F G
"22G H
)22H I
;22I J
var33 
menuItem33 
=33 
_context33 
.33  
	MenuItems33  )
.33) *
Find33* .
(33. /
menuItemDto33/ :
.33: ;
MenuID33; A
)33A B
;33B C
if44 

(44 
menuItem44 
!=44 
null44 
)44 
{55 	
menuItem66 
.66 
ItemName66 
=66 
menuItemDto66  +
.66+ ,
ItemName66, 4
;664 5
menuItem77 
.77 
Description77  
=77! "
menuItemDto77# .
.77. /
Description77/ :
;77: ;
menuItem88 
.88 
Price88 
=88 
menuItemDto88 (
.88( )
Price88) .
;88. /
menuItem99 
.99 
AvailabilityTime99 %
=99& '
menuItemDto99( 3
.993 4
AvailabilityTime994 D
;99D E
menuItem:: 
.:: 
SpecialDietaryInfo:: '
=::( )
menuItemDto::* 5
.::5 6
SpecialDietaryInfo::6 H
;::H I
_context<< 
.<< 
SaveChanges<<  
(<<  !
)<<! "
;<<" #
_logger== 
.== 
Info== 
(== 
$str== :
)==: ;
;==; <
}>> 	
else?? 
{@@ 	
_loggerAA 
.AA 
WarnAA 
(AA 
$strAA /
)AA/ 0
;AA0 1
}BB 	
}CC 
publicEE 

voidEE 
DeleteMenuItemEE 
(EE 
intEE "

menuItemIdEE# -
)EE- .
{FF 
_loggerGG 
.GG 
InfoGG 
(GG 
$"GG 
$strGG 3
{GG3 4

menuItemIdGG4 >
}GG> ?
"GG? @
)GG@ A
;GGA B
varHH 
menuItemHH 
=HH 
_contextHH 
.HH  
	MenuItemsHH  )
.HH) *
FindHH* .
(HH. /

menuItemIdHH/ 9
)HH9 :
;HH: ;
ifII 

(II 
menuItemII 
!=II 
nullII 
)II 
{JJ 	
_contextKK 
.KK 
	MenuItemsKK 
.KK 
RemoveKK %
(KK% &
menuItemKK& .
)KK. /
;KK/ 0
_contextLL 
.LL 
SaveChangesLL  
(LL  !
)LL! "
;LL" #
_loggerMM 
.MM 
InfoMM 
(MM 
$strMM :
)MM: ;
;MM; <
}NN 	
elseOO 
{PP 	
_loggerQQ 
.QQ 
WarnQQ 
(QQ 
$strQQ /
)QQ/ 0
;QQ0 1
}RR 	
}SS 
publicUU 

voidUU "
MarkMenuItemOutOfStockUU &
(UU& '
intUU' *

menuItemIdUU+ 5
)UU5 6
{VV 
_loggerWW 
.WW 
InfoWW 
(WW 
$"WW 
$strWW 2
{WW2 3

menuItemIdWW3 =
}WW= >
$strWW> O
"WWO P
)WWP Q
;WWQ R
varXX 
menuItemXX 
=XX 
_contextXX 
.XX  
	MenuItemsXX  )
.XX) *
FindXX* .
(XX. /

menuItemIdXX/ 9
)XX9 :
;XX: ;
ifYY 

(YY 
menuItemYY 
!=YY 
nullYY 
)YY 
{ZZ 	
menuItem[[ 
.[[ 
	IsInStock[[ 
=[[  
false[[! &
;[[& '
_context\\ 
.\\ 
SaveChanges\\  
(\\  !
)\\! "
;\\" #
_logger]] 
.]] 
Info]] 
(]] 
$str]] <
)]]< =
;]]= >
}^^ 	
else__ 
{`` 	
_loggeraa 
.aa 
Warnaa 
(aa 
$straa /
)aa/ 0
;aa0 1
}bb 	
}cc 
publicee 

Listee 
<ee 
OrderDTOee 
>ee 
GetOngoingOrdersee *
(ee* +
intee+ .
restaurantIdee/ ;
)ee; <
{ff 
_loggergg 
.gg 
Infogg 
(gg 
$"gg 
$strgg D
{ggD E
restaurantIdggE Q
}ggQ R
"ggR S
)ggS T
;ggT U
varhh 
ordershh 
=hh 
_contexthh 
.hh 
Ordershh $
.ii 
Whereii 
(ii 
oii 
=>ii 
oii 
.ii 
RestaurantIDii &
==ii' )
restaurantIdii* 6
&&ii7 9
oii: ;
.ii; <
OrderStatusii< G
==iiH J
$striiK T
)iiT U
.jj 
Selectjj 
(jj 
ojj 
=>jj 
newjj 
OrderDTOjj %
{kk 
OrderIDll 
=ll 
oll 
.ll 
OrderIDll #
,ll# $
TotalAmountmm 
=mm 
omm 
.mm  
TotalAmountmm  +
,mm+ ,
	OrderDatenn 
=nn 
onn 
.nn 
	OrderDatenn '
,nn' (
OrderStatusoo 
=oo 
ooo 
.oo  
OrderStatusoo  +
}pp 
)pp 
.qq 
ToListqq 
(qq 
)qq 
;qq 
_loggerrr 
.rr 
Inforr 
(rr 
$strrr 0
)rr0 1
;rr1 2
returnss 
ordersss 
;ss 
}tt 
publicvv 

voidvv 
UpdateOrderStatusvv !
(vv! "
intvv" %
orderIdvv& -
,vv- .
stringvv/ 5
orderStatusvv6 A
)vvA B
{ww 
_loggerxx 
.xx 
Infoxx 
(xx 
$"xx 
$strxx 4
{xx4 5
orderIdxx5 <
}xx< =
$strxx= A
{xxA B
orderStatusxxB M
}xxM N
"xxN O
)xxO P
;xxP Q
varyy 
orderyy 
=yy 
_contextyy 
.yy 
Ordersyy #
.yy# $
Findyy$ (
(yy( )
orderIdyy) 0
)yy0 1
;yy1 2
ifzz 

(zz 
orderzz 
!=zz 
nullzz 
)zz 
{{{ 	
order|| 
.|| 
OrderStatus|| 
=|| 
orderStatus||  +
;||+ ,
_context}} 
.}} 
SaveChanges}}  
(}}  !
)}}! "
;}}" #
_logger~~ 
.~~ 
Info~~ 
(~~ 
$str~~ =
)~~= >
;~~> ?
} 	
else
ÄÄ 
{
ÅÅ 	
_logger
ÇÇ 
.
ÇÇ 
Warn
ÇÇ 
(
ÇÇ 
$str
ÇÇ +
)
ÇÇ+ ,
;
ÇÇ, -
}
ÉÉ 	
}
ÑÑ 
public
ÜÜ 

List
ÜÜ 
<
ÜÜ 
OrderDTO
ÜÜ 
>
ÜÜ 
GetOrderHistory
ÜÜ )
(
ÜÜ) *
int
ÜÜ* -
restaurantId
ÜÜ. :
)
ÜÜ: ;
{
áá 
_logger
àà 
.
àà 
Info
àà 
(
àà 
$"
àà 
$str
àà C
{
ààC D
restaurantId
ààD P
}
ààP Q
"
ààQ R
)
ààR S
;
ààS T
var
ââ 
orders
ââ 
=
ââ 
_context
ââ 
.
ââ 
Orders
ââ $
.
ää 
Where
ää 
(
ää 
o
ää 
=>
ää 
o
ää 
.
ää 
RestaurantID
ää &
==
ää' )
restaurantId
ää* 6
)
ää6 7
.
ãã 
Select
ãã 
(
ãã 
o
ãã 
=>
ãã 
new
ãã 
OrderDTO
ãã %
{
åå 
OrderID
çç 
=
çç 
o
çç 
.
çç 
OrderID
çç #
,
çç# $
TotalAmount
éé 
=
éé 
o
éé 
.
éé  
TotalAmount
éé  +
,
éé+ ,
	OrderDate
èè 
=
èè 
o
èè 
.
èè 
	OrderDate
èè '
,
èè' (
OrderStatus
êê 
=
êê 
o
êê 
.
êê  
OrderStatus
êê  +
}
ëë 
)
ëë 
.
íí 
ToList
íí 
(
íí 
)
íí 
;
íí 
_logger
ìì 
.
ìì 
Info
ìì 
(
ìì 
$str
ìì /
)
ìì/ 0
;
ìì0 1
return
îî 
orders
îî 
;
îî 
}
ïï 
public
óó 

List
óó 
<
óó 
MenuItemDTO
óó 
>
óó 
GetMenuItems
óó )
(
óó) *
int
óó* -
restaurantId
óó. :
)
óó: ;
{
òò 
_logger
ôô 
.
ôô 
Info
ôô 
(
ôô 
$"
ôô 
$str
ôô @
{
ôô@ A
restaurantId
ôôA M
}
ôôM N
"
ôôN O
)
ôôO P
;
ôôP Q
var
úú 
menuIds
úú 
=
úú 
_context
úú 
.
úú 
Menus
úú $
.
ùù 
Where
ùù 
(
ùù 
menu
ùù 
=>
ùù 
menu
ùù 
.
ùù  
RestaurantID
ùù  ,
==
ùù- /
restaurantId
ùù0 <
)
ùù< =
.
ûû 
Select
ûû 
(
ûû 
menu
ûû 
=>
ûû 
menu
ûû  
.
ûû  !
MenuID
ûû! '
)
ûû' (
.
üü 
ToList
üü 
(
üü 
)
üü 
;
üü 
if
°° 

(
°° 
!
°° 
menuIds
°° 
.
°° 
Any
°° 
(
°° 
)
°° 
)
°° 
{
¢¢ 	
_logger
££ 
.
££ 
Info
££ 
(
££ 
$str
££ F
)
££F G
;
££G H
return
§§ 
new
§§ 
List
§§ 
<
§§ 
MenuItemDTO
§§ '
>
§§' (
(
§§( )
)
§§) *
;
§§* +
}
•• 	
var
®® 
	menuItems
®® 
=
®® 
_context
®®  
.
®®  !
	MenuItems
®®! *
.
©© 
Where
©© 
(
©© 
menuItem
©© 
=>
©© 
menuIds
©© &
.
©©& '
Contains
©©' /
(
©©/ 0
menuItem
©©0 8
.
©©8 9
MenuID
©©9 ?
)
©©? @
)
©©@ A
.
™™ 
Select
™™ 
(
™™ 
menuItem
™™ 
=>
™™ 
new
™™  #
MenuItemDTO
™™$ /
{
´´ 

MenuItemID
¨¨ 
=
¨¨ 
menuItem
¨¨ %
.
¨¨% &

MenuItemID
¨¨& 0
,
¨¨0 1
ItemName
≠≠ 
=
≠≠ 
menuItem
≠≠ #
.
≠≠# $
ItemName
≠≠$ ,
,
≠≠, -
Description
ÆÆ 
=
ÆÆ 
menuItem
ÆÆ &
.
ÆÆ& '
Description
ÆÆ' 2
,
ÆÆ2 3
Price
ØØ 
=
ØØ 
menuItem
ØØ  
.
ØØ  !
Price
ØØ! &
,
ØØ& '
AvailabilityTime
∞∞  
=
∞∞! "
menuItem
∞∞# +
.
∞∞+ ,
AvailabilityTime
∞∞, <
,
∞∞< = 
SpecialDietaryInfo
±± "
=
±±# $
menuItem
±±% -
.
±±- . 
SpecialDietaryInfo
±±. @
,
±±@ A
}
¥¥ 
)
¥¥ 
.
µµ 
ToList
µµ 
(
µµ 
)
µµ 
;
µµ 
_logger
∑∑ 
.
∑∑ 
Info
∑∑ 
(
∑∑ 
$str
∑∑ ,
)
∑∑, -
;
∑∑- .
return
∏∏ 
	menuItems
∏∏ 
;
∏∏ 
}
ππ 
}∫∫ ØV
5D:\Hotpot\HotpotLibrary\Services\RestaurantService.cs
public 
class 
RestaurantService 
{		 
private

 
readonly

 !
IRestaurantRepository

 *!
_restaurantRepository

+ @
;

@ A
private 
readonly 
IEmailService "
_emailService# 0
;0 1
private 
static 
readonly 
ILog  
_logger! (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G
RestaurantServiceG X
)X Y
)Y Z
;Z [
public 

RestaurantService 
( !
IRestaurantRepository 2 
restaurantRepository3 G
,G H
IEmailServiceI V
emailServiceW c
)c d
{ !
_restaurantRepository 
=  
restaurantRepository  4
;4 5
_emailService 
= 
emailService $
;$ %
} 
public 

IEnumerable 
< 
RestaurantDTO $
>$ %
GetAllRestaurants& 7
(7 8
)8 9
{ 
_logger 
. 
Info 
( 
$str 9
)9 :
;: ;
return !
_restaurantRepository $
.$ %
GetAllRestaurants% 6
(6 7
)7 8
;8 9
} 
public 

RestaurantDTO 
GetRestaurantById *
(* +
int+ .
restaurantId/ ;
); <
{ 
_logger 
. 
Info 
( 
$" 
$str <
{< =
restaurantId= I
}I J
$strJ K
"K L
)L M
;M N
return !
_restaurantRepository $
.$ %
GetRestaurantById% 6
(6 7
restaurantId7 C
)C D
;D E
} 
public   

void   
CreateRestaurant    
(    !
RestaurantDTO  ! .
restaurantDto  / <
)  < =
{!! 
if"" 

("" 
restaurantDto"" 
=="" 
null"" !
)""! "
{## 	
throw$$ 
new$$ !
ArgumentNullException$$ +
($$+ ,
nameof$$, 2
($$2 3
restaurantDto$$3 @
)$$@ A
,$$A B
$str$$C b
)$$b c
;$$c d
}%% 	
_logger'' 
.'' 
Info'' 
('' 
$"'' 
$str'' ?
{''? @
restaurantDto''@ M
.''M N
Name''N R
}''R S
"''S T
)''T U
;''U V!
_restaurantRepository(( 
.(( 
CreateRestaurant(( .
(((. /
restaurantDto((/ <
)((< =
;((= >
var++ 
subject++ 
=++ 
$str++ *
;++* +
var,, 
body,, 
=,, 
$@",, 
$str,1 =
{11= >
restaurantDto11> K
.11K L
Name11L P
}11P Q
$str1?Q 
"?? 
;?? 	
_emailService@@ 
.@@ 
	SendEmail@@ 
(@@  
restaurantDto@@  -
.@@- .
Email@@. 3
,@@3 4
subject@@5 <
,@@< =
body@@> B
)@@B C
;@@C D
_loggerBB 
.BB 
InfoBB 
(BB 
$"BB 
$strBB ;
{BB; <
restaurantDtoBB< I
.BBI J
EmailBBJ O
}BBO P
"BBP Q
)BBQ R
;BBR S
}CC 
publicEE 

voidEE 
UpdateRestaurantEE  
(EE  !
intEE! $
idEE% '
,EE' (
RestaurantDTOEE) 6
restaurantDtoEE7 D
)EED E
{FF 
ifGG 

(GG 
restaurantDtoGG 
==GG 
nullGG !
)GG! "
{HH 	
throwII 
newII !
ArgumentNullExceptionII +
(II+ ,
nameofII, 2
(II2 3
restaurantDtoII3 @
)II@ A
,IIA B
$strIIC b
)IIb c
;IIc d
}JJ 	
_loggerLL 
.LL 
InfoLL 
(LL 
$"LL 
$strLL <
{LL< =
restaurantDtoLL= J
.LLJ K
RestaurantIDLLK W
}LLW X
"LLX Y
)LLY Z
;LLZ [
varMM 
existingRestaurantMM 
=MM  !
_restaurantRepositoryMM! 6
.MM6 7
GetRestaurantByIdMM7 H
(MMH I
idMMI K
)MMK L
;MML M
ifOO 

(OO 
existingRestaurantOO 
==OO !
nullOO" &
)OO& '
{PP 	
_loggerQQ 
.QQ 
WarnQQ 
(QQ 
$"QQ 
$strQQ 7
{QQ7 8
idQQ8 :
}QQ: ;
$strQQ; Q
"QQQ R
)QQR S
;QQS T
returnRR 
;RR 
}SS 	!
_restaurantRepositoryUU 
.UU 
UpdateRestaurantUU .
(UU. /
idUU/ 1
,UU1 2
restaurantDtoUU3 @
)UU@ A
;UUA B
varXX 
subjectXX 
=XX 
$strXX H
;XXH I
varYY 
bodyYY 
=YY 
$@"YY 
$strY^ =
{^^= >
restaurantDto^^> K
.^^K L
Name^^L P
}^^P Q
$str^lQ 
"ll 
;ll 	
_emailServicemm 
.mm 
	SendEmailmm 
(mm  
restaurantDtomm  -
.mm- .
Emailmm. 3
,mm3 4
subjectmm5 <
,mm< =
bodymm> B
)mmB C
;mmC D
_loggeroo 
.oo 
Infooo 
(oo 
$"oo 
$stroo 5
{oo5 6
restaurantDtooo6 C
.ooC D
EmailooD I
}ooI J
"ooJ K
)ooK L
;ooL M
}pp 
publicrr 

voidrr 
DeleteRestaurantrr  
(rr  !
intrr! $
restaurantIdrr% 1
)rr1 2
{ss 
_loggertt 
.tt 
Infott 
(tt 
$"tt 
$strtt <
{tt< =
restaurantIdtt= I
}ttI J
"ttJ K
)ttK L
;ttL M
varuu 

restaurantuu 
=uu !
_restaurantRepositoryuu .
.uu. /
GetRestaurantByIduu/ @
(uu@ A
restaurantIduuA M
)uuM N
;uuN O
ifww 

(ww 

restaurantww 
==ww 
nullww 
)ww 
{xx 	
_loggeryy 
.yy 
Warnyy 
(yy 
$"yy 
$stryy 7
{yy7 8
restaurantIdyy8 D
}yyD E
$stryyE ]
"yy] ^
)yy^ _
;yy_ `
returnzz 
;zz 
}{{ 	!
_restaurantRepository}} 
.}} 
DeleteRestaurant}} .
(}}. /
restaurantId}}/ ;
)}}; <
;}}< =
var
ÄÄ 
subject
ÄÄ 
=
ÄÄ 
$str
ÄÄ ?
;
ÄÄ? @
var
ÅÅ 
body
ÅÅ 
=
ÅÅ 
$@"
ÅÅ 
$str
ÅÜ =
{
ÜÜ= >

restaurant
ÜÜ> H
.
ÜÜH I
Name
ÜÜI M
}
ÜÜM N
$str
ÜîN 
"
îî 
;
îî 	
_emailService
ïï 
.
ïï 
	SendEmail
ïï 
(
ïï  

restaurant
ïï  *
.
ïï* +
Email
ïï+ 0
,
ïï0 1
subject
ïï2 9
,
ïï9 :
body
ïï; ?
)
ïï? @
;
ïï@ A
_logger
óó 
.
óó 
Info
óó 
(
óó 
$"
óó 
$str
óó 7
{
óó7 8

restaurant
óó8 B
.
óóB C
Email
óóC H
}
óóH I
"
óóI J
)
óóJ K
;
óóK L
}
òò 
public
öö 

RestaurantDTO
öö ,
GetRestaurantByNameAndLocation
öö 7
(
öö7 8
string
öö8 >
name
öö? C
,
ööC D
string
ööE K
location
ööL T
)
ööT U
{
õõ 
_logger
úú 
.
úú 
Info
úú 
(
úú 
$"
úú 
$str
úú >
{
úú> ?
name
úú? C
}
úúC D
$str
úúD R
{
úúR S
location
úúS [
}
úú[ \
$str
úú\ ]
"
úú] ^
)
úú^ _
;
úú_ `
return
ùù #
_restaurantRepository
ùù $
.
ùù$ %,
GetRestaurantByNameAndLocation
ùù% C
(
ùùC D
name
ùùD H
,
ùùH I
location
ùùJ R
)
ùùR S
;
ùùS T
}
ûû 
public
†† 

int
†† #
GetRestaurantIdByName
†† $
(
††$ %
string
††% +
restaurantName
††, :
)
††: ;
{
°° 
_logger
¢¢ 
.
¢¢ 
Info
¢¢ 
(
¢¢ 
$"
¢¢ 
$str
¢¢ A
{
¢¢A B
restaurantName
¢¢B P
}
¢¢P Q
$str
¢¢Q R
"
¢¢R S
)
¢¢S T
;
¢¢T U
return
££ #
_restaurantRepository
££ $
.
££$ %#
GetRestaurantIdByName
££% :
(
££: ;
restaurantName
££; I
)
££I J
;
££J K
}
§§ 
public
ßß 

RestaurantDTO
ßß "
GetRestaurantByEmail
ßß -
(
ßß- .
string
ßß. 4
email
ßß5 :
)
ßß: ;
{
®® 
_logger
©© 
.
©© 
Info
©© 
(
©© 
$"
©© 
$str
©© ?
{
©©? @
email
©©@ E
}
©©E F
$str
©©F G
"
©©G H
)
©©H I
;
©©I J
return
™™ #
_restaurantRepository
™™ $
.
™™$ %"
GetRestaurantByEmail
™™% 9
(
™™9 :
email
™™: ?
)
™™? @
;
™™@ A
}
´´ 
public
≠≠ 

IEnumerable
≠≠ 
<
≠≠ 
RestaurantDTO
≠≠ $
>
≠≠$ %%
GetAllRestaurantsByCity
≠≠& =
(
≠≠= >
string
≠≠> D
city
≠≠E I
)
≠≠I J
{
ÆÆ 
_logger
ØØ 
.
ØØ 
Info
ØØ 
(
ØØ 
$"
ØØ 
$str
ØØ A
{
ØØA B
city
ØØB F
}
ØØF G
$str
ØØG H
"
ØØH I
)
ØØI J
;
ØØJ K
return
∞∞ #
_restaurantRepository
∞∞ $
.
∞∞$ %%
GetAllRestaurantsByCity
∞∞% <
(
∞∞< =
city
∞∞= A
)
∞∞A B
;
∞∞B C
}
±± 
}≤≤ —
=D:\Hotpot\HotpotLibrary\Services\RestaurantMenuItemService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public		 

class		 %
RestaurantMenuItemService		 *
{

 
private 
readonly 
IRestaurantMenuItem ,)
_restaurantMenuItemRepository- J
;J K
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K%
RestaurantMenuItemServiceK d
)d e
)e f
;f g
public %
RestaurantMenuItemService (
(( )
IRestaurantMenuItem) <(
restaurantMenuItemRepository= Y
)Y Z
{ 	)
_restaurantMenuItemRepository )
=* +(
restaurantMenuItemRepository, H
;H I
} 	
public 
IEnumerable 
< 
RestaurantMenuItem -
>- .&
GetRestaurantsWithMenuItem/ I
(I J
stringJ P
menuItemNameQ ]
)] ^
{ 	
try 
{ 
_logger 
. 
Info 
( 
$" 
$str D
{D E
menuItemNameE Q
}Q R
"R S
)S T
;T U
var 
restaurants 
=  !)
_restaurantMenuItemRepository" ?
.? @&
GetRestaurantsWithMenuItem@ Z
(Z [
menuItemName[ g
)g h
;h i
return 
restaurants "
;" #
} 
catch   
(   
	Exception   
ex   
)    
{!! 
_logger"" 
."" 
Error"" 
("" 
$str"" J
,""J K
ex""L N
)""N O
;""O P
throw## 
;## 
}$$ 
}%% 	
}&& 
}'' •.
2D:\Hotpot\HotpotLibrary\Services\ReportsService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public 

class 
ReportsService 
:  !
IReportsService" 1
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
ReportsService 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< !
OrderStatisticsReport /
>/ 0#
GetOrderStatisticsAsync1 H
(H I
)I J
{ 	
return 
new !
OrderStatisticsReport ,
{ 
Received 
= 
await  
_context! )
.) *
Orders* 0
.0 1

CountAsync1 ;
(; <
)< =
,= >
	Delivered 
= 
await !
_context" *
.* +
Orders+ 1
.1 2

CountAsync2 <
(< =
o= >
=>? A
oB C
.C D
OrderStatusD O
==P R
$strS ^
)^ _
,_ `
	Cancelled 
= 
await !
_context" *
.* +
Orders+ 1
.1 2

CountAsync2 <
(< =
o= >
=>? A
oB C
.C D
OrderStatusD O
==P R
$strS ^
)^ _
,_ `

Processing 
= 
await "
_context# +
.+ ,
Orders, 2
.2 3

CountAsync3 =
(= >
o> ?
=>@ B
oC D
.D E
OrderStatusE P
==Q S
$strT _
)_ `
,` a
Ontheway 
= 
await  
_context! )
.) *
Orders* 0
.0 1

CountAsync1 ;
(; <
o< =
=>> @
oA B
.B C
OrderStatusC N
==O Q
$strR ^
)^ _
,_ `
	Confirmed   
=   
await   !
_context  " *
.  * +
Orders  + 1
.  1 2

CountAsync  2 <
(  < =
o  = >
=>  ? A
o  B C
.  C D
OrderStatus  D O
==  P R
$str  S ^
)  ^ _
,  _ `
}## 
;## 
}$$ 	
public&& 
async&& 
Task&& 
<&& &
RestaurantStatisticsReport&& 4
>&&4 5(
GetRestaurantStatisticsAsync&&6 R
(&&R S
)&&S T
{'' 	
return(( 
new(( &
RestaurantStatisticsReport(( 1
{)) 
ActiveRestaurants** !
=**" #
await**$ )
_context*** 2
.**2 3
Restaurants**3 >
.**> ?

CountAsync**? I
(**I J
r**J K
=>**L N
r**O P
.**P Q
IsActive**Q Y
)**Y Z
,**Z [
InactiveRestaurants++ #
=++$ %
await++& +
_context++, 4
.++4 5
Restaurants++5 @
.++@ A

CountAsync++A K
(++K L
r++L M
=>++N P
!++Q R
r++R S
.++S T
IsActive++T \
)++\ ]
},, 
;,, 
}-- 	
public// 
async// 
Task// 
<//  
UserStatisticsReport// .
>//. /"
GetUserStatisticsAsync//0 F
(//F G
)//G H
{00 	
return11 
new11  
UserStatisticsReport11 +
{22 
ActiveUsers33 
=33 
await33 #
_context33$ ,
.33, -
Users33- 2
.332 3

CountAsync333 =
(33= >
u33> ?
=>33@ B
u33C D
.33D E
IsActive33E M
)33M N
,33N O
InactiveUsers44 
=44 
await44  %
_context44& .
.44. /
Users44/ 4
.444 5

CountAsync445 ?
(44? @
u44@ A
=>44B D
!44E F
u44F G
.44G H
IsActive44H P
)44P Q
}55 
;55 
}66 	
publicAA 
asyncAA 
TaskAA 
<AA #
PaymentStatisticsReportAA 1
>AA1 2%
GetPaymentStatisticsAsyncAA3 L
(AAL M
)AAM N
{BB 	
returnCC 
newCC #
PaymentStatisticsReportCC .
{DD 
CompletedPaymentsEE !
=EE" #
awaitEE$ )
_contextEE* 2
.EE2 3
PaymentsEE3 ;
.EE; <

CountAsyncEE< F
(EEF G
pEEG H
=>EEI K
pEEL M
.EEM N
TransactionStatusEEN _
==EE` b
$strEEc n
)EEn o
,EEo p
FailedPaymentsFF 
=FF  
awaitFF! &
_contextFF' /
.FF/ 0
PaymentsFF0 8
.FF8 9

CountAsyncFF9 C
(FFC D
pFFD E
=>FFF H
pFFI J
.FFJ K
TransactionStatusFFK \
==FF] _
$strFF` h
)FFh i
,FFi j
PendingPaymentsGG 
=GG  !
awaitGG" '
_contextGG( 0
.GG0 1
PaymentsGG1 9
.GG9 :

CountAsyncGG: D
(GGD E
pGGE F
=>GGG I
pGGJ K
.GGK L
TransactionStatusGGL ]
==GG^ `
$strGGa j
)GGj k
}HH 
;HH 
}II 	
}KK 
}LL ‘)
1D:\Hotpot\HotpotLibrary\Services\ReportService.cs
	namespace 	
HotpotLibrary
 
. 
Service 
{ 
public 

class 
ReportService 
{ 
private		 
readonly		 
IReportRepository		 *
_reportRepository		+ <
;		< =
public 
ReportService 
( 
IReportRepository .
reportRepository/ ?
)? @
{ 	
_reportRepository 
= 
reportRepository  0
;0 1
} 	
public 
List 
< 
MenuItem 
> #
GetVegItemsByRestaurant 5
(5 6
int6 9
restaurantId: F
)F G
{ 	
return 
_reportRepository $
.$ %#
GetVegItemsByRestaurant% <
(< =
restaurantId= I
)I J
;J K
} 	
public 
List 
< 
MenuItem 
> &
GetNonVegItemsByRestaurant 8
(8 9
int9 <
restaurantId= I
)I J
{ 	
return 
_reportRepository $
.$ %&
GetNonVegItemsByRestaurant% ?
(? @
restaurantId@ L
)L M
;M N
} 	
public 
int )
GetTotalMenuItemsByRestaurant 0
(0 1
int1 4
restaurantId5 A
)A B
{ 	
return 
_reportRepository $
.$ %)
GetTotalMenuItemsByRestaurant% B
(B C
restaurantIdC O
)O P
;P Q
} 	
public 
int *
GetTotalCategoriesByRestaurant 1
(1 2
int2 5
restaurantId6 B
)B C
{   	
var"" 
totalCategories"" 
=""  !
_reportRepository""" 3
.""3 4*
GetTotalCategoriesByRestaurant""4 R
(""R S
restaurantId""S _
)""_ `
;""` a
return%% 
totalCategories%% "
;%%" #
}&& 	
public)) 
int)) &
GetTotalOrdersByRestaurant)) -
())- .
int)). 1
restaurantId))2 >
)))> ?
{** 	
return++ 
_reportRepository++ $
.++$ %&
GetTotalOrdersByRestaurant++% ?
(++? @
restaurantId++@ L
)++L M
;++M N
},, 	
public.. 
decimal.. '
GetTotalRevenueByRestaurant.. 2
(..2 3
int..3 6
restaurantId..7 C
)..C D
{// 	
return00 
_reportRepository00 $
.00$ %'
GetTotalRevenueByRestaurant00% @
(00@ A
restaurantId00A M
)00M N
;00N O
}11 	
public33 
decimal33 "
GetRevenueByRestaurant33 -
(33- .
int33. 1
restaurantId332 >
,33> ?
string33@ F
period33G M
)33M N
{44 	
return55 
_reportRepository55 $
.55$ %"
GetRevenueByRestaurant55% ;
(55; <
restaurantId55< H
,55H I
period55J P
)55P Q
;55Q R
}66 	
public88 
decimal88 ,
 GetAverageOrderValueByRestaurant88 7
(887 8
int888 ;
restaurantId88< H
)88H I
{99 	
return:: 
_reportRepository:: $
.::$ %,
 GetAverageOrderValueByRestaurant::% E
(::E F
restaurantId::F R
)::R S
;::S T
};; 	
public== 
List== 
<== 
MenuItem== 
>== *
GetTopSellingItemsByRestaurant== <
(==< =
int=== @
restaurantId==A M
,==M N
int==O R
topN==S W
)==W X
{>> 	
return?? 
_reportRepository?? $
.??$ %*
GetTopSellingItemsByRestaurant??% C
(??C D
restaurantId??D P
,??P Q
topN??R V
)??V W
;??W X
}@@ 	
publicBB 
ListBB 
<BB 
MenuItemBB 
>BB ,
 GetLeastSellingItemsByRestaurantBB >
(BB> ?
intBB? B
restaurantIdBBC O
,BBO P
intBBQ T
bottomNBBU \
)BB\ ]
{CC 	
returnDD 
_reportRepositoryDD $
.DD$ %,
 GetLeastSellingItemsByRestaurantDD% E
(DDE F
restaurantIdDDF R
,DDR S
bottomNDDT [
)DD[ \
;DD\ ]
}EE 	
publicGG 
ListGG 
<GG 
UserGG 
>GG '
GetRegularUsersByRestaurantGG 5
(GG5 6
intGG6 9
restaurantIdGG: F
,GGF G
intGGH K
	minOrdersGGL U
)GGU V
{HH 	
returnII 
_reportRepositoryII $
.II$ %'
GetRegularUsersByRestaurantII% @
(II@ A
restaurantIdIIA M
,IIM N
	minOrdersIIO X
)IIX Y
;IIY Z
}JJ 	
}KK 
}LL °$
2D:\Hotpot\HotpotLibrary\Services\PaymentService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public 

class 
PaymentsService  
{		 
private

 
readonly

 
IPaymentInterface

 *
_paymentsRepository

+ >
;

> ?
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K
PaymentsServiceK Z
)Z [
)[ \
;\ ]
public 
PaymentsService 
( 
IPaymentInterface 0
paymentsRepository1 C
)C D
{ 	
_paymentsRepository 
=  !
paymentsRepository" 4
;4 5
} 	
public 

PaymentDTO 
GetPaymentById (
(( )
int) ,
id- /
)/ 0
{ 	
_logger 
. 
Info 
( 
$" 
$str 4
{4 5
id5 7
}7 8
$str8 9
"9 :
): ;
;; <
return 
_paymentsRepository &
.& '
GetPaymentById' 5
(5 6
id6 8
)8 9
;9 :
} 	
public 
IEnumerable 
< 

PaymentDTO %
>% &
GetAllPayments' 5
(5 6
)6 7
{ 	
_logger 
. 
Info 
( 
$str 1
)1 2
;2 3
return 
_paymentsRepository &
.& '
GetAllPayments' 5
(5 6
)6 7
;7 8
} 	
public 
void 
CreatePayment !
(! "

PaymentDTO" ,

paymentDto- 7
)7 8
{ 	
if   
(   

paymentDto   
==   
null   "
)  " #
{!! 
throw"" 
new"" !
ArgumentNullException"" /
(""/ 0
nameof""0 6
(""6 7

paymentDto""7 A
)""A B
,""B C
$str""D `
)""` a
;""a b
}## 
_logger$$ 
.$$ 
Info$$ 
($$ 
$"$$ 
$str$$ 4
{$$4 5

paymentDto$$5 ?
.$$? @
	PaymentID$$@ I
}$$I J
$str$$J K
"$$K L
)$$L M
;$$M N
_paymentsRepository%% 
.%%  
CreatePayment%%  -
(%%- .

paymentDto%%. 8
)%%8 9
;%%9 :
}&& 	
public(( 
void(( 
UpdatePayment(( !
(((! "
int((" %
id((& (
,((( )

PaymentDTO((* 4

paymentDto((5 ?
)((? @
{)) 	
if** 
(** 

paymentDto** 
==** 
null** "
)**" #
{++ 
throw,, 
new,, !
ArgumentNullException,, /
(,,/ 0
nameof,,0 6
(,,6 7

paymentDto,,7 A
),,A B
,,,B C
$str,,D `
),,` a
;,,a b
}-- 
_logger.. 
... 
Info.. 
(.. 
$".. 
$str.. 4
{..4 5
id..5 7
}..7 8
$str..8 9
"..9 :
)..: ;
;..; <
_paymentsRepository// 
.//  
UpdatePayment//  -
(//- .
id//. 0
,//0 1

paymentDto//2 <
)//< =
;//= >
}00 	
public22 
void22 
DeletePayment22 !
(22! "
int22" %
id22& (
)22( )
{33 	
_logger44 
.44 
Info44 
(44 
$"44 
$str44 4
{444 5
id445 7
}447 8
$str448 9
"449 :
)44: ;
;44; <
_paymentsRepository55 
.55  
DeletePayment55  -
(55- .
id55. 0
)550 1
;551 2
}66 	
public88 
void88 
CreatePayment88 !
(88! "
Payment88" )

paymentDto88* 4
)884 5
{99 	
throw:: 
new:: #
NotImplementedException:: -
(::- .
$str::. O
)::O P
;::P Q
};; 	
}<< 
}== Ùv
0D:\Hotpot\HotpotLibrary\Services\OrderService.cs
	namespace		 	
HotpotLibrary		
 
.		 
Services		  
{

 
public 

class 
OrderService 
{ 
private 
readonly 
IOrderInterface (
_orderRepository) 9
;9 :
private 
readonly 
IUserRepository (
_userRepository) 8
;8 9
private 
readonly 
IEmailService &
_emailService' 4
;4 5
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K
OrderServiceK W
)W X
)X Y
;Y Z
public 
OrderService 
( 
IOrderInterface +
orderRepository, ;
,; <
IUserRepository= L
userRepositoryM [
,[ \
IEmailService] j
emailServicek w
)w x
{ 	
_orderRepository 
= 
orderRepository .
;. /
_userRepository 
= 
userRepository ,
;, -
_emailService 
= 
emailService (
;( )
} 	
public 
OrderDTO 
GetOrderById $
($ %
int% (
id) +
)+ ,
{ 	
_logger 
. 
Info 
( 
$" 
$str 2
{2 3
id3 5
}5 6
$str6 7
"7 8
)8 9
;9 :
return 
_orderRepository #
.# $
GetOrderById$ 0
(0 1
id1 3
)3 4
;4 5
} 	
public   
List   
<   
OrderDTO   
>   
GetOrdersByUserId   /
(  / 0
int  0 3
userId  4 :
)  : ;
{!! 	
_logger"" 
."" 
Info"" 
("" 
$""" 
$str"" <
{""< =
userId""= C
}""C D
$str""D E
"""E F
)""F G
;""G H
return## 
_orderRepository## #
.### $
GetOrdersByUserId##$ 5
(##5 6
userId##6 <
)##< =
;##= >
}$$ 	
public&& 
List&& 
<&& 
OrderDTO&& 
>&& #
GetOrdersByRestaurantId&& 5
(&&5 6
int&&6 9
restaurantId&&: F
)&&F G
{'' 	
_logger(( 
.(( 
Info(( 
((( 
$"(( 
$str(( B
{((B C
restaurantId((C O
}((O P
$str((P Q
"((Q R
)((R S
;((S T
return)) 
_orderRepository)) #
.))# $#
GetOrdersByRestaurantId))$ ;
()); <
restaurantId))< H
)))H I
;))I J
}** 	
public++ 
void++ 
UpdateOrderStatus++ %
(++% &
int++& )
orderId++* 1
,++1 2
string++3 9
status++: @
)++@ A
{,, 	
_logger-- 
.-- 
Info-- 
(-- 
$"-- 
$str-- <
{--< =
orderId--= D
}--D E
$str--E I
{--I J
status--J P
}--P Q
$str--Q R
"--R S
)--S T
;--T U
var// 
order// 
=// 
_orderRepository// (
.//( )
GetOrderById//) 5
(//5 6
orderId//6 =
)//= >
;//> ?
if00 
(00 
order00 
==00 
null00 
)00 
{11 
_logger22 
.22 
Warn22 
(22 
$"22 
$str22 -
{22- .
orderId22. 5
}225 6
$str226 A
"22A B
)22B C
;22C D
return33 
;33 
}44 
_orderRepository77 
.77 
UpdateOrderStatus77 .
(77. /
orderId77/ 6
,776 7
status778 >
)77> ?
;77? @
var:: 
user:: 
=:: 
_userRepository:: &
.::& '
GetUserById::' 2
(::2 3
order::3 8
.::8 9
UserID::9 ?
)::? @
;::@ A
if;; 
(;; 
user;; 
==;; 
null;; 
);; 
{<< 
_logger== 
.== 
Warn== 
(== 
$"== 
$str== ,
{==, -
order==- 2
.==2 3
UserID==3 9
}==9 :
$str==: l
"==l m
)==m n
;==n o
return>> 
;>> 
}?? 
varBB 
subjectBB 
=BB 
$strBB /
;BB/ 0
varCC 
bodyCC 
=CC 
$@"CC 
$strCH =
{HH= >
userHH> B
.HHB C
UsernameHHC K
}HHK L
$strHKL '
{KK' (
orderIdKK( /
}KK/ 0
$strKK0 W
{KKW X
statusKKX ^
}KK^ _
$strKY_ 
"YY 
;YY 	
_emailServiceZZ 
.ZZ 
	SendEmailZZ #
(ZZ# $
userZZ$ (
.ZZ( )
EmailZZ) .
,ZZ. /
subjectZZ0 7
,ZZ7 8
bodyZZ9 =
)ZZ= >
;ZZ> ?
_logger\\ 
.\\ 
Info\\ 
(\\ 
$"\\ 
$str\\ =
{\\= >
user\\> B
.\\B C
Email\\C H
}\\H I
"\\I J
)\\J K
;\\K L
}]] 	
publicaa 
IEnumerableaa 
<aa 
OrderDTOaa #
>aa# $
GetAllOrdersaa% 1
(aa1 2
)aa2 3
{bb 	
_loggercc 
.cc 
Infocc 
(cc 
$strcc /
)cc/ 0
;cc0 1
returndd 
_orderRepositorydd #
.dd# $
GetAllOrdersdd$ 0
(dd0 1
)dd1 2
;dd2 3
}ee 	
publichh 
voidhh 
CreateOrderhh 
(hh  
OrderDTOhh  (
orderDtohh) 1
)hh1 2
{ii 	
ifjj 
(jj 
orderDtojj 
==jj 
nulljj  
)jj  !
{kk 
throwll 
newll !
ArgumentNullExceptionll /
(ll/ 0
nameofll0 6
(ll6 7
orderDtoll7 ?
)ll? @
,ll@ A
$strllB \
)ll\ ]
;ll] ^
}mm 
_loggeroo 
.oo 
Infooo 
(oo 
$"oo 
$stroo 2
{oo2 3
orderDtooo3 ;
.oo; <
OrderIDoo< C
}ooC D
$strooD E
"ooE F
)ooF G
;ooG H
_orderRepositorypp 
.pp 
CreateOrderpp (
(pp( )
orderDtopp) 1
)pp1 2
;pp2 3
varss 
userss 
=ss 
_userRepositoryss &
.ss& '
GetUserByIdss' 2
(ss2 3
orderDtoss3 ;
.ss; <
UserIDss< B
)ssB C
;ssC D
iftt 
(tt 
usertt 
==tt 
nulltt 
)tt 
{uu 
_loggervv 
.vv 
Warnvv 
(vv 
$"vv 
$strvv ,
{vv, -
orderDtovv- 5
.vv5 6
UserIDvv6 <
}vv< =
$strvv= n
"vvn o
)vvo p
;vvp q
returnww 
;ww 
}xx 
var{{ 
subject{{ 
={{ 
$str{{ .
;{{. /
var|| 
body|| 
=|| 
$@"|| 
$str	|Å =
{
ÅÅ= >
user
ÅÅ> B
.
ÅÅB C
Username
ÅÅC K
}
ÅÅK L
$str
ÅÑL '
{
ÑÑ' (
orderDto
ÑÑ( 0
.
ÑÑ0 1
OrderID
ÑÑ1 8
}
ÑÑ8 9
$str
Ñá9 "
{
áá" #
orderDto
áá# +
.
áá+ ,
TotalAmount
áá, 7
}
áá7 8
$str
áï8 
"
ïï 
;
ïï 	
_emailService
ññ 
.
ññ 
	SendEmail
ññ #
(
ññ# $
user
ññ$ (
.
ññ( )
Email
ññ) .
,
ññ. /
subject
ññ0 7
,
ññ7 8
body
ññ9 =
)
ññ= >
;
ññ> ?
_logger
òò 
.
òò 
Info
òò 
(
òò 
$"
òò 
$str
òò <
{
òò< =
user
òò= A
.
òòA B
Email
òòB G
}
òòG H
"
òòH I
)
òòI J
;
òòJ K
}
ôô 	
public
úú 
void
úú 
UpdateOrder
úú 
(
úú  
int
úú  #
id
úú$ &
,
úú& '
OrderDTO
úú( 0
orderDto
úú1 9
)
úú9 :
{
ùù 	
if
ûû 
(
ûû 
orderDto
ûû 
==
ûû 
null
ûû  
)
ûû  !
{
üü 
throw
†† 
new
†† #
ArgumentNullException
†† /
(
††/ 0
nameof
††0 6
(
††6 7
orderDto
††7 ?
)
††? @
,
††@ A
$str
††B \
)
††\ ]
;
††] ^
}
°° 
_logger
££ 
.
££ 
Info
££ 
(
££ 
$"
££ 
$str
££ 2
{
££2 3
id
££3 5
}
££5 6
$str
££6 7
"
££7 8
)
££8 9
;
££9 :
var
¶¶ 
existingOrder
¶¶ 
=
¶¶ 
_orderRepository
¶¶  0
.
¶¶0 1
GetOrderById
¶¶1 =
(
¶¶= >
id
¶¶> @
)
¶¶@ A
;
¶¶A B
if
ßß 
(
ßß 
existingOrder
ßß 
==
ßß  
null
ßß! %
)
ßß% &
{
®® 
_logger
©© 
.
©© 
Warn
©© 
(
©© 
$"
©© 
$str
©© -
{
©©- .
id
©©. 0
}
©©0 1
$str
©©1 b
"
©©b c
)
©©c d
;
©©d e
return
™™ 
;
™™ 
}
´´ 
_orderRepository
ÆÆ 
.
ÆÆ 
UpdateOrder
ÆÆ (
(
ÆÆ( )
id
ÆÆ) +
,
ÆÆ+ ,
orderDto
ÆÆ- 5
)
ÆÆ5 6
;
ÆÆ6 7
var
±± 
user
±± 
=
±± 
_userRepository
±± &
.
±±& '
GetUserById
±±' 2
(
±±2 3
existingOrder
±±3 @
.
±±@ A
UserID
±±A G
)
±±G H
;
±±H I
if
≤≤ 
(
≤≤ 
user
≤≤ 
==
≤≤ 
null
≤≤ 
)
≤≤ 
{
≥≥ 
_logger
¥¥ 
.
¥¥ 
Warn
¥¥ 
(
¥¥ 
$"
¥¥ 
$str
¥¥ ,
{
¥¥, -
existingOrder
¥¥- :
.
¥¥: ;
UserID
¥¥; A
}
¥¥A B
$str
¥¥B m
"
¥¥m n
)
¥¥n o
;
¥¥o p
return
µµ 
;
µµ 
}
∂∂ 
var
ππ 
subject
ππ 
=
ππ 
$str
ππ >
;
ππ> ?
var
∫∫ 
body
∫∫ 
=
∫∫ 
$@"
∫∫ 
$str
∫ø =
{
øø= >
user
øø> B
.
øøB C
Username
øøC K
}
øøK L
$str
ø¬L '
{
¬¬' (
id
¬¬( *
}
¬¬* +
$str
¬–+ 
"
–– 
;
–– 	
_emailService
““ 
.
““ 
	SendEmail
““ #
(
““# $
user
““$ (
.
““( )
Email
““) .
,
““. /
subject
““0 7
,
““7 8
body
““9 =
)
““= >
;
““> ?
_logger
”” 
.
”” 
Info
”” 
(
”” 
$"
”” 
$str
”” 6
{
””6 7
user
””7 ;
.
””; <
Email
””< A
}
””A B
"
””B C
)
””C D
;
””D E
}
‘‘ 	
public
ÿÿ 
void
ÿÿ 
DeleteOrder
ÿÿ 
(
ÿÿ  
int
ÿÿ  #
id
ÿÿ$ &
)
ÿÿ& '
{
ŸŸ 	
_logger
⁄⁄ 
.
⁄⁄ 
Info
⁄⁄ 
(
⁄⁄ 
$"
⁄⁄ 
$str
⁄⁄ 2
{
⁄⁄2 3
id
⁄⁄3 5
}
⁄⁄5 6
$str
⁄⁄6 7
"
⁄⁄7 8
)
⁄⁄8 9
;
⁄⁄9 :
var
€€ 
order
€€ 
=
€€ 
_orderRepository
€€ (
.
€€( )
GetOrderById
€€) 5
(
€€5 6
id
€€6 8
)
€€8 9
;
€€9 :
if
‹‹ 
(
‹‹ 
order
‹‹ 
==
‹‹ 
null
‹‹ 
)
‹‹ 
{
›› 
_logger
ﬁﬁ 
.
ﬁﬁ 
Warn
ﬁﬁ 
(
ﬁﬁ 
$"
ﬁﬁ 
$str
ﬁﬁ -
{
ﬁﬁ- .
id
ﬁﬁ. 0
}
ﬁﬁ0 1
$str
ﬁﬁ1 <
"
ﬁﬁ< =
)
ﬁﬁ= >
;
ﬁﬁ> ?
return
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 
var
„„ 
user
„„ 
=
„„ 
_userRepository
„„ &
.
„„& '
GetUserById
„„' 2
(
„„2 3
order
„„3 8
.
„„8 9
UserID
„„9 ?
)
„„? @
;
„„@ A
if
‰‰ 
(
‰‰ 
user
‰‰ 
==
‰‰ 
null
‰‰ 
)
‰‰ 
{
ÂÂ 
_logger
ÊÊ 
.
ÊÊ 
Warn
ÊÊ 
(
ÊÊ 
$"
ÊÊ 
$str
ÊÊ ,
{
ÊÊ, -
order
ÊÊ- 2
.
ÊÊ2 3
UserID
ÊÊ3 9
}
ÊÊ9 :
$str
ÊÊ: k
"
ÊÊk l
)
ÊÊl m
;
ÊÊm n
return
ÁÁ 
;
ÁÁ 
}
ËË 
_orderRepository
ÍÍ 
.
ÍÍ 
DeleteOrder
ÍÍ (
(
ÍÍ( )
id
ÍÍ) +
)
ÍÍ+ ,
;
ÍÍ, -
var
ÌÌ 
subject
ÌÌ 
=
ÌÌ 
$str
ÌÌ .
;
ÌÌ. /
var
ÓÓ 
body
ÓÓ 
=
ÓÓ 
$@"
ÓÓ 
$str
ÓÛ =
{
ÛÛ= >
user
ÛÛ> B
.
ÛÛB C
Username
ÛÛC K
}
ÛÛK L
$str
ÛˆL '
{
ˆˆ' (
id
ˆˆ( *
}
ˆˆ* +
$str
ˆÑ+ 
"
ÑÑ 
;
ÑÑ 	
_emailService
ÖÖ 
.
ÖÖ 
	SendEmail
ÖÖ #
(
ÖÖ# $
user
ÖÖ$ (
.
ÖÖ( )
Email
ÖÖ) .
,
ÖÖ. /
subject
ÖÖ0 7
,
ÖÖ7 8
body
ÖÖ9 =
)
ÖÖ= >
;
ÖÖ> ?
_logger
áá 
.
áá 
Info
áá 
(
áá 
$"
áá 
$str
áá <
{
áá< =
user
áá= A
.
ááA B
Email
ááB G
}
ááG H
"
ááH I
)
ááI J
;
ááJ K
}
àà 	
}
çç 
}éé ì#
6D:\Hotpot\HotpotLibrary\Services\OrderDetailService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public 

class 
OrderDetailsService $
{		 
private

 
readonly

 !
IOrderDetailInterface

 .#
_orderDetailsRepository

/ F
;

F G
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K
OrderDetailsServiceK ^
)^ _
)_ `
;` a
public 
OrderDetailsService "
(" #!
IOrderDetailInterface# 8"
orderDetailsRepository9 O
)O P
{ 	#
_orderDetailsRepository #
=$ %"
orderDetailsRepository& <
;< =
} 	
public 
OrderDetailDTO 
GetOrderDetailsById 1
(1 2
int2 5
id6 8
)8 9
{ 	
_logger 
. 
Info 
( 
$" 
$str :
{: ;
id; =
}= >
$str> ?
"? @
)@ A
;A B
return #
_orderDetailsRepository *
.* +
GetOrderDetailsById+ >
(> ?
id? A
)A B
;B C
} 	
public 
IEnumerable 
< 
OrderDetailDTO )
>) *
GetAllOrderDetails+ =
(= >
)> ?
{ 	
_logger 
. 
Info 
( 
$str 6
)6 7
;7 8
return #
_orderDetailsRepository *
.* +
GetAllOrderDetails+ =
(= >
)> ?
;? @
} 	
public 
void 
CreateOrderDetails &
(& '
OrderDetailDTO' 5
orderDetailDto6 D
)D E
{ 	
if   
(   
orderDetailDto   
==   !
null  " &
)  & '
{!! 
throw"" 
new"" !
ArgumentNullException"" /
(""/ 0
nameof""0 6
(""6 7
orderDetailDto""7 E
)""E F
,""F G
$str""H h
)""h i
;""i j
}## 
_logger$$ 
.$$ 
Info$$ 
($$ 
$"$$ 
$str$$ :
{$$: ;
orderDetailDto$$; I
.$$I J
OrderDetailID$$J W
}$$W X
$str$$X Y
"$$Y Z
)$$Z [
;$$[ \#
_orderDetailsRepository%% #
.%%# $
CreateOrderDetails%%$ 6
(%%6 7
orderDetailDto%%7 E
)%%E F
;%%F G
}&& 	
public(( 
void(( 
UpdateOrderDetails(( &
(((& '
int((' *
id((+ -
,((- .
OrderDetailDTO((/ =
orderDetailDto((> L
)((L M
{)) 	
if** 
(** 
orderDetailDto** 
==** !
null**" &
)**& '
{++ 
throw,, 
new,, !
ArgumentNullException,, /
(,,/ 0
nameof,,0 6
(,,6 7
orderDetailDto,,7 E
),,E F
,,,F G
$str,,H h
),,h i
;,,i j
}-- 
_logger.. 
... 
Info.. 
(.. 
$".. 
$str.. :
{..: ;
id..; =
}..= >
$str..> ?
"..? @
)..@ A
;..A B#
_orderDetailsRepository// #
.//# $
UpdateOrderDetails//$ 6
(//6 7
id//7 9
,//9 :
orderDetailDto//; I
)//I J
;//J K
}00 	
public22 
void22 
DeleteOrderDetails22 &
(22& '
int22' *
id22+ -
)22- .
{33 	
_logger44 
.44 
Info44 
(44 
$"44 
$str44 :
{44: ;
id44; =
}44= >
$str44> ?
"44? @
)44@ A
;44A B#
_orderDetailsRepository55 #
.55# $
DeleteOrderDetails55$ 6
(556 7
id557 9
)559 :
;55: ;
}66 	
}77 
}88 Ç5
/D:\Hotpot\HotpotLibrary\Services\MenuService.cs
public 
class 
MenuService 
{ 
private 
readonly 
IMenuRepository $
_menuRepository% 4
;4 5
private		 
static		 
readonly		 
ILog		  
_logger		! (
=		) *

LogManager		+ 5
.		5 6
	GetLogger		6 ?
(		? @
typeof		@ F
(		F G
MenuService		G R
)		R S
)		S T
;		T U
public 

MenuService 
( 
IMenuRepository &
menuRepository' 5
)5 6
{ 
_menuRepository 
= 
menuRepository (
;( )
} 
public 

IEnumerable 
< 
MenuDTO 
> 
GetAllMenus  +
(+ ,
), -
{ 
_logger 
. 
Info 
( 
$str A
)A B
;B C
return 
_menuRepository 
. 
GetAllMenus *
(* +
)+ ,
;, -
} 
public 

MenuDTO 
GetMenuById 
( 
int "
menuId# )
)) *
{ 
_logger 
. 
Info 
( 
$" 
$str +
{+ ,
menuId, 2
}2 3
$str3 K
"K L
)L M
;M N
return 
_menuRepository 
. 
GetMenuById *
(* +
menuId+ 1
)1 2
;2 3
} 
public 

List 
< 
MenuDTO 
> "
GetMenusByRestaurantId /
(/ 0
int0 3
restaurantId4 @
)@ A
{ 
_logger 
. 
Info 
( 
$" 
$str 7
{7 8
restaurantId8 D
}D E
$strE ]
"] ^
)^ _
;_ `
var 
menus 
= 
_menuRepository #
.# $"
GetMenusByRestaurantId$ :
(: ;
restaurantId; G
)G H
;H I
if!! 

(!! 
menus!! 
==!! 
null!! 
||!! 
!!! 
menus!! #
.!!# $
Any!!$ '
(!!' (
)!!( )
)!!) *
{"" 	
_logger## 
.## 
Warn## 
(## 
$"## 
$str## <
{##< =
restaurantId##= I
}##I J
$str##J K
"##K L
)##L M
;##M N
return$$ 
null$$ 
;$$ 
}%% 	
_logger'' 
.'' 
Info'' 
('' 
$"'' 
$str'' D
{''D E
restaurantId''E Q
}''Q R
$str''R S
"''S T
)''T U
;''U V
return(( 
menus(( 
;(( 
})) 
public,, 

void,, 

CreateMenu,, 
(,, 
MenuDTO,, "
menuDto,,# *
),,* +
{-- 
if.. 

(.. 
menuDto.. 
==.. 
null.. 
).. 
{// 	
throw00 
new00 !
ArgumentNullException00 +
(00+ ,
nameof00, 2
(002 3
menuDto003 :
)00: ;
,00; <
$str00= V
)00V W
;00W X
}11 	
_logger33 
.33 
Info33 
(33 
$str33 @
)33@ A
;33A B
_menuRepository44 
.44 

CreateMenu44 "
(44" #
menuDto44# *
)44* +
;44+ ,
}66 
public88 

void88 

UpdateMenu88 
(88 
int88 
id88 !
,88! "
MenuDTO88# *
menuDto88+ 2
)882 3
{99 
if:: 

(:: 
menuDto:: 
==:: 
null:: 
):: 
{;; 	
throw<< 
new<< !
ArgumentNullException<< +
(<<+ ,
nameof<<, 2
(<<2 3
menuDto<<3 :
)<<: ;
,<<; <
$str<<= V
)<<V W
;<<W X
}== 	
_logger?? 
.?? 
Info?? 
(?? 
$"?? 
$str?? (
{??( )
id??) +
}??+ ,
$str??, B
"??B C
)??C D
;??D E
_menuRepository@@ 
.@@ 

UpdateMenu@@ "
(@@" #
id@@# %
,@@% &
menuDto@@' .
)@@. /
;@@/ 0
}BB 
publicDD 

voidDD 

DeleteMenuDD 
(DD 
intDD 
menuIdDD %
)DD% &
{EE 
_loggerFF 
.FF 
InfoFF 
(FF 
$"FF 
$strFF (
{FF( )
menuIdFF) /
}FF/ 0
$strFF0 F
"FFF G
)FFG H
;FFH I
_menuRepositoryGG 
.GG 

DeleteMenuGG "
(GG" #
menuIdGG# )
)GG) *
;GG* +
}II 
publicKK 

intKK 
?KK #
GetRestaurantIdByMenuIdKK '
(KK' (
intKK( +
menuIdKK, 2
)KK2 3
{LL 
_loggerMM 
.MM 
InfoMM 
(MM 
$"MM 
$strMM :
{MM: ;
menuIdMM; A
}MMA B
$strMMB Z
"MMZ [
)MM[ \
;MM\ ]
varNN 
restaurantIdNN 
=NN 
_menuRepositoryNN *
.NN* +#
GetRestaurantIdByMenuIdNN+ B
(NNB C
menuIdNNC I
)NNI J
;NNJ K
ifPP 

(PP 
restaurantIdPP 
==PP 
nullPP  
)PP  !
{QQ 	
_loggerRR 
.RR 
WarnRR 
(RR 
$"RR 
$strRR ;
{RR; <
menuIdRR< B
}RRB C
$strRRC D
"RRD E
)RRE F
;RRF G
returnSS 
nullSS 
;SS 
}TT 	
_loggerVV 
.VV 
InfoVV 
(VV 
$"VV 
$strVV :
{VV: ;
restaurantIdVV; G
}VVG H
$strVVH U
{VVU V
menuIdVVV \
}VV\ ]
$strVV] ^
"VV^ _
)VV_ `
;VV` a
returnWW 
restaurantIdWW 
;WW 
}XX 
}YY °D
4D:\Hotpot\HotpotLibrary\Services\MenuItemsService.cs
public 
class 
MenuItemService 
{ 
private 
readonly 
IMenuItemRepository (
_menuItemRepository) <
;< =
private		 
static		 
readonly		 
ILog		  
_logger		! (
=		) *

LogManager		+ 5
.		5 6
	GetLogger		6 ?
(		? @
typeof		@ F
(		F G
MenuItemService		G V
)		V W
)		W X
;		X Y
public 

MenuItemService 
( 
IMenuItemRepository .
menuItemRepository/ A
)A B
{ 
_menuItemRepository 
= 
menuItemRepository 0
;0 1
} 
public 

IEnumerable 
< 
MenuItemDTO "
>" ##
GetAllDistinctMenuItems$ ;
(; <
)< =
{ 
_logger 
. 
Info 
( 
$str O
)O P
;P Q
return 
_menuItemRepository "
." ##
GetAllDistinctMenuItems# :
(: ;
); <
;< =
} 
public 

IEnumerable 
< 
MenuItemDTO "
>" #
GetAllMenuItems$ 3
(3 4
)4 5
{ 
_logger 
. 
Info 
( 
$str F
)F G
;G H
return 
_menuItemRepository "
." #
GetAllMenuItems# 2
(2 3
)3 4
;4 5
} 
public 

MenuItemDTO 
GetMenuItemById &
(& '
int' *

menuItemId+ 5
)5 6
{   
_logger!! 
.!! 
Info!! 
(!! 
$"!! 
$str!! 0
{!!0 1

menuItemId!!1 ;
}!!; <
$str!!< T
"!!T U
)!!U V
;!!V W
return"" 
_menuItemRepository"" "
.""" #
GetMenuItemById""# 2
(""2 3

menuItemId""3 =
)""= >
;""> ?
}## 
public%% 

List%% 
<%% 
MenuItemDTO%% 
>%%  
GetMenuItemsByMenuId%% 1
(%%1 2
int%%2 5
menuId%%6 <
)%%< =
{&& 
_logger'' 
.'' 
Info'' 
('' 
$"'' 
$str'' 6
{''6 7
menuId''7 =
}''= >
$str''> V
"''V W
)''W X
;''X Y
return(( 
_menuItemRepository(( "
.((" # 
GetMenuItemsByMenuId((# 7
(((7 8
menuId((8 >
)((> ?
;((? @
})) 
public++ 

void++ 
CreateMenuItem++ 
(++ 
MenuItemDTO++ *
menuItemDto+++ 6
)++6 7
{,, 
if-- 

(-- 
menuItemDto-- 
==-- 
null-- 
)--  
{.. 	
throw// 
new// !
ArgumentNullException// +
(//+ ,
nameof//, 2
(//2 3
menuItemDto//3 >
)//> ?
,//? @
$str//A ^
)//^ _
;//_ `
}00 	
_logger22 
.22 
Info22 
(22 
$str22 E
)22E F
;22F G
_menuItemRepository33 
.33 
CreateMenuItem33 *
(33* +
menuItemDto33+ 6
)336 7
;337 8
}55 
public77 

void77 
UpdateMenuItem77 
(77 
int77 "
id77# %
,77% &
MenuItemDTO77' 2
menuItemDto773 >
)77> ?
{88 
if99 

(99 
menuItemDto99 
==99 
null99 
)99  
{:: 	
throw;; 
new;; !
ArgumentNullException;; +
(;;+ ,
nameof;;, 2
(;;2 3
menuItemDto;;3 >
);;> ?
,;;? @
$str;;A ^
);;^ _
;;;_ `
}<< 	
_logger>> 
.>> 
Info>> 
(>> 
$">> 
$str>> -
{>>- .
id>>. 0
}>>0 1
$str>>1 G
">>G H
)>>H I
;>>I J
_menuItemRepository?? 
.?? 
UpdateMenuItem?? *
(??* +
id??+ -
,??- .
menuItemDto??/ :
)??: ;
;??; <
}AA 
publicCC 

voidCC 
DeleteMenuItemCC 
(CC 
intCC "

menuItemIdCC# -
)CC- .
{DD 
_loggerEE 
.EE 
InfoEE 
(EE 
$"EE 
$strEE -
{EE- .

menuItemIdEE. 8
}EE8 9
$strEE9 O
"EEO P
)EEP Q
;EEQ R
_menuItemRepositoryFF 
.FF 
DeleteMenuItemFF *
(FF* +

menuItemIdFF+ 5
)FF5 6
;FF6 7
}HH 
publicJJ 

IEnumerableJJ 
<JJ 
MenuItemDTOJJ "
>JJ" #"
GetMenuItemsByCategoryJJ$ :
(JJ: ;
stringJJ; A
categoryJJB J
)JJJ K
{KK 
_loggerLL 
.LL 
InfoLL 
(LL 
$"LL 
$strLL 8
{LL8 9
categoryLL9 A
}LLA B
$strLLB C
"LLC D
)LLD E
;LLE F
returnMM 
_menuItemRepositoryMM "
.MM" #"
GetMenuItemsByCategoryMM# 9
(MM9 :
categoryMM: B
)MMB C
;MMC D
}NN 
publicPP 

IEnumerablePP 
<PP 
MenuItemDTOPP "
>PP" #$
GetMenuItemsByLeastPricePP$ <
(PP< =
)PP= >
{QQ 
_loggerRR 
.RR 
InfoRR 
(RR 
$strRR :
)RR: ;
;RR; <
returnSS 
_menuItemRepositorySS "
.SS" #$
GetMenuItemsByLeastPriceSS# ;
(SS; <
)SS< =
;SS= >
}TT 
publicVV 

IEnumerableVV 
<VV 
MenuItemDTOVV "
>VV" ##
GetMenuItemsByTasteInfoVV$ ;
(VV; <
stringVV< B
	tasteInfoVVC L
)VVL M
{WW 
_loggerXX 
.XX 
InfoXX 
(XX 
$"XX 
$strXX :
{XX: ;
	tasteInfoXX; D
}XXD E
$strXXE F
"XXF G
)XXG H
;XXH I
returnYY 
_menuItemRepositoryYY "
.YY" ##
GetMenuItemsByTasteInfoYY# :
(YY: ;
	tasteInfoYY; D
)YYD E
;YYE F
}ZZ 
public\\ 

IEnumerable\\ 
<\\ 
MenuItemDTO\\ "
>\\" #,
 GetMenuItemsBySpecialDietaryInfo\\$ D
(\\D E
string\\E K
dietaryInfo\\L W
)\\W X
{]] 
_logger^^ 
.^^ 
Info^^ 
(^^ 
$"^^ 
$str^^ D
{^^D E
dietaryInfo^^E P
}^^P Q
$str^^Q R
"^^R S
)^^S T
;^^T U
return__ 
_menuItemRepository__ "
.__" #,
 GetMenuItemsBySpecialDietaryInfo__# C
(__C D
dietaryInfo__D O
)__O P
;__P Q
}`` 
publicbb 

IEnumerablebb 
<bb 
MenuItemDTObb "
>bb" #)
GetMenuItemsByNutritionalInfobb$ A
(bbA B
stringbbB H
nutritionalInfobbI X
)bbX Y
{cc 
_loggerdd 
.dd 
Infodd 
(dd 
$"dd 
$strdd @
{dd@ A
nutritionalInfoddA P
}ddP Q
$strddQ R
"ddR S
)ddS T
;ddT U
returnee 
_menuItemRepositoryee "
.ee" #)
GetMenuItemsByNutritionalInfoee# @
(ee@ A
nutritionalInfoeeA P
)eeP Q
;eeQ R
}ff 
publichh 

IEnumerablehh 
<hh 
MenuItemDTOhh "
>hh" #&
GetMenuItemsByHighDiscounthh$ >
(hh> ?
)hh? @
{ii 
_loggerjj 
.jj 
Infojj 
(jj 
$strjj <
)jj< =
;jj= >
returnkk 
_menuItemRepositorykk "
.kk" #&
GetMenuItemsByHighDiscountkk# =
(kk= >
)kk> ?
;kk? @
}ll 
}mm òN
9D:\Hotpot\HotpotLibrary\Services\FeedbackRatingService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public		 

class		 "
FeedbackRatingsService		 '
{

 
private 
readonly $
IFeedbackRatingInterface 1&
_feedbackRatingsRepository2 L
;L M
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K"
FeedbackRatingsServiceK a
)a b
)b c
;c d
public "
FeedbackRatingsService %
(% &$
IFeedbackRatingInterface& >%
feedbackRatingsRepository? X
)X Y
{ 	&
_feedbackRatingsRepository &
=' (%
feedbackRatingsRepository) B
;B C
} 	
public 
FeedbackRatingDTO  !
GetFeedbackRatingById! 6
(6 7
int7 :
id; =
)= >
{ 	
try 
{ 
_logger 
. 
Info 
( 
$" 
$str @
{@ A
idA C
}C D
$strD E
"E F
)F G
;G H
var 
feedbackRating "
=# $&
_feedbackRatingsRepository% ?
.? @!
GetFeedbackRatingById@ U
(U V
idV X
)X Y
;Y Z
_logger 
. 
Info 
( 
$" 
$str L
{L M
idM O
}O P
$strP Q
"Q R
)R S
;S T
return 
feedbackRating %
;% &
} 
catch 
( 
	Exception 
ex 
)  
{ 
_logger 
. 
Error 
( 
$"  
$str  Y
{Y Z
idZ \
}\ ]
$str] ^
"^ _
,_ `
exa c
)c d
;d e
throw 
; 
}   
}!! 	
public## 
List## 
<## 
FeedbackRatingDTO## %
>##% &,
 GetFeedbackRatingsByRestaurantId##' G
(##G H
int##H K
restaurantId##L X
)##X Y
{$$ 	
try%% 
{&& 
_logger'' 
.'' 
Info'' 
('' 
$"'' 
$str'' J
{''J K
restaurantId''K W
}''W X
$str''X Y
"''Y Z
)''Z [
;''[ \
var(( 
feedbackRatings(( #
=(($ %&
_feedbackRatingsRepository((& @
.((@ A,
 GetFeedbackRatingsByRestaurantId((A a
(((a b
restaurantId((b n
)((n o
;((o p
if)) 
()) 
feedbackRatings)) #
==))$ &
null))' +
||)), .
!))/ 0
feedbackRatings))0 ?
.))? @
Any))@ C
())C D
)))D E
)))E F
{** 
_logger++ 
.++ 
Info++  
(++  !
$"++! #
$str++# N
{++N O
restaurantId++O [
}++[ \
$str++\ ]
"++] ^
)++^ _
;++_ `
return,, 
null,, 
;,,  
}-- 
_logger.. 
... 
Info.. 
(.. 
$".. 
$str.. V
{..V W
restaurantId..W c
}..c d
$str..d e
"..e f
)..f g
;..g h
return// 
feedbackRatings// &
;//& '
}00 
catch11 
(11 
	Exception11 
ex11 
)11  
{22 
_logger33 
.33 
Error33 
(33 
$"33  
$str33  c
{33c d
restaurantId33d p
}33p q
$str33q r
"33r s
,33s t
ex33u w
)33w x
;33x y
throw44 
;44 
}55 
}66 	
public99 
IEnumerable99 
<99 
FeedbackRatingDTO99 ,
>99, -!
GetAllFeedbackRatings99. C
(99C D
)99D E
{:: 	
try;; 
{<< 
_logger== 
.== 
Info== 
(== 
$str== =
)=== >
;==> ?
var>> 
feedbackRatings>> #
=>>$ %&
_feedbackRatingsRepository>>& @
.>>@ A!
GetAllFeedbackRatings>>A V
(>>V W
)>>W X
;>>X Y
_logger?? 
.?? 
Info?? 
(?? 
$str?? I
)??I J
;??J K
return@@ 
feedbackRatings@@ &
;@@& '
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
_loggerDD 
.DD 
ErrorDD 
(DD 
$strDD V
,DDV W
exDDX Z
)DDZ [
;DD[ \
throwEE 
;EE 
}FF 
}GG 	
publicII 
voidII  
CreateFeedbackRatingII (
(II( )
FeedbackRatingDTOII) :
feedbackRatingDtoII; L
)IIL M
{JJ 	
ifKK 
(KK 
feedbackRatingDtoKK !
==KK" $
nullKK% )
)KK) *
{LL 
throwMM 
newMM !
ArgumentNullExceptionMM /
(MM/ 0
nameofMM0 6
(MM6 7
feedbackRatingDtoMM7 H
)MMH I
,MMI J
$strMMK n
)MMn o
;MMo p
}NN 
tryPP 
{QQ 
_loggerRR 
.RR 
InfoRR 
(RR 
$"RR 
$strRR @
{RR@ A
feedbackRatingDtoRRA R
.RRR S
FeedbackRatingIDRRS c
}RRc d
$strRRd e
"RRe f
)RRf g
;RRg h&
_feedbackRatingsRepositorySS *
.SS* + 
CreateFeedbackRatingSS+ ?
(SS? @
feedbackRatingDtoSS@ Q
)SSQ R
;SSR S
_loggerTT 
.TT 
InfoTT 
(TT 
$"TT 
$strTT L
{TTL M
feedbackRatingDtoTTM ^
.TT^ _
FeedbackRatingIDTT_ o
}TTo p
$strTTp q
"TTq r
)TTr s
;TTs t
}UU 
catchVV 
(VV 
	ExceptionVV 
exVV 
)VV  
{WW 
_loggerXX 
.XX 
ErrorXX 
(XX 
$"XX  
$strXX  Y
{XXY Z
feedbackRatingDtoXXZ k
.XXk l
FeedbackRatingIDXXl |
}XX| }
$strXX} ~
"XX~ 
,	XX Ä
ex
XXÅ É
)
XXÉ Ñ
;
XXÑ Ö
throwYY 
;YY 
}ZZ 
}[[ 	
public]] 
void]]  
UpdateFeedbackRating]] (
(]]( )
int]]) ,
id]]- /
,]]/ 0
FeedbackRatingDTO]]1 B
feedbackRatingDto]]C T
)]]T U
{^^ 	
if__ 
(__ 
feedbackRatingDto__ !
==__" $
null__% )
)__) *
{`` 
throwaa 
newaa !
ArgumentNullExceptionaa /
(aa/ 0
nameofaa0 6
(aa6 7
feedbackRatingDtoaa7 H
)aaH I
,aaI J
$straaK n
)aan o
;aao p
}bb 
trydd 
{ee 
_loggerff 
.ff 
Infoff 
(ff 
$"ff 
$strff @
{ff@ A
idffA C
}ffC D
$strffD E
"ffE F
)ffF G
;ffG H&
_feedbackRatingsRepositorygg *
.gg* + 
UpdateFeedbackRatinggg+ ?
(gg? @
idgg@ B
,ggB C
feedbackRatingDtoggD U
)ggU V
;ggV W
_loggerhh 
.hh 
Infohh 
(hh 
$"hh 
$strhh L
{hhL M
idhhM O
}hhO P
$strhhP Q
"hhQ R
)hhR S
;hhS T
}ii 
catchjj 
(jj 
	Exceptionjj 
exjj 
)jj  
{kk 
_loggerll 
.ll 
Errorll 
(ll 
$"ll  
$strll  Y
{llY Z
idllZ \
}ll\ ]
$strll] ^
"ll^ _
,ll_ `
exlla c
)llc d
;lld e
throwmm 
;mm 
}nn 
}oo 	
publicqq 
voidqq  
DeleteFeedbackRatingqq (
(qq( )
intqq) ,
idqq- /
)qq/ 0
{rr 	
tryss 
{tt 
_loggeruu 
.uu 
Infouu 
(uu 
$"uu 
$struu @
{uu@ A
iduuA C
}uuC D
$struuD E
"uuE F
)uuF G
;uuG H&
_feedbackRatingsRepositoryvv *
.vv* + 
DeleteFeedbackRatingvv+ ?
(vv? @
idvv@ B
)vvB C
;vvC D
_loggerww 
.ww 
Infoww 
(ww 
$"ww 
$strww L
{wwL M
idwwM O
}wwO P
$strwwP Q
"wwQ R
)wwR S
;wwS T
}xx 
catchyy 
(yy 
	Exceptionyy 
exyy 
)yy  
{zz 
_logger{{ 
.{{ 
Error{{ 
({{ 
$"{{  
$str{{  Y
{{{Y Z
id{{Z \
}{{\ ]
$str{{] ^
"{{^ _
,{{_ `
ex{{a c
){{c d
;{{d e
throw|| 
;|| 
}}} 
}~~ 	
} 
}ÄÄ Â
3D:\Hotpot\HotpotLibrary\Services\CheckoutService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public 

class 
CheckoutService  
{ 
private 
readonly 
ICheckoutMediator *
	_mediator+ 4
;4 5
public

 
CheckoutService

 
(

 
ICheckoutMediator

 0
mediator

1 9
)

9 :
{ 	
	_mediator 
= 
mediator  
;  !
} 	
public 
void 
AddItemToCart !
(! "
CartDTO" )
cartDTO* 1
)1 2
{ 	
	_mediator 
. 
	AddToCart 
(  
cartDTO  '
)' (
;( )
} 	
public 
void 

PlaceOrder 
( 
OrderDTO '
orderDTO( 0
)0 1
{ 	
	_mediator 
. 

PlaceOrder  
(  !
orderDTO! )
)) *
;* +
} 	
public 
void 
ProcessPayment "
(" #

PaymentDTO# -

paymentDTO. 8
)8 9
{ 	
	_mediator 
. 
ProcessPayment $
($ %

paymentDTO% /
)/ 0
;0 1
} 	
} 
} ﬁ1
/D:\Hotpot\HotpotLibrary\Services\CartService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public		 

class		 
CartService		 
{

 
private 
readonly 
ICartInterface '
_cartRepository( 7
;7 8
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K
CartServiceK V
)V W
)W X
;X Y
public 
CartService 
( 
ICartInterface )
cartRepository* 8
)8 9
{ 	
_cartRepository 
= 
cartRepository ,
;, -
} 	
public 
CartDTO 
GetCartById "
(" #
int# &
id' )
)) *
{ 	
try 
{ 
_logger 
. 
Info 
( 
$" 
$str 5
{5 6
id6 8
}8 9
$str9 :
": ;
); <
;< =
return 
_cartRepository &
.& '
GetCartById' 2
(2 3
id3 5
)5 6
;6 7
} 
catch 
( 
	Exception 
ex 
)  
{ 
_logger 
. 
Error 
( 
$"  
$str  N
{N O
idO Q
}Q R
$strR S
"S T
,T U
exV X
)X Y
;Y Z
throw 
; 
} 
} 	
public!! 
IEnumerable!! 
<!! 
CartDTO!! "
>!!" #
GetAllCarts!!$ /
(!!/ 0
)!!0 1
{"" 	
try## 
{$$ 
_logger%% 
.%% 
Info%% 
(%% 
$str%% 2
)%%2 3
;%%3 4
return&& 
_cartRepository&& &
.&&& '
GetAllCarts&&' 2
(&&2 3
)&&3 4
;&&4 5
}'' 
catch(( 
((( 
	Exception(( 
ex(( 
)((  
{)) 
_logger** 
.** 
Error** 
(** 
$str** K
,**K L
ex**M O
)**O P
;**P Q
throw++ 
;++ 
},, 
}-- 	
public// 
void// 

CreateCart// 
(// 
CartDTO// &
cartDto//' .
)//. /
{00 	
if11 
(11 
cartDto11 
==11 
null11 
)11  
{22 
throw33 
new33 !
ArgumentNullException33 /
(33/ 0
nameof330 6
(336 7
cartDto337 >
)33> ?
,33? @
$str33A Z
)33Z [
;33[ \
}44 
try66 
{77 
_logger88 
.88 
Info88 
(88 
$"88 
$str88 7
{887 8
cartDto888 ?
.88? @
CartID88@ F
}88F G
$str88G H
"88H I
)88I J
;88J K
_cartRepository99 
.99  

CreateCart99  *
(99* +
cartDto99+ 2
)992 3
;993 4
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 
_logger== 
.== 
Error== 
(== 
$"==  
$str==  N
{==N O
cartDto==O V
.==V W
CartID==W ]
}==] ^
$str==^ _
"==_ `
,==` a
ex==b d
)==d e
;==e f
throw>> 
;>> 
}?? 
}@@ 	
publicBB 
voidBB 

UpdateCartBB 
(BB 
intBB "
idBB# %
,BB% &
CartDTOBB' .
cartDtoBB/ 6
)BB6 7
{CC 	
ifDD 
(DD 
cartDtoDD 
==DD 
nullDD 
)DD  
{EE 
throwFF 
newFF !
ArgumentNullExceptionFF /
(FF/ 0
nameofFF0 6
(FF6 7
cartDtoFF7 >
)FF> ?
,FF? @
$strFFA Z
)FFZ [
;FF[ \
}GG 
tryII 
{JJ 
_loggerKK 
.KK 
InfoKK 
(KK 
$"KK 
$strKK 5
{KK5 6
idKK6 8
}KK8 9
$strKK9 :
"KK: ;
)KK; <
;KK< =
_cartRepositoryLL 
.LL  

UpdateCartLL  *
(LL* +
idLL+ -
,LL- .
cartDtoLL/ 6
)LL6 7
;LL7 8
}MM 
catchNN 
(NN 
	ExceptionNN 
exNN 
)NN  
{OO 
_loggerPP 
.PP 
ErrorPP 
(PP 
$"PP  
$strPP  N
{PPN O
idPPO Q
}PPQ R
$strPPR S
"PPS T
,PPT U
exPPV X
)PPX Y
;PPY Z
throwQQ 
;QQ 
}RR 
}SS 	
publicUU 
voidUU 

DeleteCartUU 
(UU 
intUU "
idUU# %
)UU% &
{VV 	
tryWW 
{XX 
_loggerYY 
.YY 
InfoYY 
(YY 
$"YY 
$strYY 5
{YY5 6
idYY6 8
}YY8 9
$strYY9 :
"YY: ;
)YY; <
;YY< =
_cartRepositoryZZ 
.ZZ  

DeleteCartZZ  *
(ZZ* +
idZZ+ -
)ZZ- .
;ZZ. /
}[[ 
catch\\ 
(\\ 
	Exception\\ 
ex\\ 
)\\  
{]] 
_logger^^ 
.^^ 
Error^^ 
(^^ 
$"^^  
$str^^  N
{^^N O
id^^O Q
}^^Q R
$str^^R S
"^^S T
,^^T U
ex^^V X
)^^X Y
;^^Y Z
throw__ 
;__ 
}`` 
}aa 	
}bb 
}cc ˛#
9D:\Hotpot\HotpotLibrary\Services\AdminDashboardService.cs
	namespace 	
HotpotLibrary
 
. 
Services  
{ 
public		 

class		 !
AdminDashboardService		 &
{

 
private 
readonly 
IAdminDashboard (
_adminDashboard) 8
;8 9
public !
AdminDashboardService $
($ %
IAdminDashboard% 4
adminDashboard5 C
)C D
{ 	
_adminDashboard 
= 
adminDashboard ,
;, -
} 	
public 
List 
< 
Order 
> "
GetOrdersFromLast7Days 1
(1 2
)2 3
{ 	
return 
_adminDashboard "
." #"
GetOrdersFromLast7Days# 9
(9 :
): ;
;; <
} 	
public 
List 
< 
User 
> 
GetRegularUsers )
() *
)* +
{ 	
return 
_adminDashboard "
." #
GetRegularUsers# 2
(2 3
)3 4
;4 5
} 	
public 

Dictionary 
< 
DateTime "
," #
int$ '
>' ( 
GetTotalOrdersPerDay) =
(= >
DateTime> F
	startDateG P
,P Q
DateTimeR Z
endDate[ b
)b c
{ 	
return 
_adminDashboard "
." # 
GetTotalOrdersPerDay# 7
(7 8
	startDate8 A
,A B
endDateC J
)J K
;K L
} 	
public!! 

Dictionary!! 
<!! 
string!!  
,!!  !

Dictionary!!" ,
<!!, -
DateTime!!- 5
,!!5 6
int!!7 :
>!!: ;
>!!; <'
GetMenuItemCountsByCategory!!= X
(!!X Y
string!!Y _
category!!` h
,!!h i
DateTime!!j r
	startDate!!s |
,!!| }
DateTime	!!~ Ü
endDate
!!á é
)
!!é è
{"" 	
return## 
_adminDashboard## "
.##" #'
GetMenuItemCountsByCategory### >
(##> ?
category##? G
,##G H
	startDate##I R
,##R S
endDate##T [
)##[ \
;##\ ]
}$$ 	
public&& 

Dictionary&& 
<&& 
DateTime&& "
,&&" #
decimal&&$ +
>&&+ ,
GetRevenueReports&&- >
(&&> ?
string&&? E
period&&F L
)&&L M
{'' 	
return(( 
_adminDashboard(( "
.((" #
GetRevenueReports((# 4
(((4 5
period((5 ;
)((; <
;((< =
})) 	
public++ 
List++ 
<++ 
MenuItem++ 
>++ 
GetTopSellingItems++ 0
(++0 1
string++1 7
period++8 >
)++> ?
{,, 	
return-- 
_adminDashboard-- "
.--" #
GetTopSellingItems--# 5
(--5 6
period--6 <
)--< =
;--= >
}.. 	
public00 
List00 
<00 
User00 
>00 $
GetUsersByOrderFrequency00 2
(002 3
string003 9
period00: @
)00@ A
{11 	
return22 
_adminDashboard22 "
.22" #$
GetUsersByOrderFrequency22# ;
(22; <
period22< B
)22B C
;22C D
}33 	
public55 

Dictionary55 
<55 
DateTime55 "
,55" #
decimal55$ +
>55+ , 
GetAverageOrderValue55- A
(55A B
string55B H
period55I O
)55O P
{66 	
return77 
_adminDashboard77 "
.77" # 
GetAverageOrderValue77# 7
(777 8
period778 >
)77> ?
;77? @
}88 	
public:: 

Dictionary:: 
<:: 
string::  
,::  !
int::" %
>::% &!
GetVegNonVegItemCount::' <
(::< =
int::= @
restaurantId::A M
)::M N
{;; 	
return<< 
_adminDashboard<< "
.<<" #!
GetVegNonVegItemCount<<# 8
(<<8 9
restaurantId<<9 E
)<<E F
;<<F G
}== 	
}>> 
}?? Î]
4D:\Hotpot\HotpotLibrary\Repository\UserRepository.cs
	namespace		 	
HotpotLibrary		
 
.		 

Repository		 "
{

 
public 

class 
UserRepository 
:  !
IUserRepository" 1
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
UserRepository 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
public 
UserDTO 
GetUserById "
(" #
int# &
id' )
)) *
{ 	
var 
user 
= 
_context 
.  
Users  %
.% &
Find& *
(* +
id+ -
)- .
;. /
if 
( 
user 
== 
null 
) 
return $
null% )
;) *
return 
new 
UserDTO 
{ 
UserID 
= 
user 
. 
UserID $
,$ %
Username 
= 
user 
.  
Username  (
,( )
Email 
= 
user 
. 
Email "
," #
Password 
= 
user 
.  
Password  (
,( )
PhNo 
= 
user 
. 
PhNo  
,  !
AddressLine   
=   
user   "
.  " #
AddressLine  # .
,  . /
City!! 
=!! 
user!! 
.!! 
City!!  
,!!  !
State"" 
="" 
user"" 
."" 
State"" "
,""" #

PostalCode## 
=## 
user## !
.##! "

PostalCode##" ,
,##, -
Country$$ 
=$$ 
user$$ 
.$$ 
Country$$ &
,$$& '
Role%% 
=%% 
user%% 
.%% 
Role%%  
,%%  !
CreatedDate&& 
=&& 
(&& 
DateTime&& '
)&&' (
user&&( ,
.&&, -
CreatedDate&&- 8
,&&8 9
IsActive'' 
='' 
('' 
bool''  
)''  !
user''! %
.''% &
IsActive''& .
}(( 
;(( 
})) 	
public++ 
IEnumerable++ 
<++ 
UserDTO++ "
>++" #
GetAllUsers++$ /
(++/ 0
)++0 1
{,, 	
return-- 
_context-- 
.-- 
Users-- !
.--! "
Select--" (
(--( )
user--) -
=>--. 0
new--1 4
UserDTO--5 <
{.. 
UserID// 
=// 
user// 
.// 
UserID// $
,//$ %
Username00 
=00 
user00 
.00  
Username00  (
,00( )
Email11 
=11 
user11 
.11 
Email11 "
,11" #
Password22 
=22 
user22 
.22  
Password22  (
,22( )
PhNo33 
=33 
user33 
.33 
PhNo33  
,33  !
AddressLine44 
=44 
user44 "
.44" #
AddressLine44# .
,44. /
City55 
=55 
user55 
.55 
City55  
,55  !
State66 
=66 
user66 
.66 
State66 "
,66" #

PostalCode77 
=77 
user77 !
.77! "

PostalCode77" ,
,77, -
Country88 
=88 
user88 
.88 
Country88 &
,88& '
Role99 
=99 
user99 
.99 
Role99  
,99  !
CreatedDate:: 
=:: 
(:: 
DateTime:: '
)::' (
user::( ,
.::, -
CreatedDate::- 8
,::8 9
IsActive;; 
=;; 
(;; 
bool;;  
);;  !
user;;! %
.;;% &
IsActive;;& .
}<< 
)<< 
.<< 
ToList<< 
(<< 
)<< 
;<< 
}== 	
public?? 
void?? 

CreateUser?? 
(?? 
UserDTO?? &
userDto??' .
)??. /
{@@ 	
varAA 
userAA 
=AA 
newAA 
UserAA 
{BB 
UserIDCC 
=CC 
userDtoCC  
.CC  !
UserIDCC! '
,CC' (
UsernameDD 
=DD 
userDtoDD "
.DD" #
UsernameDD# +
,DD+ ,
EmailEE 
=EE 
userDtoEE 
.EE  
EmailEE  %
,EE% &
PasswordFF 
=FF 
userDtoFF "
.FF" #
PasswordFF# +
,FF+ ,
PhNoGG 
=GG 
userDtoGG 
.GG 
PhNoGG #
,GG# $
AddressLineHH 
=HH 
userDtoHH %
.HH% &
AddressLineHH& 1
,HH1 2
CityII 
=II 
userDtoII 
.II 
CityII #
,II# $
StateJJ 
=JJ 
userDtoJJ 
.JJ  
StateJJ  %
,JJ% &

PostalCodeKK 
=KK 
userDtoKK $
.KK$ %

PostalCodeKK% /
,KK/ 0
CountryLL 
=LL 
userDtoLL !
.LL! "
CountryLL" )
,LL) *
RoleMM 
=MM 
userDtoMM 
.MM 
RoleMM #
,MM# $
CreatedDateNN 
=NN 
userDtoNN %
.NN% &
CreatedDateNN& 1
,NN1 2
IsActiveOO 
=OO 
userDtoOO "
.OO" #
IsActiveOO# +
}PP 
;PP 
_contextQQ 
.QQ 
UsersQQ 
.QQ 
AddQQ 
(QQ 
userQQ #
)QQ# $
;QQ$ %
_contextRR 
.RR 
SaveChangesRR  
(RR  !
)RR! "
;RR" #
}SS 	
publicUU 
voidUU 

UpdateUserUU 
(UU 
intUU "
idUU# %
,UU% &
UserDTOUU' .
userDtoUU/ 6
)UU6 7
{VV 	
varWW 
userWW 
=WW 
_contextWW 
.WW  
UsersWW  %
.WW% &
FindWW& *
(WW* +
idWW+ -
)WW- .
;WW. /
ifXX 
(XX 
userXX 
!=XX 
nullXX 
)XX 
{YY 
userZZ 
.ZZ 
UsernameZZ 
=ZZ 
userDtoZZ  '
.ZZ' (
UsernameZZ( 0
;ZZ0 1
user[[ 
.[[ 
Email[[ 
=[[ 
userDto[[ $
.[[$ %
Email[[% *
;[[* +
user\\ 
.\\ 
Password\\ 
=\\ 
userDto\\  '
.\\' (
Password\\( 0
;\\0 1
user]] 
.]] 
PhNo]] 
=]] 
userDto]] #
.]]# $
PhNo]]$ (
;]]( )
user^^ 
.^^ 
AddressLine^^  
=^^! "
userDto^^# *
.^^* +
AddressLine^^+ 6
;^^6 7
user__ 
.__ 
City__ 
=__ 
userDto__ #
.__# $
City__$ (
;__( )
user`` 
.`` 
State`` 
=`` 
userDto`` $
.``$ %
State``% *
;``* +
useraa 
.aa 

PostalCodeaa 
=aa  !
userDtoaa" )
.aa) *

PostalCodeaa* 4
;aa4 5
userbb 
.bb 
Countrybb 
=bb 
userDtobb &
.bb& '
Countrybb' .
;bb. /
usercc 
.cc 
Rolecc 
=cc 
userDtocc #
.cc# $
Rolecc$ (
;cc( )
userdd 
.dd 
CreatedDatedd  
=dd! "
userDtodd# *
.dd* +
CreatedDatedd+ 6
;dd6 7
useree 
.ee 
IsActiveee 
=ee 
userDtoee  '
.ee' (
IsActiveee( 0
;ee0 1
_contextgg 
.gg 
Usersgg 
.gg 
Updategg %
(gg% &
usergg& *
)gg* +
;gg+ ,
_contexthh 
.hh 
SaveChangeshh $
(hh$ %
)hh% &
;hh& '
}ii 
}jj 	
publicll 
voidll 

DeleteUserll 
(ll 
intll "
idll# %
)ll% &
{mm 	
varnn 
usernn 
=nn 
_contextnn 
.nn  
Usersnn  %
.nn% &
Findnn& *
(nn* +
idnn+ -
)nn- .
;nn. /
ifoo 
(oo 
useroo 
!=oo 
nulloo 
)oo 
{pp 
_contextqq 
.qq 
Usersqq 
.qq 
Removeqq %
(qq% &
userqq& *
)qq* +
;qq+ ,
_contextrr 
.rr 
SaveChangesrr $
(rr$ %
)rr% &
;rr& '
}ss 
}tt 	
publicvv 
Uservv 
GetUserByUsernamevv %
(vv% &
stringvv& ,
usernamevv- 5
)vv5 6
{ww 	
returnxx 
_contextxx 
.xx 
Usersxx !
.xx! "
FirstOrDefaultxx" 0
(xx0 1
uxx1 2
=>xx3 5
uxx6 7
.xx7 8
Usernamexx8 @
==xxA C
usernamexxD L
)xxL M
;xxM N
}yy 	
public{{ 
User{{ 
GetUserByEmail{{ "
({{" #
string{{# )
email{{* /
){{/ 0
{|| 	
return}} 
_context}} 
.}} 
Users}} !
.}}! "
FirstOrDefault}}" 0
(}}0 1
u}}1 2
=>}}3 5
u}}6 7
.}}7 8
Email}}8 =
==}}> @
email}}A F
)}}F G
;}}G H
}~~ 	
public
ÄÄ 
IEnumerable
ÄÄ 
<
ÄÄ 
FeedbackRating
ÄÄ )
>
ÄÄ) *
GetUserReviews
ÄÄ+ 9
(
ÄÄ9 :
int
ÄÄ: =
userId
ÄÄ> D
)
ÄÄD E
{
ÅÅ 	
return
ÇÇ 
_context
ÇÇ 
.
ÇÇ 
FeedbackRatings
ÇÇ +
.
ÇÇ+ ,
Where
ÇÇ, 1
(
ÇÇ1 2
fr
ÇÇ2 4
=>
ÇÇ5 7
fr
ÇÇ8 :
.
ÇÇ: ;
UserID
ÇÇ; A
==
ÇÇB D
userId
ÇÇE K
)
ÇÇK L
.
ÇÇL M
ToList
ÇÇM S
(
ÇÇS T
)
ÇÇT U
;
ÇÇU V
}
ÉÉ 	
public
ÖÖ 
IEnumerable
ÖÖ 
<
ÖÖ 
Order
ÖÖ  
>
ÖÖ  !"
GetAllOrdersByUserId
ÖÖ" 6
(
ÖÖ6 7
int
ÖÖ7 :
userId
ÖÖ; A
)
ÖÖA B
{
ÜÜ 	
return
áá 
_context
áá 
.
áá 
Orders
áá "
.
áá" #
Where
áá# (
(
áá( )
o
áá) *
=>
áá+ -
o
áá. /
.
áá/ 0
UserID
áá0 6
==
áá7 9
userId
áá: @
)
áá@ A
.
ááA B
ToList
ááB H
(
ááH I
)
ááI J
;
ááJ K
}
àà 	
}
ââ 
}ää øï
:D:\Hotpot\HotpotLibrary\Repository\RestuarantRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{		 
public

 

class

  
RestaurantRepository

 %
:

& '!
IRestaurantRepository

( =
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public  
RestaurantRepository #
(# $
AppDbContext$ 0
context1 8
)8 9
{ 	
_context 
= 
context 
; 
} 	
public 
RestaurantDTO 
GetRestaurantById .
(. /
int/ 2
id3 5
)5 6
{ 	
var 

restaurant 
= 
_context %
.% &
Restaurants& 1
.1 2
Find2 6
(6 7
id7 9
)9 :
;: ;
if 
( 

restaurant 
== 
null "
)" #
return$ *
null+ /
;/ 0
return 
new 
RestaurantDTO $
{ 
RestaurantID 
= 

restaurant )
.) *
RestaurantID* 6
,6 7
Name 
= 

restaurant !
.! "
Name" &
,& '
Description 
= 

restaurant (
.( )
Description) 4
,4 5
PhNo 
= 

restaurant !
.! "
PhNo" &
,& '
Email 
= 

restaurant "
." #
Email# (
,( )
OperatingHours 
=  

restaurant! +
.+ ,
OperatingHours, :
,: ;
AddressLine   
=   

restaurant   (
.  ( )
AddressLine  ) 4
,  4 5
City!! 
=!! 

restaurant!! !
.!!! "
City!!" &
,!!& '
State"" 
="" 

restaurant"" "
.""" #
State""# (
,""( )

PostalCode## 
=## 

restaurant## '
.##' (

PostalCode##( 2
,##2 3
Country$$ 
=$$ 

restaurant$$ $
.$$$ %
Country$$% ,
,$$, -
CreatedDate%% 
=%% 
(%% 
DateTime%% '
)%%' (

restaurant%%( 2
.%%2 3
CreatedDate%%3 >
,%%> ?
IsActive&& 
=&& 
(&& 
bool&&  
)&&  !

restaurant&&! +
.&&+ ,
IsActive&&, 4
}'' 
;'' 
}(( 	
public** 
IEnumerable** 
<** 
RestaurantDTO** (
>**( )
GetAllRestaurants*** ;
(**; <
)**< =
{++ 	
return,, 
_context,, 
.,, 
Restaurants,, '
.,,' (
Select,,( .
(,,. /

restaurant,,/ 9
=>,,: <
new,,= @
RestaurantDTO,,A N
{-- 
RestaurantID.. 
=.. 

restaurant.. )
...) *
RestaurantID..* 6
,..6 7
Name// 
=// 

restaurant// !
.//! "
Name//" &
,//& '
Description00 
=00 

restaurant00 (
.00( )
Description00) 4
,004 5
PhNo11 
=11 

restaurant11 !
.11! "
PhNo11" &
,11& '
Email22 
=22 

restaurant22 "
.22" #
Email22# (
,22( )
OperatingHours33 
=33  

restaurant33! +
.33+ ,
OperatingHours33, :
,33: ;
AddressLine44 
=44 

restaurant44 (
.44( )
AddressLine44) 4
,444 5
City55 
=55 

restaurant55 !
.55! "
City55" &
,55& '
State66 
=66 

restaurant66 "
.66" #
State66# (
,66( )

PostalCode77 
=77 

restaurant77 '
.77' (

PostalCode77( 2
,772 3
Country88 
=88 

restaurant88 $
.88$ %
Country88% ,
,88, -
CreatedDate99 
=99 
(99 
DateTime99 '
)99' (

restaurant99( 2
.992 3
CreatedDate993 >
,99> ?
IsActive:: 
=:: 
(:: 
bool::  
)::  !

restaurant::! +
.::+ ,
IsActive::, 4
};; 
);; 
.;; 
ToList;; 
(;; 
);; 
;;; 
}<< 	
public>> 
void>> 
CreateRestaurant>> $
(>>$ %
RestaurantDTO>>% 2
restaurantDto>>3 @
)>>@ A
{?? 	
var@@ 

restaurant@@ 
=@@ 
new@@  

Restaurant@@! +
{AA 
RestaurantIDBB 
=BB 
restaurantDtoBB ,
.BB, -
RestaurantIDBB- 9
,BB9 :
NameCC 
=CC 
restaurantDtoCC $
.CC$ %
NameCC% )
,CC) *
DescriptionDD 
=DD 
restaurantDtoDD +
.DD+ ,
DescriptionDD, 7
,DD7 8
PhNoEE 
=EE 
restaurantDtoEE $
.EE$ %
PhNoEE% )
,EE) *
EmailFF 
=FF 
restaurantDtoFF %
.FF% &
EmailFF& +
,FF+ ,
OperatingHoursGG 
=GG  
restaurantDtoGG! .
.GG. /
OperatingHoursGG/ =
,GG= >
AddressLineHH 
=HH 
restaurantDtoHH +
.HH+ ,
AddressLineHH, 7
,HH7 8
CityII 
=II 
restaurantDtoII $
.II$ %
CityII% )
,II) *
StateJJ 
=JJ 
restaurantDtoJJ %
.JJ% &
StateJJ& +
,JJ+ ,

PostalCodeKK 
=KK 
restaurantDtoKK *
.KK* +

PostalCodeKK+ 5
,KK5 6
CountryLL 
=LL 
restaurantDtoLL '
.LL' (
CountryLL( /
,LL/ 0
CreatedDateMM 
=MM 
restaurantDtoMM +
.MM+ ,
CreatedDateMM, 7
,MM7 8
IsActiveNN 
=NN 
restaurantDtoNN (
.NN( )
IsActiveNN) 1
}OO 
;OO 
_contextPP 
.PP 
RestaurantsPP  
.PP  !
AddPP! $
(PP$ %

restaurantPP% /
)PP/ 0
;PP0 1
_contextQQ 
.QQ 
SaveChangesQQ  
(QQ  !
)QQ! "
;QQ" #
}RR 	
publicTT 
voidTT 
UpdateRestaurantTT $
(TT$ %
intTT% (
idTT) +
,TT+ ,
RestaurantDTOTT- :
restaurantDtoTT; H
)TTH I
{UU 	
varVV 

restaurantVV 
=VV 
_contextVV %
.VV% &
RestaurantsVV& 1
.VV1 2
FindVV2 6
(VV6 7
idVV7 9
)VV9 :
;VV: ;
ifWW 
(WW 

restaurantWW 
!=WW 
nullWW "
)WW" #
{XX 

restaurantYY 
.YY 
NameYY 
=YY  !
restaurantDtoYY" /
.YY/ 0
NameYY0 4
;YY4 5

restaurantZZ 
.ZZ 
DescriptionZZ &
=ZZ' (
restaurantDtoZZ) 6
.ZZ6 7
DescriptionZZ7 B
;ZZB C

restaurant[[ 
.[[ 
PhNo[[ 
=[[  !
restaurantDto[[" /
.[[/ 0
PhNo[[0 4
;[[4 5

restaurant\\ 
.\\ 
Email\\  
=\\! "
restaurantDto\\# 0
.\\0 1
Email\\1 6
;\\6 7

restaurant]] 
.]] 
OperatingHours]] )
=]]* +
restaurantDto]], 9
.]]9 :
OperatingHours]]: H
;]]H I

restaurant^^ 
.^^ 
AddressLine^^ &
=^^' (
restaurantDto^^) 6
.^^6 7
AddressLine^^7 B
;^^B C

restaurant__ 
.__ 
City__ 
=__  !
restaurantDto__" /
.__/ 0
City__0 4
;__4 5

restaurant`` 
.`` 
State``  
=``! "
restaurantDto``# 0
.``0 1
State``1 6
;``6 7

restaurantaa 
.aa 

PostalCodeaa %
=aa& '
restaurantDtoaa( 5
.aa5 6

PostalCodeaa6 @
;aa@ A

restaurantbb 
.bb 
Countrybb "
=bb# $
restaurantDtobb% 2
.bb2 3
Countrybb3 :
;bb: ;

restaurantcc 
.cc 
CreatedDatecc &
=cc' (
restaurantDtocc) 6
.cc6 7
CreatedDatecc7 B
;ccB C

restaurantdd 
.dd 
IsActivedd #
=dd$ %
restaurantDtodd& 3
.dd3 4
IsActivedd4 <
;dd< =
_contextff 
.ff 
Restaurantsff $
.ff$ %
Updateff% +
(ff+ ,

restaurantff, 6
)ff6 7
;ff7 8
_contextgg 
.gg 
SaveChangesgg $
(gg$ %
)gg% &
;gg& '
}hh 
}ii 	
publickk 
voidkk 
DeleteRestaurantkk $
(kk$ %
intkk% (
idkk) +
)kk+ ,
{ll 	
varmm 

restaurantmm 
=mm 
_contextmm %
.mm% &
Restaurantsmm& 1
.mm1 2
Findmm2 6
(mm6 7
idmm7 9
)mm9 :
;mm: ;
ifnn 
(nn 

restaurantnn 
!=nn 
nullnn "
)nn" #
{oo 
_contextpp 
.pp 
Restaurantspp $
.pp$ %
Removepp% +
(pp+ ,

restaurantpp, 6
)pp6 7
;pp7 8
_contextqq 
.qq 
SaveChangesqq $
(qq$ %
)qq% &
;qq& '
}rr 
}ss 	
publictt 
RestaurantDTOtt *
GetRestaurantByNameAndLocationtt ;
(tt; <
stringtt< B
namettC G
,ttG H
stringttI O
locationttP X
)ttX Y
{uu 	
varvv 

restaurantvv 
=vv 
_contextvv %
.vv% &
Restaurantsvv& 1
.ww 
FirstOrDefaultww 
(ww  
rww  !
=>ww" $
rww% &
.ww& '
Nameww' +
.ww+ ,
ToLowerww, 3
(ww3 4
)ww4 5
==ww6 8
nameww9 =
.ww= >
ToLowerww> E
(wwE F
)wwF G
&&wwH J
rwwK L
.wwL M
CitywwM Q
.wwQ R
ToLowerwwR Y
(wwY Z
)wwZ [
==ww\ ^
locationww_ g
.wwg h
ToLowerwwh o
(wwo p
)wwp q
)wwq r
;wwr s
ifyy 
(yy 

restaurantyy 
==yy 
nullyy "
)yy" #
returnyy$ *
nullyy+ /
;yy/ 0
return{{ 
new{{ 
RestaurantDTO{{ $
{|| 
RestaurantID}} 
=}} 

restaurant}} )
.}}) *
RestaurantID}}* 6
,}}6 7
Name~~ 
=~~ 

restaurant~~ !
.~~! "
Name~~" &
,~~& '
Description 
= 

restaurant (
.( )
Description) 4
,4 5
PhNo
ÄÄ 
=
ÄÄ 

restaurant
ÄÄ !
.
ÄÄ! "
PhNo
ÄÄ" &
,
ÄÄ& '
Email
ÅÅ 
=
ÅÅ 

restaurant
ÅÅ "
.
ÅÅ" #
Email
ÅÅ# (
,
ÅÅ( )
OperatingHours
ÇÇ 
=
ÇÇ  

restaurant
ÇÇ! +
.
ÇÇ+ ,
OperatingHours
ÇÇ, :
,
ÇÇ: ;
AddressLine
ÉÉ 
=
ÉÉ 

restaurant
ÉÉ (
.
ÉÉ( )
AddressLine
ÉÉ) 4
,
ÉÉ4 5
City
ÑÑ 
=
ÑÑ 

restaurant
ÑÑ !
.
ÑÑ! "
City
ÑÑ" &
,
ÑÑ& '
State
ÖÖ 
=
ÖÖ 

restaurant
ÖÖ "
.
ÖÖ" #
State
ÖÖ# (
,
ÖÖ( )

PostalCode
ÜÜ 
=
ÜÜ 

restaurant
ÜÜ '
.
ÜÜ' (

PostalCode
ÜÜ( 2
,
ÜÜ2 3
Country
áá 
=
áá 

restaurant
áá $
.
áá$ %
Country
áá% ,
,
áá, -
CreatedDate
àà 
=
àà 

restaurant
àà (
.
àà( )
CreatedDate
àà) 4
,
àà4 5
IsActive
ââ 
=
ââ 

restaurant
ââ %
.
ââ% &
IsActive
ââ& .
}
ää 
;
ää 
}
ãã 	
public
éé 
RestaurantDTO
éé "
GetRestaurantByEmail
éé 1
(
éé1 2
string
éé2 8
email
éé9 >
)
éé> ?
{
èè 	
var
êê 

restaurant
êê 
=
êê 
_context
êê %
.
êê% &
Restaurants
êê& 1
.
ëë 
FirstOrDefault
ëë 
(
ëë  
r
ëë  !
=>
ëë" $
r
ëë% &
.
ëë& '
Email
ëë' ,
==
ëë- /
email
ëë0 5
)
ëë5 6
;
ëë6 7
if
ìì 
(
ìì 

restaurant
ìì 
==
ìì 
null
ìì "
)
ìì" #
return
ìì$ *
null
ìì+ /
;
ìì/ 0
return
ïï 
new
ïï 
RestaurantDTO
ïï $
{
ññ 
RestaurantID
óó 
=
óó 

restaurant
óó )
.
óó) *
RestaurantID
óó* 6
,
óó6 7
Name
òò 
=
òò 

restaurant
òò !
.
òò! "
Name
òò" &
,
òò& '
Description
ôô 
=
ôô 

restaurant
ôô (
.
ôô( )
Description
ôô) 4
,
ôô4 5
PhNo
öö 
=
öö 

restaurant
öö !
.
öö! "
PhNo
öö" &
,
öö& '
Email
õõ 
=
õõ 

restaurant
õõ "
.
õõ" #
Email
õõ# (
,
õõ( )
OperatingHours
úú 
=
úú  

restaurant
úú! +
.
úú+ ,
OperatingHours
úú, :
,
úú: ;
AddressLine
ùù 
=
ùù 

restaurant
ùù (
.
ùù( )
AddressLine
ùù) 4
,
ùù4 5
City
ûû 
=
ûû 

restaurant
ûû !
.
ûû! "
City
ûû" &
,
ûû& '
State
üü 
=
üü 

restaurant
üü "
.
üü" #
State
üü# (
,
üü( )

PostalCode
†† 
=
†† 

restaurant
†† '
.
††' (

PostalCode
††( 2
,
††2 3
Country
°° 
=
°° 

restaurant
°° $
.
°°$ %
Country
°°% ,
,
°°, -
CreatedDate
¢¢ 
=
¢¢ 
(
¢¢ 
DateTime
¢¢ '
)
¢¢' (

restaurant
¢¢( 2
.
¢¢2 3
CreatedDate
¢¢3 >
,
¢¢> ?
IsActive
££ 
=
££ 
(
££ 
bool
££  
)
££  !

restaurant
££! +
.
££+ ,
IsActive
££, 4
}
§§ 
;
§§ 
}
•• 	
public
ßß 
int
ßß #
GetRestaurantIdByName
ßß (
(
ßß( )
string
ßß) /
restaurantName
ßß0 >
)
ßß> ?
{
®® 	
var
©© 

restaurant
©© 
=
©© 
_context
©© %
.
©©% &
Restaurants
©©& 1
.
™™ 
FirstOrDefault
™™ 
(
™™  
r
™™  !
=>
™™" $
r
™™% &
.
™™& '
Name
™™' +
==
™™, .
restaurantName
™™/ =
)
™™= >
;
™™> ?
return
¨¨ 

restaurant
¨¨ 
.
¨¨ 
RestaurantID
¨¨ *
;
¨¨* +
}
≠≠ 	
public
ØØ 
IEnumerable
ØØ 
<
ØØ 
RestaurantDTO
ØØ (
>
ØØ( )%
GetAllRestaurantsByCity
ØØ* A
(
ØØA B
string
ØØB H
city
ØØI M
)
ØØM N
{
∞∞ 	
return
±± 
_context
±± 
.
±± 
Restaurants
±± '
.
≤≤ 
Where
≤≤ 
(
≤≤ 
r
≤≤ 
=>
≤≤ 
r
≤≤ 
.
≤≤ 
City
≤≤ "
==
≤≤# %
city
≤≤& *
)
≤≤* +
.
≥≥ 
Select
≥≥ 
(
≥≥ 

restaurant
≥≥ "
=>
≥≥# %
new
≥≥& )
RestaurantDTO
≥≥* 7
{
¥¥ 
RestaurantID
µµ  
=
µµ! "

restaurant
µµ# -
.
µµ- .
RestaurantID
µµ. :
,
µµ: ;
Name
∂∂ 
=
∂∂ 

restaurant
∂∂ %
.
∂∂% &
Name
∂∂& *
,
∂∂* +
Description
∑∑ 
=
∑∑  !

restaurant
∑∑" ,
.
∑∑, -
Description
∑∑- 8
,
∑∑8 9
PhNo
∏∏ 
=
∏∏ 

restaurant
∏∏ %
.
∏∏% &
PhNo
∏∏& *
,
∏∏* +
Email
ππ 
=
ππ 

restaurant
ππ &
.
ππ& '
Email
ππ' ,
,
ππ, -
OperatingHours
∫∫ "
=
∫∫# $

restaurant
∫∫% /
.
∫∫/ 0
OperatingHours
∫∫0 >
,
∫∫> ?
AddressLine
ªª 
=
ªª  !

restaurant
ªª" ,
.
ªª, -
AddressLine
ªª- 8
,
ªª8 9
City
ºº 
=
ºº 

restaurant
ºº %
.
ºº% &
City
ºº& *
,
ºº* +
State
ΩΩ 
=
ΩΩ 

restaurant
ΩΩ &
.
ΩΩ& '
State
ΩΩ' ,
,
ΩΩ, -

PostalCode
ææ 
=
ææ  

restaurant
ææ! +
.
ææ+ ,

PostalCode
ææ, 6
,
ææ6 7
Country
øø 
=
øø 

restaurant
øø (
.
øø( )
Country
øø) 0
,
øø0 1
CreatedDate
¿¿ 
=
¿¿  !
(
¿¿" #
DateTime
¿¿# +
)
¿¿+ ,

restaurant
¿¿, 6
.
¿¿6 7
CreatedDate
¿¿7 B
,
¿¿B C
IsActive
¡¡ 
=
¡¡ 
(
¡¡  
bool
¡¡  $
)
¡¡$ %

restaurant
¡¡% /
.
¡¡/ 0
IsActive
¡¡0 8
}
¬¬ 
)
¬¬ 
.
¬¬ 
ToList
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 	
}
≈≈ 
}∆∆ ‹
BD:\Hotpot\HotpotLibrary\Repository\RestaurantMenuItemRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{ 
public 

class (
RestaurantMenuItemRepository -
:. /
IRestaurantMenuItem0 C
{D E
private 
readonly 
AppDbContext %
_context& .
;. /
public (
RestaurantMenuItemRepository +
(+ ,
AppDbContext, 8
context9 @
)@ A
{ 	
_context 
= 
context 
; 
} 	
public 
IEnumerable 
< 
RestaurantMenuItem -
>- .&
GetRestaurantsWithMenuItem/ I
(I J
stringJ P
menuItemNameQ ]
)] ^
{ 	
string 
query 
= 
$str5 
;55 
return<< 
_context<< 
.<<  
RestaurantsMenuItems<< 0
.== 

FromSqlRaw== &
(==& '
query==' ,
,==, -
new==. 1
SqlParameter==2 >
(==> ?
$str==? N
,==N O
$str==P S
+==T U
menuItemName==V b
+==c d
$str==e h
)==h i
)==i j
.>> 
ToList>> "
(>>" #
)>># $
;>>$ %
}AA 	
}BB 
}CC éô
6D:\Hotpot\HotpotLibrary\Repository\ReportRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{ 
public		 

class		 
ReportRepository		 !
:		" #
IReportRepository		$ 5
{

 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
ReportRepository 
(  
AppDbContext  ,
context- 4
)4 5
{ 	
_context 
= 
context 
; 
} 	
public 
List 
< 
MenuItem 
> #
GetVegItemsByRestaurant 5
(5 6
int6 9
restaurantId: F
)F G
{ 	
var 
vegItems 
= 
_context #
.# $
	MenuItems$ -
. 
Join 
( 
_context 
. 
Menus $
,$ %
menuItem& .
=>/ 1
menuItem2 :
.: ;
MenuID; A
,A B
menuC G
=>H J
menuK O
.O P
MenuIDP V
,V W
( 
menuItem 
, 
menu 
)  
=>! #
new$ '
{( )
menuItem* 2
,2 3
menu4 8
}9 :
): ;
. 
Where 
( 
m 
=> 
m 
. 
menu "
." #
RestaurantID# /
==0 2
restaurantId3 ?
&&@ B
mC D
.D E
menuItemE M
.M N
SpecialDietaryInfoN `
==a c
$strd i
)i j
. 
Select 
( 
m 
=> 
m 
. 
menuItem '
)' (
. 
ToList 
( 
) 
; 
return 
vegItems 
; 
} 	
public   
List   
<   
MenuItem   
>   &
GetNonVegItemsByRestaurant   8
(  8 9
int  9 <
restaurantId  = I
)  I J
{!! 	
var"" 
nonVegItems"" 
="" 
_context"" &
.""& '
	MenuItems""' 0
.## 
Join## 
(## 
_context## 
.## 
Menus## $
,##$ %
menuItem##& .
=>##/ 1
menuItem##2 :
.##: ;
MenuID##; A
,##A B
menu##C G
=>##H J
menu##K O
.##O P
MenuID##P V
,##V W
($$ 
menuItem$$ 
,$$ 
menu$$ 
)$$  
=>$$! #
new$$$ '
{$$( )
menuItem$$* 2
,$$2 3
menu$$4 8
}$$9 :
)$$: ;
.%% 
Where%% 
(%% 
m%% 
=>%% 
m%% 
.%% 
menu%% "
.%%" #
RestaurantID%%# /
==%%0 2
restaurantId%%3 ?
&&%%@ B
m%%C D
.%%D E
menuItem%%E M
.%%M N
SpecialDietaryInfo%%N `
==%%a c
$str%%d m
)%%m n
.&& 
Select&& 
(&& 
m&& 
=>&& 
m&& 
.&& 
menuItem&& '
)&&' (
.'' 
ToList'' 
('' 
)'' 
;'' 
return)) 
nonVegItems)) 
;)) 
}** 	
public-- 
int-- )
GetTotalMenuItemsByRestaurant-- 0
(--0 1
int--1 4
restaurantId--5 A
)--A B
{.. 	
var// 
totalMenuItems// 
=//  
_context//! )
.//) *
	MenuItems//* 3
.00 
Join00 
(00 
_context00 
.00 
Menus00 $
,00$ %
menuItem00& .
=>00/ 1
menuItem002 :
.00: ;
MenuID00; A
,00A B
menu00C G
=>00H J
menu00K O
.00O P
MenuID00P V
,00V W
(11 
menuItem11 
,11 
menu11 
)11  
=>11! #
new11$ '
{11( )
menuItem11* 2
,112 3
menu114 8
}119 :
)11: ;
.22 
Where22 
(22 
m22 
=>22 
m22 
.22 
menu22 "
.22" #
RestaurantID22# /
==220 2
restaurantId223 ?
&&22@ B
(22C D
m22D E
.22E F
menuItem22F N
.22N O
	IsInStock22O X
??22Y [
false22\ a
)22a b
)22b c
.33 
Count33 
(33 
)33 
;33 
return55 
totalMenuItems55 !
;55! "
}66 	
public99 
int99 *
GetTotalCategoriesByRestaurant99 1
(991 2
int992 5
restaurantId996 B
)99B C
{:: 	
var;;  
totalCategoriesCount;; $
=;;% &
_context;;' /
.;;/ 0
	MenuItems;;0 9
.<< 
Join<< 
(<< 
_context<< 
.<< 
Menus<< $
,<<$ %
menuItem<<& .
=><</ 1
menuItem<<2 :
.<<: ;
MenuID<<; A
,<<A B
menu<<C G
=><<H J
menu<<K O
.<<O P
MenuID<<P V
,<<V W
(== 
menuItem== 
,== 
menu== 
)==  
=>==! #
new==$ '
{==( )
menuItem==* 2
,==2 3
menu==4 8
}==9 :
)==: ;
.>> 
Where>> 
(>> 
m>> 
=>>> 
m>> 
.>> 
menu>> "
.>>" #
RestaurantID>># /
==>>0 2
restaurantId>>3 ?
)>>? @
.?? 
Select?? 
(?? 
m?? 
=>?? 
m?? 
.?? 
menuItem?? '
.??' (
Category??( 0
)??0 1
.@@ 
Distinct@@ 
(@@ 
)@@ 
.AA 
CountAA 
(AA 
)AA 
;AA 
returnCC  
totalCategoriesCountCC '
;CC' (
}DD 	
publicHH 
intHH &
GetTotalOrdersByRestaurantHH -
(HH- .
intHH. 1
restaurantIdHH2 >
)HH> ?
{II 	
varJJ 
totalOrdersJJ 
=JJ 
_contextJJ &
.JJ& '
OrdersJJ' -
.KK 
WhereKK 
(KK 
orderKK 
=>KK 
orderKK  %
.KK% &
RestaurantIDKK& 2
==KK3 5
restaurantIdKK6 B
)KKB C
.LL 
CountLL 
(LL 
)LL 
;LL 
returnNN 
totalOrdersNN 
;NN 
}OO 	
publicRR 
decimalRR '
GetTotalRevenueByRestaurantRR 2
(RR2 3
intRR3 6
restaurantIdRR7 C
)RRC D
{SS 	
varTT 
totalRevenueTT 
=TT 
_contextTT '
.TT' (
OrdersTT( .
.UU 
WhereUU 
(UU 
orderUU 
=>UU 
orderUU  %
.UU% &
RestaurantIDUU& 2
==UU3 5
restaurantIdUU6 B
)UUB C
.VV 
SumVV 
(VV 
orderVV 
=>VV 
orderVV #
.VV# $
TotalAmountVV$ /
)VV/ 0
;VV0 1
returnXX 
totalRevenueXX 
;XX  
}YY 	
public\\ 
decimal\\ "
GetRevenueByRestaurant\\ -
(\\- .
int\\. 1
restaurantId\\2 >
,\\> ?
string\\@ F
period\\G M
)\\M N
{]] 	
var^^ 
query^^ 
=^^ 
_context^^  
.^^  !
Orders^^! '
.__ 
Where__ 
(__ 
order__ 
=>__ 
order__  %
.__% &
RestaurantID__& 2
==__3 5
restaurantId__6 B
)__B C
;__C D
switchaa 
(aa 
periodaa 
.aa 
ToLoweraa "
(aa" #
)aa# $
)aa$ %
{bb 
casecc 
$strcc 
:cc 
querydd 
=dd 
querydd !
.dd! "
Wheredd" '
(dd' (
odd( )
=>dd* ,
odd- .
.dd. /
	OrderDatedd/ 8
.dd8 9
Datedd9 =
==dd> @
DateTimeddA I
.ddI J
TodayddJ O
)ddO P
;ddP Q
breakee 
;ee 
caseff 
$strff 
:ff 
querygg 
=gg 
querygg !
.gg! "
Wheregg" '
(gg' (
ogg( )
=>gg* ,
ogg- .
.gg. /
	OrderDategg/ 8
.gg8 9
Monthgg9 >
==gg? A
DateTimeggB J
.ggJ K
NowggK N
.ggN O
MonthggO T
&&ggU W
oggX Y
.ggY Z
	OrderDateggZ c
.ggc d
Yearggd h
==ggi k
DateTimeggl t
.ggt u
Nowggu x
.ggx y
Yearggy }
)gg} ~
;gg~ 
breakhh 
;hh 
caseii 
$strii 
:ii 
queryjj 
=jj 
queryjj !
.jj! "
Wherejj" '
(jj' (
ojj( )
=>jj* ,
ojj- .
.jj. /
	OrderDatejj/ 8
.jj8 9
Yearjj9 =
==jj> @
DateTimejjA I
.jjI J
NowjjJ M
.jjM N
YearjjN R
)jjR S
;jjS T
breakkk 
;kk 
}ll 
returnnn 
querynn 
.nn 
Sumnn 
(nn 
ordernn "
=>nn# %
ordernn& +
.nn+ ,
TotalAmountnn, 7
)nn7 8
;nn8 9
}oo 	
publicrr 
decimalrr ,
 GetAverageOrderValueByRestaurantrr 7
(rr7 8
intrr8 ;
restaurantIdrr< H
)rrH I
{ss 	
vartt 
avgOrderValuett 
=tt 
_contexttt  (
.tt( )
Orderstt) /
.uu 
Whereuu 
(uu 
orderuu 
=>uu 
orderuu  %
.uu% &
RestaurantIDuu& 2
==uu3 5
restaurantIduu6 B
)uuB C
.vv 
Averagevv 
(vv 
ordervv 
=>vv !
ordervv" '
.vv' (
TotalAmountvv( 3
)vv3 4
;vv4 5
returnxx 
avgOrderValuexx  
;xx  !
}yy 	
public|| 
List|| 
<|| 
MenuItem|| 
>|| *
GetTopSellingItemsByRestaurant|| <
(||< =
int||= @
restaurantId||A M
,||M N
int||O R
topN||S W
)||W X
{}} 	
var~~ 
topSellingItems~~ 
=~~  !
_context~~" *
.~~* +
OrderDetails~~+ 7
. 
Join 
( 
_context 
. 
	MenuItems (
,( )
orderDetail* 5
=>6 8
orderDetail9 D
.D E

MenuItemIDE O
,O P
menuItemQ Y
=>Z \
menuItem] e
.e f

MenuItemIDf p
,p q
(
ÄÄ 
orderDetail
ÄÄ 
,
ÄÄ 
menuItem
ÄÄ &
)
ÄÄ& '
=>
ÄÄ( *
new
ÄÄ+ .
{
ÄÄ/ 0
orderDetail
ÄÄ1 <
,
ÄÄ< =
menuItem
ÄÄ> F
}
ÄÄG H
)
ÄÄH I
.
ÅÅ 
Join
ÅÅ 
(
ÅÅ 
_context
ÅÅ 
.
ÅÅ 
Menus
ÅÅ $
,
ÅÅ$ %
combined
ÅÅ& .
=>
ÅÅ/ 1
combined
ÅÅ2 :
.
ÅÅ: ;
menuItem
ÅÅ; C
.
ÅÅC D
MenuID
ÅÅD J
,
ÅÅJ K
menu
ÅÅL P
=>
ÅÅQ S
menu
ÅÅT X
.
ÅÅX Y
MenuID
ÅÅY _
,
ÅÅ_ `
(
ÇÇ 
combined
ÇÇ 
,
ÇÇ 
menu
ÇÇ 
)
ÇÇ  
=>
ÇÇ! #
new
ÇÇ$ '
{
ÇÇ( )
combined
ÇÇ* 2
.
ÇÇ2 3
orderDetail
ÇÇ3 >
,
ÇÇ> ?
combined
ÇÇ@ H
.
ÇÇH I
menuItem
ÇÇI Q
,
ÇÇQ R
menu
ÇÇS W
}
ÇÇX Y
)
ÇÇY Z
.
ÉÉ 
Where
ÉÉ 
(
ÉÉ 
m
ÉÉ 
=>
ÉÉ 
m
ÉÉ 
.
ÉÉ 
menu
ÉÉ "
.
ÉÉ" #
RestaurantID
ÉÉ# /
==
ÉÉ0 2
restaurantId
ÉÉ3 ?
)
ÉÉ? @
.
ÑÑ 
GroupBy
ÑÑ 
(
ÑÑ 
m
ÑÑ 
=>
ÑÑ 
new
ÑÑ !
{
ÖÖ 

MenuItemID
ÜÜ 
=
ÜÜ  
m
ÜÜ! "
.
ÜÜ" #
menuItem
ÜÜ# +
.
ÜÜ+ ,

MenuItemID
ÜÜ, 6
,
ÜÜ6 7
ItemName
áá 
=
áá 
m
áá  
.
áá  !
menuItem
áá! )
.
áá) *
ItemName
áá* 2
}
àà 
)
àà 
.
ââ 
Select
ââ 
(
ââ 
g
ââ 
=>
ââ 
new
ââ  
{
ää 
g
ãã 
.
ãã 
Key
ãã 
.
ãã 

MenuItemID
ãã $
,
ãã$ %
g
åå 
.
åå 
Key
åå 
.
åå 
ItemName
åå "
,
åå" #
	TotalSold
çç 
=
çç 
g
çç  !
.
çç! "
Sum
çç" %
(
çç% &
x
çç& '
=>
çç( *
x
çç+ ,
.
çç, -
orderDetail
çç- 8
.
çç8 9
Quantity
çç9 A
)
ççA B
}
éé 
)
éé 
.
èè 
OrderByDescending
èè "
(
èè" #
x
èè# $
=>
èè% '
x
èè( )
.
èè) *
	TotalSold
èè* 3
)
èè3 4
.
êê 
Take
êê 
(
êê 
topN
êê 
)
êê 
.
ëë 
Select
ëë 
(
ëë 
x
ëë 
=>
ëë 
new
ëë  
MenuItem
ëë! )
{
íí 

MenuItemID
ìì 
=
ìì  
x
ìì! "
.
ìì" #

MenuItemID
ìì# -
,
ìì- .
ItemName
îî 
=
îî 
x
îî  
.
îî  !
ItemName
îî! )
}
ññ 
)
ññ 
.
óó 
ToList
óó 
(
óó 
)
óó 
;
óó 
return
ôô 
topSellingItems
ôô "
;
ôô" #
}
öö 	
public
ûû 
List
ûû 
<
ûû 
MenuItem
ûû 
>
ûû .
 GetLeastSellingItemsByRestaurant
ûû >
(
ûû> ?
int
ûû? B
restaurantId
ûûC O
,
ûûO P
int
ûûQ T
bottomN
ûûU \
)
ûû\ ]
{
üü 	
var
†† 
leastSellingItems
†† !
=
††" #
_context
††$ ,
.
††, -
	MenuItems
††- 6
.
°° 
Where
°° 
(
°° 
menuItem
°° 
=>
°°  "
menuItem
°°# +
.
°°+ ,
Menu
°°, 0
.
°°0 1
RestaurantID
°°1 =
==
°°> @
restaurantId
°°A M
)
°°M N
.
¢¢ 
	GroupJoin
¢¢ 
(
¢¢ 
_context
¢¢ #
.
¢¢# $
OrderDetails
¢¢$ 0
,
¢¢0 1
menuItem
££ 
=>
££ 
menuItem
££  (
.
££( )

MenuItemID
££) 3
,
££3 4
orderDetail
§§ 
=>
§§  "
orderDetail
§§# .
.
§§. /

MenuItemID
§§/ 9
,
§§9 :
(
•• 
menuItem
•• 
,
•• 
orderDetails
•• +
)
••+ ,
=>
••- /
new
••0 3
{
¶¶ 
MenuItem
ßß  
=
ßß! "
menuItem
ßß# +
,
ßß+ ,
	TotalSold
®® !
=
®®" #
orderDetails
®®$ 0
.
®®0 1
Sum
®®1 4
(
®®4 5
od
®®5 7
=>
®®8 :
od
®®; =
.
®®= >
Quantity
®®> F
)
®®F G
}
©© 
)
©© 
.
™™ 
OrderBy
™™ 
(
™™ 
x
™™ 
=>
™™ 
x
™™ 
.
™™  
	TotalSold
™™  )
)
™™) *
.
´´ 
Take
´´ 
(
´´ 
bottomN
´´ 
)
´´ 
.
¨¨ 
Select
¨¨ 
(
¨¨ 
x
¨¨ 
=>
¨¨ 
new
¨¨  
MenuItem
¨¨! )
{
≠≠ 

MenuItemID
ÆÆ 
=
ÆÆ  
x
ÆÆ! "
.
ÆÆ" #
MenuItem
ÆÆ# +
.
ÆÆ+ ,

MenuItemID
ÆÆ, 6
,
ÆÆ6 7
ItemName
ØØ 
=
ØØ 
x
ØØ  
.
ØØ  !
MenuItem
ØØ! )
.
ØØ) *
ItemName
ØØ* 2
}
±± 
)
±± 
.
≤≤ 
ToList
≤≤ 
(
≤≤ 
)
≤≤ 
;
≤≤ 
return
¥¥ 
leastSellingItems
¥¥ $
;
¥¥$ %
}
µµ 	
public
ππ 
List
ππ 
<
ππ 
User
ππ 
>
ππ )
GetRegularUsersByRestaurant
ππ 5
(
ππ5 6
int
ππ6 9
restaurantId
ππ: F
,
ππF G
int
ππH K
	minOrders
ππL U
)
ππU V
{
∫∫ 	
var
ªª 
regularUsers
ªª 
=
ªª 
_context
ªª '
.
ªª' (
Orders
ªª( .
.
ºº 
Where
ºº 
(
ºº 
order
ºº 
=>
ºº 
order
ºº  %
.
ºº% &
RestaurantID
ºº& 2
==
ºº3 5
restaurantId
ºº6 B
)
ººB C
.
ΩΩ 
GroupBy
ΩΩ 
(
ΩΩ 
order
ΩΩ 
=>
ΩΩ !
order
ΩΩ" '
.
ΩΩ' (
UserID
ΩΩ( .
)
ΩΩ. /
.
ææ 
Where
ææ 
(
ææ 
g
ææ 
=>
ææ 
g
ææ 
.
ææ 
Count
ææ #
(
ææ# $
)
ææ$ %
>=
ææ& (
	minOrders
ææ) 2
)
ææ2 3
.
øø 
Select
øø 
(
øø 
g
øø 
=>
øø 
g
øø 
.
øø 
Key
øø "
)
øø" #
.
¿¿ 
Join
¿¿ 
(
¿¿ 
_context
¿¿ 
.
¿¿ 
Users
¿¿ $
,
¿¿$ %
userId
¿¿& ,
=>
¿¿- /
userId
¿¿0 6
,
¿¿6 7
user
¿¿8 <
=>
¿¿= ?
user
¿¿@ D
.
¿¿D E
UserID
¿¿E K
,
¿¿K L
(
¿¿M N
userId
¿¿N T
,
¿¿T U
user
¿¿V Z
)
¿¿Z [
=>
¿¿\ ^
user
¿¿_ c
)
¿¿c d
.
¡¡ 
ToList
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡ 
return
√√ 
regularUsers
√√ 
;
√√  
}
ƒƒ 	
}
≈≈ 
}∆∆ ∞5
7D:\Hotpot\HotpotLibrary\Repository\PaymentRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{		 
public

 

class

 
PaymentRepository

 "
:

# $
IPaymentInterface

% 6
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
PaymentRepository  
(  !
AppDbContext! -
context. 5
)5 6
{ 	
_context 
= 
context 
; 
} 	
public 

PaymentDTO 
GetPaymentById (
(( )
int) ,
id- /
)/ 0
{ 	
var 
payment 
= 
_context "
." #
Payments# +
.+ ,
Find, 0
(0 1
id1 3
)3 4
;4 5
if 
( 
payment 
== 
null 
)  
return! '
null( ,
;, -
return 
new 

PaymentDTO !
{ 
	PaymentID 
= 
payment "
." #
	PaymentID# ,
,, -
OrderID 
= 
payment !
.! "
OrderID" )
,) *
PaymentMethod 
= 
payment  '
.' (
PaymentMethod( 5
,5 6

AmountPaid 
= 
payment $
.$ %

AmountPaid% /
,/ 0
TransactionDate 
=  !
(" #
DateTime# +
)+ ,
payment, 3
.3 4
TransactionDate4 C
,C D
TransactionStatus !
=" #
payment$ +
.+ ,
TransactionStatus, =
}   
;   
}!! 	
public## 
IEnumerable## 
<## 

PaymentDTO## %
>##% &
GetAllPayments##' 5
(##5 6
)##6 7
{$$ 	
return%% 
_context%% 
.%% 
Payments%% $
.%%$ %
Select%%% +
(%%+ ,
payment%%, 3
=>%%4 6
new%%7 :

PaymentDTO%%; E
{&& 
	PaymentID'' 
='' 
payment'' #
.''# $
	PaymentID''$ -
,''- .
OrderID(( 
=(( 
payment(( !
.((! "
OrderID((" )
,(() *
PaymentMethod)) 
=)) 
payment))  '
.))' (
PaymentMethod))( 5
,))5 6

AmountPaid** 
=** 
payment** $
.**$ %

AmountPaid**% /
,**/ 0
TransactionDate++ 
=++  !
(++" #
DateTime++# +
)+++ ,
payment++, 3
.++3 4
TransactionDate++4 C
,++C D
TransactionStatus,, !
=,," #
payment,,$ +
.,,+ ,
TransactionStatus,,, =
}-- 
)-- 
.-- 
ToList-- 
(-- 
)-- 
;-- 
}.. 	
public00 
void00 
CreatePayment00 !
(00! "

PaymentDTO00" ,

paymentDto00- 7
)007 8
{11 	
var22 
payment22 
=22 
new22 
Payment22 %
{33 
OrderID44 
=44 

paymentDto44 $
.44$ %
OrderID44% ,
,44, -
PaymentMethod55 
=55 

paymentDto55  *
.55* +
PaymentMethod55+ 8
,558 9

AmountPaid66 
=66 

paymentDto66 '
.66' (

AmountPaid66( 2
,662 3
TransactionDate77 
=77  !

paymentDto77" ,
.77, -
TransactionDate77- <
,77< =
TransactionStatus88 !
=88" #

paymentDto88$ .
.88. /
TransactionStatus88/ @
}99 
;99 
_context:: 
.:: 
Payments:: 
.:: 
Add:: !
(::! "
payment::" )
)::) *
;::* +
_context;; 
.;; 
SaveChanges;;  
(;;  !
);;! "
;;;" #
}<< 	
public>> 
void>> 
UpdatePayment>> !
(>>! "
int>>" %
id>>& (
,>>( )

PaymentDTO>>* 4

paymentDto>>5 ?
)>>? @
{?? 	
var@@ 
payment@@ 
=@@ 
_context@@ "
.@@" #
Payments@@# +
.@@+ ,
Find@@, 0
(@@0 1
id@@1 3
)@@3 4
;@@4 5
ifAA 
(AA 
paymentAA 
!=AA 
nullAA 
)AA  
{BB 
paymentCC 
.CC 
OrderIDCC 
=CC  !

paymentDtoCC" ,
.CC, -
OrderIDCC- 4
;CC4 5
paymentDD 
.DD 
PaymentMethodDD %
=DD& '

paymentDtoDD( 2
.DD2 3
PaymentMethodDD3 @
;DD@ A
paymentEE 
.EE 

AmountPaidEE "
=EE# $

paymentDtoEE% /
.EE/ 0

AmountPaidEE0 :
;EE: ;
paymentFF 
.FF 
TransactionDateFF '
=FF( )

paymentDtoFF* 4
.FF4 5
TransactionDateFF5 D
;FFD E
paymentGG 
.GG 
TransactionStatusGG )
=GG* +

paymentDtoGG, 6
.GG6 7
TransactionStatusGG7 H
;GGH I
_contextII 
.II 
PaymentsII !
.II! "
UpdateII" (
(II( )
paymentII) 0
)II0 1
;II1 2
_contextJJ 
.JJ 
SaveChangesJJ $
(JJ$ %
)JJ% &
;JJ& '
}KK 
}LL 	
publicNN 
voidNN 
DeletePaymentNN !
(NN! "
intNN" %
idNN& (
)NN( )
{OO 	
varPP 
paymentPP 
=PP 
_contextPP "
.PP" #
PaymentsPP# +
.PP+ ,
FindPP, 0
(PP0 1
idPP1 3
)PP3 4
;PP4 5
ifQQ 
(QQ 
paymentQQ 
!=QQ 
nullQQ 
)QQ  
{RR 
_contextSS 
.SS 
PaymentsSS !
.SS! "
RemoveSS" (
(SS( )
paymentSS) 0
)SS0 1
;SS1 2
_contextTT 
.TT 
SaveChangesTT $
(TT$ %
)TT% &
;TT& '
}UU 
}VV 	
}WW 
}XX ˘k
5D:\Hotpot\HotpotLibrary\Repository\OrderRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{		 
public

 

class

 
OrderRepository

  
:

! "
IOrderInterface

# 2
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
OrderRepository 
( 
AppDbContext +
context, 3
)3 4
{ 	
_context 
= 
context 
; 
} 	
public 
OrderDTO 
GetOrderById $
($ %
int% (
id) +
)+ ,
{ 	
var 
order 
= 
_context  
.  !
Orders! '
.' (
Find( ,
(, -
id- /
)/ 0
;0 1
if 
( 
order 
== 
null 
) 
return %
null& *
;* +
return 
new 
OrderDTO 
{ 
OrderID 
= 
order 
. 
OrderID &
,& '
UserID 
= 
order 
. 
UserID %
,% &
RestaurantID 
= 
order $
.$ %
RestaurantID% 1
,1 2
	OrderDate 
= 
order !
.! "
	OrderDate" +
,+ ,
TotalAmount 
= 
order #
.# $
TotalAmount$ /
,/ 0
OrderStatus 
= 
order #
.# $
OrderStatus$ /
,/ 0
PaymentStatus   
=   
order    %
.  % &
PaymentStatus  & 3
,  3 4
DeliveryAddress!! 
=!!  !
order!!" '
.!!' (
DeliveryAddress!!( 7
,!!7 8
DeliveryDate"" 
="" 
order"" $
.""$ %
DeliveryDate""% 1
,""1 2
CreatedDate## 
=## 
order## #
.### $
CreatedDate##$ /
}$$ 
;$$ 
}%% 	
public'' 
List'' 
<'' 
OrderDTO'' 
>'' 
GetOrdersByUserId'' /
(''/ 0
int''0 3
userId''4 :
)'': ;
{(( 	
var)) 
orders)) 
=)) 
_context)) !
.))! "
Orders))" (
.** 
Where** 
(** 
o** 
=>** 
o** 
.** 
UserID** $
==**% '
userId**( .
)**. /
.++ 
Select++ 
(++ 
o++ 
=>++ 
new++  
OrderDTO++! )
{,, 
OrderID-- 
=-- 
o-- 
.--  
OrderID--  '
,--' (
UserID.. 
=.. 
o.. 
... 
UserID.. %
,..% &
RestaurantID//  
=//! "
o//# $
.//$ %
RestaurantID//% 1
,//1 2
	OrderDate00 
=00 
o00  !
.00! "
	OrderDate00" +
,00+ ,
TotalAmount11 
=11  !
o11" #
.11# $
TotalAmount11$ /
,11/ 0
OrderStatus22 
=22  !
o22" #
.22# $
OrderStatus22$ /
,22/ 0
PaymentStatus33 !
=33" #
o33$ %
.33% &
PaymentStatus33& 3
,333 4
DeliveryAddress44 #
=44$ %
o44& '
.44' (
DeliveryAddress44( 7
,447 8
DeliveryDate55  
=55! "
o55# $
.55$ %
DeliveryDate55% 1
}66 
)66 
.66 
ToList66 
(66 
)66 
;66 
return88 
orders88 
;88 
}99 	
public;; 
List;; 
<;; 
OrderDTO;; 
>;; #
GetOrdersByRestaurantId;; 5
(;;5 6
int;;6 9
restaurantId;;: F
);;F G
{<< 	
var== 
orders== 
=== 
_context== !
.==! "
Orders==" (
.>> 
Where>> 
(>> 
o>> 
=>>> 
o>> 
.>> 
RestaurantID>> *
==>>+ -
restaurantId>>. :
)>>: ;
.?? 
Select?? 
(?? 
o?? 
=>?? 
new??  
OrderDTO??! )
{@@ 
OrderIDAA 
=AA 
oAA 
.AA  
OrderIDAA  '
,AA' (
UserIDBB 
=BB 
oBB 
.BB 
UserIDBB %
,BB% &
RestaurantIDCC  
=CC! "
oCC# $
.CC$ %
RestaurantIDCC% 1
,CC1 2
	OrderDateDD 
=DD 
oDD  !
.DD! "
	OrderDateDD" +
,DD+ ,
TotalAmountEE 
=EE  !
oEE" #
.EE# $
TotalAmountEE$ /
,EE/ 0
OrderStatusFF 
=FF  !
oFF" #
.FF# $
OrderStatusFF$ /
,FF/ 0
PaymentStatusGG !
=GG" #
oGG$ %
.GG% &
PaymentStatusGG& 3
,GG3 4
DeliveryAddressHH #
=HH$ %
oHH& '
.HH' (
DeliveryAddressHH( 7
,HH7 8
DeliveryDateII  
=II! "
oII# $
.II$ %
DeliveryDateII% 1
,II1 2
CreatedDateJJ 
=JJ  !
oJJ" #
.JJ# $
CreatedDateJJ$ /
}KK 
)KK 
.KK 
ToListKK 
(KK 
)KK 
;KK 
returnMM 
ordersMM 
;MM 
}NN 	
publicRR 
IEnumerableRR 
<RR 
OrderDTORR #
>RR# $
GetAllOrdersRR% 1
(RR1 2
)RR2 3
{SS 	
returnTT 
_contextTT 
.TT 
OrdersTT "
.TT" #
SelectTT# )
(TT) *
orderTT* /
=>TT0 2
newTT3 6
OrderDTOTT7 ?
{UU 
OrderIDVV 
=VV 
orderVV 
.VV  
OrderIDVV  '
,VV' (
UserIDWW 
=WW 
orderWW 
.WW 
UserIDWW %
,WW% &
RestaurantIDXX 
=XX 
orderXX $
.XX$ %
RestaurantIDXX% 1
,XX1 2
	OrderDateYY 
=YY 
orderYY !
.YY! "
	OrderDateYY" +
,YY+ ,
TotalAmountZZ 
=ZZ 
orderZZ #
.ZZ# $
TotalAmountZZ$ /
,ZZ/ 0
OrderStatus[[ 
=[[ 
order[[ #
.[[# $
OrderStatus[[$ /
,[[/ 0
PaymentStatus\\ 
=\\ 
order\\  %
.\\% &
PaymentStatus\\& 3
,\\3 4
DeliveryAddress]] 
=]]  !
order]]" '
.]]' (
DeliveryAddress]]( 7
,]]7 8
DeliveryDate^^ 
=^^ 
order^^ $
.^^$ %
DeliveryDate^^% 1
,^^1 2
CreatedDate__ 
=__ 
order__ #
.__# $
CreatedDate__$ /
}`` 
)`` 
.`` 
ToList`` 
(`` 
)`` 
;`` 
}aa 	
publiccc 
voidcc 
CreateOrdercc 
(cc  
OrderDTOcc  (
orderDtocc) 1
)cc1 2
{dd 	
varee 
orderee 
=ee 
newee 
Orderee !
{ff 
OrderIDhh 
=hh 
orderDtohh "
.hh" #
OrderIDhh# *
,hh* +
UserIDii 
=ii 
orderDtoii !
.ii! "
UserIDii" (
,ii( )
RestaurantIDjj 
=jj 
orderDtojj '
.jj' (
RestaurantIDjj( 4
,jj4 5
	OrderDatekk 
=kk 
DateTimekk $
.kk$ %
Nowkk% (
,kk( )
TotalAmountll 
=ll 
(ll 
decimalll &
)ll& '
orderDtoll' /
.ll/ 0
TotalAmountll0 ;
,ll; <
OrderStatusmm 
=mm 
orderDtomm &
.mm& '
OrderStatusmm' 2
,mm2 3
PaymentStatusnn 
=nn 
orderDtonn  (
.nn( )
PaymentStatusnn) 6
,nn6 7
DeliveryAddressoo 
=oo  !
orderDtooo" *
.oo* +
DeliveryAddressoo+ :
,oo: ;
DeliveryDatepp 
=pp 
(pp  
DateTimepp  (
)pp( )
orderDtopp) 1
.pp1 2
DeliveryDatepp2 >
,pp> ?
CreatedDateqq 
=qq 
DateTimeqq &
.qq& '
Nowqq' *
}rr 
;rr 
_contextss 
.ss 
Ordersss 
.ss 
Addss 
(ss  
orderss  %
)ss% &
;ss& '
_contexttt 
.tt 
SaveChangestt  
(tt  !
)tt! "
;tt" #
orderDtouu
 
.uu 
OrderIDuu 
=uu 
orderuu "
.uu" #
OrderIDuu# *
;uu* +
}vv 	
publicxx 
voidxx 
UpdateOrderxx 
(xx  
intxx  #
idxx$ &
,xx& '
OrderDTOxx( 0
orderDtoxx1 9
)xx9 :
{yy 	
varzz 
orderzz 
=zz 
_contextzz  
.zz  !
Orderszz! '
.zz' (
Findzz( ,
(zz, -
idzz- /
)zz/ 0
;zz0 1
if{{ 
({{ 
order{{ 
!={{ 
null{{ 
){{ 
{|| 
order}} 
.}} 
UserID}} 
=}} 
orderDto}} '
.}}' (
UserID}}( .
;}}. /
order~~ 
.~~ 
RestaurantID~~ "
=~~# $
orderDto~~% -
.~~- .
RestaurantID~~. :
;~~: ;
order 
. 
	OrderDate 
=  !
(" #
DateTime# +
)+ ,
orderDto, 4
.4 5
	OrderDate5 >
;> ?
order
ÄÄ 
.
ÄÄ 
TotalAmount
ÄÄ !
=
ÄÄ" #
(
ÄÄ$ %
decimal
ÄÄ% ,
)
ÄÄ, -
orderDto
ÄÄ- 5
.
ÄÄ5 6
TotalAmount
ÄÄ6 A
;
ÄÄA B
order
ÅÅ 
.
ÅÅ 
OrderStatus
ÅÅ !
=
ÅÅ" #
orderDto
ÅÅ$ ,
.
ÅÅ, -
OrderStatus
ÅÅ- 8
;
ÅÅ8 9
order
ÇÇ 
.
ÇÇ 
PaymentStatus
ÇÇ #
=
ÇÇ$ %
orderDto
ÇÇ& .
.
ÇÇ. /
PaymentStatus
ÇÇ/ <
;
ÇÇ< =
order
ÉÉ 
.
ÉÉ 
DeliveryAddress
ÉÉ %
=
ÉÉ& '
orderDto
ÉÉ( 0
.
ÉÉ0 1
DeliveryAddress
ÉÉ1 @
;
ÉÉ@ A
order
ÑÑ 
.
ÑÑ 
DeliveryDate
ÑÑ "
=
ÑÑ# $
(
ÑÑ% &
DateTime
ÑÑ& .
)
ÑÑ. /
orderDto
ÑÑ/ 7
.
ÑÑ7 8
DeliveryDate
ÑÑ8 D
;
ÑÑD E
_context
ÜÜ 
.
ÜÜ 
Orders
ÜÜ 
.
ÜÜ  
Update
ÜÜ  &
(
ÜÜ& '
order
ÜÜ' ,
)
ÜÜ, -
;
ÜÜ- .
_context
áá 
.
áá 
SaveChanges
áá $
(
áá$ %
)
áá% &
;
áá& '
}
àà 
}
ââ 	
public
ãã 
void
ãã 
UpdateOrderStatus
ãã %
(
ãã% &
int
ãã& )
orderId
ãã* 1
,
ãã1 2
string
ãã3 9
status
ãã: @
)
ãã@ A
{
åå 	
var
çç 
order
çç 
=
çç 
_context
çç  
.
çç  !
Orders
çç! '
.
çç' (
Find
çç( ,
(
çç, -
orderId
çç- 4
)
çç4 5
;
çç5 6
if
éé 
(
éé 
order
éé 
!=
éé 
null
éé 
)
éé 
{
èè 
order
êê 
.
êê 
OrderStatus
êê !
=
êê" #
status
êê$ *
;
êê* +
_context
ëë 
.
ëë 
Orders
ëë 
.
ëë  
Update
ëë  &
(
ëë& '
order
ëë' ,
)
ëë, -
;
ëë- .
_context
íí 
.
íí 
SaveChanges
íí $
(
íí$ %
)
íí% &
;
íí& '
}
ìì 
}
îî 	
public
óó 
void
óó 
DeleteOrder
óó 
(
óó  
int
óó  #
id
óó$ &
)
óó& '
{
òò 	
var
ôô 
order
ôô 
=
ôô 
_context
ôô  
.
ôô  !
Orders
ôô! '
.
ôô' (
Find
ôô( ,
(
ôô, -
id
ôô- /
)
ôô/ 0
;
ôô0 1
if
öö 
(
öö 
order
öö 
!=
öö 
null
öö 
)
öö 
{
õõ 
_context
úú 
.
úú 
Orders
úú 
.
úú  
Remove
úú  &
(
úú& '
order
úú' ,
)
úú, -
;
úú- .
_context
ùù 
.
ùù 
SaveChanges
ùù $
(
ùù$ %
)
ùù% &
;
ùù& '
}
ûû 
}
üü 	
}
†† 
}°° è2
;D:\Hotpot\HotpotLibrary\Repository\OrderDetailRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{		 
public

 

class

 "
OrderDetailsRepository

 '
:

( )!
IOrderDetailInterface

* ?
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public "
OrderDetailsRepository %
(% &
AppDbContext& 2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
OrderDetailDTO 
GetOrderDetailsById 1
(1 2
int2 5
id6 8
)8 9
{ 	
var 
orderDetails 
= 
_context '
.' (
OrderDetails( 4
.4 5
Find5 9
(9 :
id: <
)< =
;= >
if 
( 
orderDetails 
== 
null  $
)$ %
return& ,
null- 1
;1 2
return 
new 
OrderDetailDTO %
{ 
OrderID 
= 
orderDetails &
.& '
OrderID' .
,. /

MenuItemID 
= 
orderDetails )
.) *

MenuItemID* 4
,4 5
Quantity 
= 
orderDetails '
.' (
Quantity( 0
,0 1
Price 
= 
orderDetails $
.$ %
Price% *
,* +
Subtotal 
= 
( 
decimal #
)# $
orderDetails$ 0
.0 1
Subtotal1 9
} 
; 
}   	
public"" 
IEnumerable"" 
<"" 
OrderDetailDTO"" )
>"") *
GetAllOrderDetails""+ =
(""= >
)""> ?
{## 	
return$$ 
_context$$ 
.$$ 
OrderDetails$$ (
.$$( )
Select$$) /
($$/ 0
orderDetails$$0 <
=>$$= ?
new$$@ C
OrderDetailDTO$$D R
{%% 
OrderID&& 
=&& 
orderDetails&& &
.&&& '
OrderID&&' .
,&&. /

MenuItemID'' 
='' 
orderDetails'' )
.'') *

MenuItemID''* 4
,''4 5
Quantity(( 
=(( 
orderDetails(( '
.((' (
Quantity((( 0
,((0 1
Price)) 
=)) 
orderDetails)) $
.))$ %
Price))% *
,))* +
Subtotal** 
=** 
(** 
decimal** #
)**# $
orderDetails**$ 0
.**0 1
Subtotal**1 9
}++ 
)++ 
.++ 
ToList++ 
(++ 
)++ 
;++ 
},, 	
public.. 
void.. 
CreateOrderDetails.. &
(..& '
OrderDetailDTO..' 5
OrderDetailDTO..6 D
)..D E
{// 	
var00 
orderDetails00 
=00 
new00 "
OrderDetail00# .
{11 
OrderID22 
=22 
OrderDetailDTO22 (
.22( )
OrderID22) 0
,220 1

MenuItemID33 
=33 
OrderDetailDTO33 +
.33+ ,

MenuItemID33, 6
,336 7
Quantity44 
=44 
OrderDetailDTO44 )
.44) *
Quantity44* 2
,442 3
Price55 
=55 
OrderDetailDTO55 &
.55& '
Price55' ,
}66 
;66 
_context77 
.77 
OrderDetails77 !
.77! "
Add77" %
(77% &
orderDetails77& 2
)772 3
;773 4
_context88 
.88 
SaveChanges88  
(88  !
)88! "
;88" #
}99 	
public;; 
void;; 
UpdateOrderDetails;; &
(;;& '
int;;' *
id;;+ -
,;;- .
OrderDetailDTO;;/ =
OrderDetailDTO;;> L
);;L M
{<< 	
var== 
orderDetails== 
=== 
_context== '
.==' (
OrderDetails==( 4
.==4 5
Find==5 9
(==9 :
id==: <
)==< =
;=== >
if>> 
(>> 
orderDetails>> 
!=>> 
null>>  $
)>>$ %
{?? 
orderDetails@@ 
.@@ 
OrderID@@ $
=@@% &
OrderDetailDTO@@' 5
.@@5 6
OrderID@@6 =
;@@= >
orderDetailsAA 
.AA 

MenuItemIDAA '
=AA( )
OrderDetailDTOAA* 8
.AA8 9

MenuItemIDAA9 C
;AAC D
orderDetailsBB 
.BB 
QuantityBB %
=BB& '
OrderDetailDTOBB( 6
.BB6 7
QuantityBB7 ?
;BB? @
orderDetailsCC 
.CC 
PriceCC "
=CC# $
OrderDetailDTOCC% 3
.CC3 4
PriceCC4 9
;CC9 :
_contextEE 
.EE 
OrderDetailsEE %
.EE% &
UpdateEE& ,
(EE, -
orderDetailsEE- 9
)EE9 :
;EE: ;
_contextFF 
.FF 
SaveChangesFF $
(FF$ %
)FF% &
;FF& '
}GG 
}HH 	
publicJJ 
voidJJ 
DeleteOrderDetailsJJ &
(JJ& '
intJJ' *
idJJ+ -
)JJ- .
{KK 	
varLL 
orderDetailsLL 
=LL 
_contextLL '
.LL' (
OrderDetailsLL( 4
.LL4 5
FindLL5 9
(LL9 :
idLL: <
)LL< =
;LL= >
ifMM 
(MM 
orderDetailsMM 
!=MM 
nullMM  $
)MM$ %
{NN 
_contextOO 
.OO 
OrderDetailsOO %
.OO% &
RemoveOO& ,
(OO, -
orderDetailsOO- 9
)OO9 :
;OO: ;
_contextPP 
.PP 
SaveChangesPP $
(PP$ %
)PP% &
;PP& '
}QQ 
}RR 	
}SS 
}TT »·
9D:\Hotpot\HotpotLibrary\Repository\MenuItemsRepository.cs
	namespace		 	
HotpotLibrary		
 
.		 

Repository		 "
{

 
public 

class 
MenuItemRepository #
:$ %
IMenuItemRepository& 9
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
MenuItemRepository !
(! "
AppDbContext" .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
public 
MenuItemDTO 
GetMenuItemById *
(* +
int+ .
id/ 1
)1 2
{ 	
var 
menuItem 
= 
_context #
.# $
	MenuItems$ -
.- .
Find. 2
(2 3
id3 5
)5 6
;6 7
if 
( 
menuItem 
== 
null  
)  !
return" (
null) -
;- .
return 
new 
MenuItemDTO "
{ 

MenuItemID 
= 
menuItem %
.% &

MenuItemID& 0
,0 1
MenuID 
= 
menuItem !
.! "
MenuID" (
,( )
ItemName 
= 
menuItem #
.# $
ItemName$ ,
,, -
Description 
= 
menuItem &
.& '
Description' 2
,2 3
Category 
= 
menuItem #
.# $
Category$ ,
,, -
Price   
=   
menuItem    
.    !
Price  ! &
,  & '
SpecialDietaryInfo!! "
=!!# $
menuItem!!% -
.!!- .
SpecialDietaryInfo!!. @
,!!@ A
	TasteInfo"" 
="" 
menuItem"" $
.""$ %
	TasteInfo""% .
,"". /
NutritionalInfo## 
=##  !
menuItem##" *
.##* +
NutritionalInfo##+ :
,##: ;
AvailabilityTime$$  
=$$! "
menuItem$$# +
.$$+ ,
AvailabilityTime$$, <
,$$< =
	IsInStock%% 
=%% 
(%% 
bool%% !
)%%! "
menuItem%%" *
.%%* +
	IsInStock%%+ 4
,%%4 5
ImageUrl&& 
=&& 
menuItem&& #
.&&# $
ImageUrl&&$ ,
,&&, -
IsAvailable'' 
='' 
('' 
bool'' #
)''# $
menuItem''$ ,
.'', -
IsAvailable''- 8
,''8 9
	Discounts(( 
=(( 
((( 
decimal(( $
)(($ %
menuItem((% -
.((- .
	Discounts((. 7
,((7 8
CreatedDate)) 
=)) 
()) 
DateTime)) '
)))' (
menuItem))( 0
.))0 1
CreatedDate))1 <
}** 
;** 
}++ 	
public.. 
List.. 
<.. 
MenuItemDTO.. 
>..   
GetMenuItemsByMenuId..! 5
(..5 6
int..6 9
menuId..: @
)..@ A
{// 	
var00 
	menuItems00 
=00 
_context00 $
.00$ %
	MenuItems00% .
.11 
Where11 
(11 
mi11 
=>11 
mi11 
.11  
MenuID11  &
==11' )
menuId11* 0
)110 1
.22 
ToList22 
(22 
)22 
;22 
if44 
(44 
	menuItems44 
==44 
null44 !
||44" $
!44% &
	menuItems44& /
.44/ 0
Any440 3
(443 4
)444 5
)445 6
return55 
new55 
List55 
<55  
MenuItemDTO55  +
>55+ ,
(55, -
)55- .
;55. /
return77 
	menuItems77 
.77 
Select77 #
(77# $
menuItem77$ ,
=>77- /
new770 3
MenuItemDTO774 ?
{88 

MenuItemID99 
=99 
menuItem99 %
.99% &

MenuItemID99& 0
,990 1
MenuID:: 
=:: 
menuItem:: !
.::! "
MenuID::" (
,::( )
ItemName;; 
=;; 
menuItem;; #
.;;# $
ItemName;;$ ,
,;;, -
Description<< 
=<< 
menuItem<< &
.<<& '
Description<<' 2
,<<2 3
Category== 
=== 
menuItem== #
.==# $
Category==$ ,
,==, -
Price>> 
=>> 
menuItem>>  
.>>  !
Price>>! &
,>>& '
SpecialDietaryInfo?? "
=??# $
menuItem??% -
.??- .
SpecialDietaryInfo??. @
,??@ A
	TasteInfo@@ 
=@@ 
menuItem@@ $
.@@$ %
	TasteInfo@@% .
,@@. /
NutritionalInfoAA 
=AA  !
menuItemAA" *
.AA* +
NutritionalInfoAA+ :
,AA: ;
AvailabilityTimeBB  
=BB! "
menuItemBB# +
.BB+ ,
AvailabilityTimeBB, <
,BB< =
	IsInStockCC 
=CC 
(CC 
boolCC !
)CC! "
menuItemCC" *
.CC* +
	IsInStockCC+ 4
,CC4 5
ImageUrlDD 
=DD 
menuItemDD #
.DD# $
ImageUrlDD$ ,
,DD, -
IsAvailableEE 
=EE 
(EE 
boolEE #
)EE# $
menuItemEE$ ,
.EE, -
IsAvailableEE- 8
,EE8 9
	DiscountsFF 
=FF 
(FF 
decimalFF $
)FF$ %
menuItemFF% -
.FF- .
	DiscountsFF. 7
,FF7 8
CreatedDateGG 
=GG 
(GG 
DateTimeGG '
)GG' (
menuItemGG( 0
.GG0 1
CreatedDateGG1 <
}HH 
)HH 
.HH 
ToListHH 
(HH 
)HH 
;HH 
}II 	
publicJJ 
IEnumerableJJ 
<JJ 
MenuItemDTOJJ &
>JJ& '#
GetAllDistinctMenuItemsJJ( ?
(JJ? @
)JJ@ A
{KK 	
varLL 
sqlQueryLL 
=LL 
$strLY 
;YY 
return\\ 
_context\\ 
.\\ 
	MenuItems\\ %
.]] 

FromSqlRaw]] 
(]] 
sqlQuery]] $
)]]$ %
.^^ 
Select^^ 
(^^ 
menuItem^^  
=>^^! #
new^^$ '
MenuItemDTO^^( 3
{__ 
ItemName`` 
=`` 
menuItem`` '
.``' (
ItemName``( 0
,``0 1
Descriptionaa 
=aa  !
menuItemaa" *
.aa* +
Descriptionaa+ 6
,aa6 7
Categorybb 
=bb 
menuItembb '
.bb' (
Categorybb( 0
,bb0 1
Pricecc 
=cc 
menuItemcc $
.cc$ %
Pricecc% *
,cc* +
SpecialDietaryInfodd &
=dd' (
menuItemdd) 1
.dd1 2
SpecialDietaryInfodd2 D
,ddD E
	TasteInfoee 
=ee 
menuItemee  (
.ee( )
	TasteInfoee) 2
,ee2 3
NutritionalInfoff #
=ff$ %
menuItemff& .
.ff. /
NutritionalInfoff/ >
,ff> ?
AvailabilityTimegg $
=gg% &
menuItemgg' /
.gg/ 0
AvailabilityTimegg0 @
,gg@ A
	IsInStockhh 
=hh 
menuItemhh  (
.hh( )
	IsInStockhh) 2
??hh3 5
falsehh6 ;
,hh; <
ImageUrlii 
=ii 
menuItemii '
.ii' (
ImageUrlii( 0
,ii0 1
	Discountsjj 
=jj 
menuItemjj  (
.jj( )
	Discountsjj) 2
>=jj3 5
$numjj6 7
?jj8 9
menuItemjj: B
.jjB C
	DiscountsjjC L
:jjM N
$numjjO Q
}kk 
)kk 
.ll 
ToListll 
(ll 
)ll 
;ll 
}mm 	
publicuu 
IEnumerableuu 
<uu 
MenuItemDTOuu &
>uu& '
GetAllMenuItemsuu( 7
(uu7 8
)uu8 9
{vv 	
returnww 
_contextww 
.ww 
	MenuItemsww %
.ww% &
Selectww& ,
(ww, -
menuItemww- 5
=>ww6 8
newww9 <
MenuItemDTOww= H
{xx 

MenuItemIDyy 
=yy 
menuItemyy %
.yy% &

MenuItemIDyy& 0
,yy0 1
MenuIDzz 
=zz 
menuItemzz !
.zz! "
MenuIDzz" (
,zz( )
ItemName{{ 
={{ 
menuItem{{ #
.{{# $
ItemName{{$ ,
,{{, -
Description|| 
=|| 
menuItem|| &
.||& '
Description||' 2
,||2 3
Category}} 
=}} 
menuItem}} #
.}}# $
Category}}$ ,
,}}, -
Price~~ 
=~~ 
menuItem~~  
.~~  !
Price~~! &
,~~& '
SpecialDietaryInfo "
=# $
menuItem% -
.- .
SpecialDietaryInfo. @
,@ A
	TasteInfo
ÄÄ 
=
ÄÄ 
menuItem
ÄÄ $
.
ÄÄ$ %
	TasteInfo
ÄÄ% .
,
ÄÄ. /
NutritionalInfo
ÅÅ 
=
ÅÅ  !
menuItem
ÅÅ" *
.
ÅÅ* +
NutritionalInfo
ÅÅ+ :
,
ÅÅ: ;
AvailabilityTime
ÇÇ  
=
ÇÇ! "
menuItem
ÇÇ# +
.
ÇÇ+ ,
AvailabilityTime
ÇÇ, <
,
ÇÇ< =
	IsInStock
ÉÉ 
=
ÉÉ 
(
ÉÉ 
bool
ÉÉ !
)
ÉÉ! "
menuItem
ÉÉ" *
.
ÉÉ* +
	IsInStock
ÉÉ+ 4
,
ÉÉ4 5
ImageUrl
ÑÑ 
=
ÑÑ 
menuItem
ÑÑ #
.
ÑÑ# $
ImageUrl
ÑÑ$ ,
,
ÑÑ, -
IsAvailable
ÖÖ 
=
ÖÖ 
(
ÖÖ 
bool
ÖÖ #
)
ÖÖ# $
menuItem
ÖÖ$ ,
.
ÖÖ, -
IsAvailable
ÖÖ- 8
,
ÖÖ8 9
	Discounts
ÜÜ 
=
ÜÜ 
(
ÜÜ 
decimal
ÜÜ $
)
ÜÜ$ %
menuItem
ÜÜ% -
.
ÜÜ- .
	Discounts
ÜÜ. 7
,
ÜÜ7 8
CreatedDate
áá 
=
áá 
(
áá 
DateTime
áá '
)
áá' (
menuItem
áá( 0
.
áá0 1
CreatedDate
áá1 <
}
àà 
)
àà 
.
àà 
ToList
àà 
(
àà 
)
àà 
;
àà 
}
ââ 	
public
ãã 
void
ãã 
CreateMenuItem
ãã "
(
ãã" #
MenuItemDTO
ãã# .
menuItemDto
ãã/ :
)
ãã: ;
{
åå 	
var
çç 
menuItem
çç 
=
çç 
new
çç 
MenuItem
çç '
{
éé 

MenuItemID
èè 
=
èè 
menuItemDto
èè (
.
èè( )

MenuItemID
èè) 3
,
èè3 4
MenuID
êê 
=
êê 
menuItemDto
êê $
.
êê$ %
MenuID
êê% +
,
êê+ ,
ItemName
ëë 
=
ëë 
menuItemDto
ëë &
.
ëë& '
ItemName
ëë' /
,
ëë/ 0
Description
íí 
=
íí 
menuItemDto
íí )
.
íí) *
Description
íí* 5
,
íí5 6
Category
ìì 
=
ìì 
menuItemDto
ìì &
.
ìì& '
Category
ìì' /
,
ìì/ 0
Price
îî 
=
îî 
menuItemDto
îî #
.
îî# $
Price
îî$ )
,
îî) * 
SpecialDietaryInfo
ïï "
=
ïï# $
menuItemDto
ïï% 0
.
ïï0 1 
SpecialDietaryInfo
ïï1 C
,
ïïC D
	TasteInfo
ññ 
=
ññ 
menuItemDto
ññ '
.
ññ' (
	TasteInfo
ññ( 1
,
ññ1 2
NutritionalInfo
óó 
=
óó  !
menuItemDto
óó" -
.
óó- .
NutritionalInfo
óó. =
,
óó= >
AvailabilityTime
òò  
=
òò! "
menuItemDto
òò# .
.
òò. /
AvailabilityTime
òò/ ?
,
òò? @
	IsInStock
ôô 
=
ôô 
menuItemDto
ôô '
.
ôô' (
	IsInStock
ôô( 1
,
ôô1 2
ImageUrl
öö 
=
öö 
menuItemDto
öö &
.
öö& '
ImageUrl
öö' /
,
öö/ 0
IsAvailable
õõ 
=
õõ 
menuItemDto
õõ )
.
õõ) *
IsAvailable
õõ* 5
,
õõ5 6
	Discounts
úú 
=
úú 
menuItemDto
úú '
.
úú' (
	Discounts
úú( 1
,
úú1 2
CreatedDate
ùù 
=
ùù 
menuItemDto
ùù )
.
ùù) *
CreatedDate
ùù* 5
}
ûû 
;
ûû 
_context
üü 
.
üü 
	MenuItems
üü 
.
üü 
Add
üü "
(
üü" #
menuItem
üü# +
)
üü+ ,
;
üü, -
_context
†† 
.
†† 
SaveChanges
††  
(
††  !
)
††! "
;
††" #
}
°° 	
public
££ 
void
££ 
UpdateMenuItem
££ "
(
££" #
int
££# &
id
££' )
,
££) *
MenuItemDTO
££+ 6
menuItemDto
££7 B
)
££B C
{
§§ 	
var
•• 
menuItem
•• 
=
•• 
_context
•• #
.
••# $
	MenuItems
••$ -
.
••- .
Find
••. 2
(
••2 3
id
••3 5
)
••5 6
;
••6 7
if
¶¶ 
(
¶¶ 
menuItem
¶¶ 
!=
¶¶ 
null
¶¶  
)
¶¶  !
{
ßß 
menuItem
®® 
.
®® 
MenuID
®® 
=
®®  !
menuItemDto
®®" -
.
®®- .
MenuID
®®. 4
;
®®4 5
menuItem
©© 
.
©© 
ItemName
©© !
=
©©" #
menuItemDto
©©$ /
.
©©/ 0
ItemName
©©0 8
;
©©8 9
menuItem
™™ 
.
™™ 
Description
™™ $
=
™™% &
menuItemDto
™™' 2
.
™™2 3
Description
™™3 >
;
™™> ?
menuItem
´´ 
.
´´ 
Category
´´ !
=
´´" #
menuItemDto
´´$ /
.
´´/ 0
Category
´´0 8
;
´´8 9
menuItem
¨¨ 
.
¨¨ 
Price
¨¨ 
=
¨¨  
menuItemDto
¨¨! ,
.
¨¨, -
Price
¨¨- 2
;
¨¨2 3
menuItem
≠≠ 
.
≠≠  
SpecialDietaryInfo
≠≠ +
=
≠≠, -
menuItemDto
≠≠. 9
.
≠≠9 : 
SpecialDietaryInfo
≠≠: L
;
≠≠L M
menuItem
ÆÆ 
.
ÆÆ 
	TasteInfo
ÆÆ "
=
ÆÆ# $
menuItemDto
ÆÆ% 0
.
ÆÆ0 1
	TasteInfo
ÆÆ1 :
;
ÆÆ: ;
menuItem
ØØ 
.
ØØ 
NutritionalInfo
ØØ (
=
ØØ) *
menuItemDto
ØØ+ 6
.
ØØ6 7
NutritionalInfo
ØØ7 F
;
ØØF G
menuItem
∞∞ 
.
∞∞ 
AvailabilityTime
∞∞ )
=
∞∞* +
menuItemDto
∞∞, 7
.
∞∞7 8
AvailabilityTime
∞∞8 H
;
∞∞H I
menuItem
±± 
.
±± 
	IsInStock
±± "
=
±±# $
menuItemDto
±±% 0
.
±±0 1
	IsInStock
±±1 :
;
±±: ;
menuItem
≤≤ 
.
≤≤ 
ImageUrl
≤≤ !
=
≤≤" #
menuItemDto
≤≤$ /
.
≤≤/ 0
ImageUrl
≤≤0 8
;
≤≤8 9
menuItem
≥≥ 
.
≥≥ 
IsAvailable
≥≥ $
=
≥≥% &
menuItemDto
≥≥' 2
.
≥≥2 3
IsAvailable
≥≥3 >
;
≥≥> ?
menuItem
¥¥ 
.
¥¥ 
	Discounts
¥¥ "
=
¥¥# $
menuItemDto
¥¥% 0
.
¥¥0 1
	Discounts
¥¥1 :
;
¥¥: ;
menuItem
µµ 
.
µµ 
CreatedDate
µµ $
=
µµ% &
menuItemDto
µµ' 2
.
µµ2 3
CreatedDate
µµ3 >
;
µµ> ?
_context
∑∑ 
.
∑∑ 
	MenuItems
∑∑ "
.
∑∑" #
Update
∑∑# )
(
∑∑) *
menuItem
∑∑* 2
)
∑∑2 3
;
∑∑3 4
_context
∏∏ 
.
∏∏ 
SaveChanges
∏∏ $
(
∏∏$ %
)
∏∏% &
;
∏∏& '
}
ππ 
}
∫∫ 	
public
ºº 
void
ºº 
DeleteMenuItem
ºº "
(
ºº" #
int
ºº# &
id
ºº' )
)
ºº) *
{
ΩΩ 	
var
ææ 
menuItem
ææ 
=
ææ 
_context
ææ #
.
ææ# $
	MenuItems
ææ$ -
.
ææ- .
Find
ææ. 2
(
ææ2 3
id
ææ3 5
)
ææ5 6
;
ææ6 7
if
øø 
(
øø 
menuItem
øø 
!=
øø 
null
øø  
)
øø  !
{
¿¿ 
_context
¡¡ 
.
¡¡ 
	MenuItems
¡¡ "
.
¡¡" #
Remove
¡¡# )
(
¡¡) *
menuItem
¡¡* 2
)
¡¡2 3
;
¡¡3 4
_context
¬¬ 
.
¬¬ 
SaveChanges
¬¬ $
(
¬¬$ %
)
¬¬% &
;
¬¬& '
}
√√ 
}
ƒƒ 	
public
»» 
IEnumerable
»» 
<
»» 
MenuItemDTO
»» &
>
»»& '$
GetMenuItemsByCategory
»»( >
(
»»> ?
string
»»? E
category
»»F N
)
»»N O
{
…… 	
return
   
_context
   
.
   
	MenuItems
   %
.
  % &
Where
  & +
(
  + ,
m
  , -
=>
  . 0
m
  1 2
.
  2 3
Category
  3 ;
==
  < >
category
  ? G
)
  G H
.
  H I
Select
  I O
(
  O P
menuItem
  P X
=>
  Y [
new
  \ _
MenuItemDTO
  ` k
{
ÀÀ 

MenuItemID
ÃÃ 
=
ÃÃ 
menuItem
ÃÃ %
.
ÃÃ% &

MenuItemID
ÃÃ& 0
,
ÃÃ0 1
ItemName
ÕÕ 
=
ÕÕ 
menuItem
ÕÕ #
.
ÕÕ# $
ItemName
ÕÕ$ ,
,
ÕÕ, -
Category
ŒŒ 
=
ŒŒ 
menuItem
ŒŒ #
.
ŒŒ# $
Category
ŒŒ$ ,
,
ŒŒ, -
Price
œœ 
=
œœ 
menuItem
œœ  
.
œœ  !
Price
œœ! &
,
œœ& '
	TasteInfo
–– 
=
–– 
menuItem
–– $
.
––$ %
	TasteInfo
––% .
,
––. / 
SpecialDietaryInfo
—— "
=
——# $
menuItem
——% -
.
——- . 
SpecialDietaryInfo
——. @
,
——@ A
NutritionalInfo
““ 
=
““  !
menuItem
““" *
.
““* +
NutritionalInfo
““+ :
,
““: ;
	Discounts
”” 
=
”” 
menuItem
”” $
.
””$ %
	Discounts
””% .
}
‘‘ 
)
‘‘ 
.
‘‘ 
ToList
‘‘ 
(
‘‘ 
)
‘‘ 
;
‘‘ 
}
’’ 	
public
◊◊ 
IEnumerable
◊◊ 
<
◊◊ 
MenuItemDTO
◊◊ &
>
◊◊& '&
GetMenuItemsByLeastPrice
◊◊( @
(
◊◊@ A
)
◊◊A B
{
ÿÿ 	
return
ŸŸ 
_context
ŸŸ 
.
ŸŸ 
	MenuItems
ŸŸ %
.
ŸŸ% &
OrderBy
ŸŸ& -
(
ŸŸ- .
m
ŸŸ. /
=>
ŸŸ0 2
m
ŸŸ3 4
.
ŸŸ4 5
Price
ŸŸ5 :
)
ŸŸ: ;
.
ŸŸ; <
Select
ŸŸ< B
(
ŸŸB C
menuItem
ŸŸC K
=>
ŸŸL N
new
ŸŸO R
MenuItemDTO
ŸŸS ^
{
⁄⁄ 

MenuItemID
€€ 
=
€€ 
menuItem
€€ %
.
€€% &

MenuItemID
€€& 0
,
€€0 1
ItemName
‹‹ 
=
‹‹ 
menuItem
‹‹ #
.
‹‹# $
ItemName
‹‹$ ,
,
‹‹, -
Category
›› 
=
›› 
menuItem
›› #
.
››# $
Category
››$ ,
,
››, -
Price
ﬁﬁ 
=
ﬁﬁ 
menuItem
ﬁﬁ  
.
ﬁﬁ  !
Price
ﬁﬁ! &
,
ﬁﬁ& '
	TasteInfo
ﬂﬂ 
=
ﬂﬂ 
menuItem
ﬂﬂ $
.
ﬂﬂ$ %
	TasteInfo
ﬂﬂ% .
,
ﬂﬂ. / 
SpecialDietaryInfo
‡‡ "
=
‡‡# $
menuItem
‡‡% -
.
‡‡- . 
SpecialDietaryInfo
‡‡. @
,
‡‡@ A
NutritionalInfo
·· 
=
··  !
menuItem
··" *
.
··* +
NutritionalInfo
··+ :
,
··: ;
	Discounts
‚‚ 
=
‚‚ 
menuItem
‚‚ $
.
‚‚$ %
	Discounts
‚‚% .
}
„„ 
)
„„ 
.
„„ 
ToList
„„ 
(
„„ 
)
„„ 
;
„„ 
}
‰‰ 	
public
ÊÊ 
IEnumerable
ÊÊ 
<
ÊÊ 
MenuItemDTO
ÊÊ &
>
ÊÊ& '%
GetMenuItemsByTasteInfo
ÊÊ( ?
(
ÊÊ? @
string
ÊÊ@ F
	tasteInfo
ÊÊG P
)
ÊÊP Q
{
ÁÁ 	
return
ËË 
_context
ËË 
.
ËË 
	MenuItems
ËË %
.
ËË% &
Where
ËË& +
(
ËË+ ,
m
ËË, -
=>
ËË. 0
m
ËË1 2
.
ËË2 3
	TasteInfo
ËË3 <
==
ËË= ?
	tasteInfo
ËË@ I
)
ËËI J
.
ËËJ K
Select
ËËK Q
(
ËËQ R
menuItem
ËËR Z
=>
ËË[ ]
new
ËË^ a
MenuItemDTO
ËËb m
{
ÈÈ 

MenuItemID
ÍÍ 
=
ÍÍ 
menuItem
ÍÍ %
.
ÍÍ% &

MenuItemID
ÍÍ& 0
,
ÍÍ0 1
ItemName
ÎÎ 
=
ÎÎ 
menuItem
ÎÎ #
.
ÎÎ# $
ItemName
ÎÎ$ ,
,
ÎÎ, -
Category
ÏÏ 
=
ÏÏ 
menuItem
ÏÏ #
.
ÏÏ# $
Category
ÏÏ$ ,
,
ÏÏ, -
Price
ÌÌ 
=
ÌÌ 
menuItem
ÌÌ  
.
ÌÌ  !
Price
ÌÌ! &
,
ÌÌ& '
	TasteInfo
ÓÓ 
=
ÓÓ 
menuItem
ÓÓ $
.
ÓÓ$ %
	TasteInfo
ÓÓ% .
,
ÓÓ. / 
SpecialDietaryInfo
ÔÔ "
=
ÔÔ# $
menuItem
ÔÔ% -
.
ÔÔ- . 
SpecialDietaryInfo
ÔÔ. @
,
ÔÔ@ A
NutritionalInfo
 
=
  !
menuItem
" *
.
* +
NutritionalInfo
+ :
,
: ;
	Discounts
ÒÒ 
=
ÒÒ 
menuItem
ÒÒ $
.
ÒÒ$ %
	Discounts
ÒÒ% .
}
ÚÚ 
)
ÚÚ 
.
ÚÚ 
ToList
ÚÚ 
(
ÚÚ 
)
ÚÚ 
;
ÚÚ 
}
ÛÛ 	
public
ıı 
IEnumerable
ıı 
<
ıı 
MenuItemDTO
ıı &
>
ıı& '.
 GetMenuItemsBySpecialDietaryInfo
ıı( H
(
ııH I
string
ııI O
dietaryInfo
ııP [
)
ıı[ \
{
ˆˆ 	
return
˜˜ 
_context
˜˜ 
.
˜˜ 
	MenuItems
˜˜ %
.
˜˜% &
Where
˜˜& +
(
˜˜+ ,
m
˜˜, -
=>
˜˜. 0
m
˜˜1 2
.
˜˜2 3 
SpecialDietaryInfo
˜˜3 E
==
˜˜F H
dietaryInfo
˜˜I T
)
˜˜T U
.
˜˜U V
Select
˜˜V \
(
˜˜\ ]
menuItem
˜˜] e
=>
˜˜f h
new
˜˜i l
MenuItemDTO
˜˜m x
{
¯¯ 

MenuItemID
˘˘ 
=
˘˘ 
menuItem
˘˘ %
.
˘˘% &

MenuItemID
˘˘& 0
,
˘˘0 1
ItemName
˙˙ 
=
˙˙ 
menuItem
˙˙ #
.
˙˙# $
ItemName
˙˙$ ,
,
˙˙, -
Category
˚˚ 
=
˚˚ 
menuItem
˚˚ #
.
˚˚# $
Category
˚˚$ ,
,
˚˚, -
Price
¸¸ 
=
¸¸ 
menuItem
¸¸  
.
¸¸  !
Price
¸¸! &
,
¸¸& '
	TasteInfo
˝˝ 
=
˝˝ 
menuItem
˝˝ $
.
˝˝$ %
	TasteInfo
˝˝% .
,
˝˝. / 
SpecialDietaryInfo
˛˛ "
=
˛˛# $
menuItem
˛˛% -
.
˛˛- . 
SpecialDietaryInfo
˛˛. @
,
˛˛@ A
NutritionalInfo
ˇˇ 
=
ˇˇ  !
menuItem
ˇˇ" *
.
ˇˇ* +
NutritionalInfo
ˇˇ+ :
,
ˇˇ: ;
	Discounts
ÄÄ 
=
ÄÄ 
menuItem
ÄÄ $
.
ÄÄ$ %
	Discounts
ÄÄ% .
}
ÅÅ 
)
ÅÅ 
.
ÅÅ 
ToList
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÇÇ 	
public
ÑÑ 
IEnumerable
ÑÑ 
<
ÑÑ 
MenuItemDTO
ÑÑ &
>
ÑÑ& '+
GetMenuItemsByNutritionalInfo
ÑÑ( E
(
ÑÑE F
string
ÑÑF L
nutritionalInfo
ÑÑM \
)
ÑÑ\ ]
{
ÖÖ 	
return
ÜÜ 
_context
ÜÜ 
.
ÜÜ 
	MenuItems
ÜÜ %
.
ÜÜ% &
Where
ÜÜ& +
(
ÜÜ+ ,
m
ÜÜ, -
=>
ÜÜ. 0
m
ÜÜ1 2
.
ÜÜ2 3
NutritionalInfo
ÜÜ3 B
==
ÜÜC E
nutritionalInfo
ÜÜF U
)
ÜÜU V
.
ÜÜV W
Select
ÜÜW ]
(
ÜÜ] ^
menuItem
ÜÜ^ f
=>
ÜÜg i
new
ÜÜj m
MenuItemDTO
ÜÜn y
{
áá 

MenuItemID
àà 
=
àà 
menuItem
àà %
.
àà% &

MenuItemID
àà& 0
,
àà0 1
ItemName
ââ 
=
ââ 
menuItem
ââ #
.
ââ# $
ItemName
ââ$ ,
,
ââ, -
Category
ää 
=
ää 
menuItem
ää #
.
ää# $
Category
ää$ ,
,
ää, -
Price
ãã 
=
ãã 
menuItem
ãã  
.
ãã  !
Price
ãã! &
,
ãã& '
	TasteInfo
åå 
=
åå 
menuItem
åå $
.
åå$ %
	TasteInfo
åå% .
,
åå. / 
SpecialDietaryInfo
çç "
=
çç# $
menuItem
çç% -
.
çç- . 
SpecialDietaryInfo
çç. @
,
çç@ A
NutritionalInfo
éé 
=
éé  !
menuItem
éé" *
.
éé* +
NutritionalInfo
éé+ :
,
éé: ;
	Discounts
èè 
=
èè 
menuItem
èè $
.
èè$ %
	Discounts
èè% .
}
êê 
)
êê 
.
êê 
ToList
êê 
(
êê 
)
êê 
;
êê 
}
ëë 	
public
ìì 
IEnumerable
ìì 
<
ìì 
MenuItemDTO
ìì &
>
ìì& '(
GetMenuItemsByHighDiscount
ìì( B
(
ììB C
)
ììC D
{
îî 	
return
ïï 
_context
ïï 
.
ïï 
	MenuItems
ïï %
.
ïï% &
OrderByDescending
ïï& 7
(
ïï7 8
m
ïï8 9
=>
ïï: <
m
ïï= >
.
ïï> ?
	Discounts
ïï? H
)
ïïH I
.
ïïI J
Select
ïïJ P
(
ïïP Q
menuItem
ïïQ Y
=>
ïïZ \
new
ïï] `
MenuItemDTO
ïïa l
{
ññ 

MenuItemID
óó 
=
óó 
menuItem
óó %
.
óó% &

MenuItemID
óó& 0
,
óó0 1
ItemName
òò 
=
òò 
menuItem
òò #
.
òò# $
ItemName
òò$ ,
,
òò, -
Category
ôô 
=
ôô 
menuItem
ôô #
.
ôô# $
Category
ôô$ ,
,
ôô, -
Price
öö 
=
öö 
menuItem
öö  
.
öö  !
Price
öö! &
,
öö& '
	TasteInfo
õõ 
=
õõ 
menuItem
õõ $
.
õõ$ %
	TasteInfo
õõ% .
,
õõ. / 
SpecialDietaryInfo
úú "
=
úú# $
menuItem
úú% -
.
úú- . 
SpecialDietaryInfo
úú. @
,
úú@ A
NutritionalInfo
ùù 
=
ùù  !
menuItem
ùù" *
.
ùù* +
NutritionalInfo
ùù+ :
,
ùù: ;
	Discounts
ûû 
=
ûû 
menuItem
ûû $
.
ûû$ %
	Discounts
ûû% .
}
üü 
)
üü 
.
üü 
ToList
üü 
(
üü 
)
üü 
;
üü 
}
†† 	
}
°° 
}¢¢ ÿH
4D:\Hotpot\HotpotLibrary\Repository\MenuRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{		 
public

 

class

 
MenuRepository

 
:

  !
IMenuRepository

" 1
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
MenuRepository 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
public 
MenuDTO 
GetMenuById "
(" #
int# &
id' )
)) *
{ 	
var 
menu 
= 
_context 
.  
Menus  %
.% &
Find& *
(* +
id+ -
)- .
;. /
if 
( 
menu 
== 
null 
) 
return $
null% )
;) *
return 
new 
MenuDTO 
{ 
MenuID 
= 
menu 
. 
MenuID $
,$ %
RestaurantID 
= 
menu #
.# $
RestaurantID$ 0
,0 1
MenuName 
= 
menu 
.  
MenuName  (
,( )
Description 
= 
menu "
." #
Description# .
,. /
CreatedDate 
= 
( 
DateTime '
)' (
menu( ,
., -
CreatedDate- 8
,8 9
IsActive 
= 
( 
bool  
)  !
menu! %
.% &
IsActive& .
}   
;   
}!! 	
public## 
List## 
<## 
MenuDTO## 
>## "
GetMenusByRestaurantId## 3
(##3 4
int##4 7
restaurantId##8 D
)##D E
{$$ 	
var%% 
menus%% 
=%% 
_context%%  
.%%  !
Menus%%! &
.&& 
Where&& 
(&& 
m&& 
=>&& 
m&& 
.&& 
RestaurantID&& *
==&&+ -
restaurantId&&. :
)&&: ;
.'' 
ToList'' 
('' 
)'' 
;'' 
if)) 
()) 
menus)) 
==)) 
null)) 
||))  
!))! "
menus))" '
.))' (
Any))( +
())+ ,
))), -
)))- .
return))/ 5
null))6 :
;)): ;
return++ 
menus++ 
.++ 
Select++ 
(++  
menu++  $
=>++% '
new++( +
MenuDTO++, 3
{,, 
MenuID-- 
=-- 
menu-- 
.-- 
MenuID-- $
,--$ %
RestaurantID.. 
=.. 
menu.. #
...# $
RestaurantID..$ 0
,..0 1
MenuName// 
=// 
menu// 
.//  
MenuName//  (
,//( )
Description00 
=00 
menu00 "
.00" #
Description00# .
,00. /
CreatedDate11 
=11 
(11 
DateTime11 '
)11' (
menu11( ,
.11, -
CreatedDate11- 8
,118 9
IsActive22 
=22 
(22 
bool22  
)22  !
menu22! %
.22% &
IsActive22& .
}33 
)33 
.33 
ToList33 
(33 
)33 
;33 
}44 	
public77 
IEnumerable77 
<77 
MenuDTO77 "
>77" #
GetAllMenus77$ /
(77/ 0
)770 1
{88 	
return99 
_context99 
.99 
Menus99 !
.99! "
Select99" (
(99( )
menu99) -
=>99. 0
new991 4
MenuDTO995 <
{:: 
MenuID;; 
=;; 
menu;; 
.;; 
MenuID;; $
,;;$ %
RestaurantID<< 
=<< 
menu<< #
.<<# $
RestaurantID<<$ 0
,<<0 1
MenuName== 
=== 
menu== 
.==  
MenuName==  (
,==( )
Description>> 
=>> 
menu>> "
.>>" #
Description>># .
,>>. /
CreatedDate?? 
=?? 
(?? 
DateTime?? '
)??' (
menu??( ,
.??, -
CreatedDate??- 8
,??8 9
IsActive@@ 
=@@ 
(@@ 
bool@@  
)@@  !
menu@@! %
.@@% &
IsActive@@& .
}AA 
)AA 
.AA 
ToListAA 
(AA 
)AA 
;AA 
}BB 	
publicDD 
voidDD 

CreateMenuDD 
(DD 
MenuDTODD &
menuDtoDD' .
)DD. /
{EE 	
varFF 
menuFF 
=FF 
newFF 
MenuFF 
{GG 
MenuIDHH 
=HH 
menuDtoHH  
.HH  !
MenuIDHH! '
,HH' (
RestaurantIDII 
=II 
menuDtoII &
.II& '
RestaurantIDII' 3
,II3 4
MenuNameJJ 
=JJ 
menuDtoJJ "
.JJ" #
MenuNameJJ# +
,JJ+ ,
DescriptionKK 
=KK 
menuDtoKK %
.KK% &
DescriptionKK& 1
,KK1 2
CreatedDateLL 
=LL 
menuDtoLL %
.LL% &
CreatedDateLL& 1
,LL1 2
IsActiveMM 
=MM 
menuDtoMM "
.MM" #
IsActiveMM# +
}NN 
;NN 
_contextOO 
.OO 
MenusOO 
.OO 
AddOO 
(OO 
menuOO #
)OO# $
;OO$ %
_contextPP 
.PP 
SaveChangesPP  
(PP  !
)PP! "
;PP" #
}RR 	
publicTT 
voidTT 

UpdateMenuTT 
(TT 
intTT "
idTT# %
,TT% &
MenuDTOTT' .
menuDtoTT/ 6
)TT6 7
{UU 	
varVV 
menuVV 
=VV 
_contextVV 
.VV  
MenusVV  %
.VV% &
FindVV& *
(VV* +
idVV+ -
)VV- .
;VV. /
ifWW 
(WW 
menuWW 
!=WW 
nullWW 
)WW 
{XX 
menuYY 
.YY 
RestaurantIDYY !
=YY" #
menuDtoYY$ +
.YY+ ,
RestaurantIDYY, 8
;YY8 9
menuZZ 
.ZZ 
MenuNameZZ 
=ZZ 
menuDtoZZ  '
.ZZ' (
MenuNameZZ( 0
;ZZ0 1
menu[[ 
.[[ 
Description[[  
=[[! "
menuDto[[# *
.[[* +
Description[[+ 6
;[[6 7
menu\\ 
.\\ 
CreatedDate\\  
=\\! "
menuDto\\# *
.\\* +
CreatedDate\\+ 6
;\\6 7
menu]] 
.]] 
IsActive]] 
=]] 
menuDto]]  '
.]]' (
IsActive]]( 0
;]]0 1
_context__ 
.__ 
Menus__ 
.__ 
Update__ %
(__% &
menu__& *
)__* +
;__+ ,
_context`` 
.`` 
SaveChanges`` $
(``$ %
)``% &
;``& '
}bb 
}cc 	
publicee 
voidee 

DeleteMenuee 
(ee 
intee "
idee# %
)ee% &
{ff 	
vargg 
menugg 
=gg 
_contextgg 
.gg  
Menusgg  %
.gg% &
Findgg& *
(gg* +
idgg+ -
)gg- .
;gg. /
ifhh 
(hh 
menuhh 
!=hh 
nullhh 
)hh 
{ii 
_contextjj 
.jj 
Menusjj 
.jj 
Removejj %
(jj% &
menujj& *
)jj* +
;jj+ ,
_contextkk 
.kk 
SaveChangeskk $
(kk$ %
)kk% &
;kk& '
}mm 
}nn 	
publicoo 
intoo 
?oo #
GetRestaurantIdByMenuIdoo +
(oo+ ,
intoo, /
menuIdoo0 6
)oo6 7
{pp 	
varqq 
menuqq 
=qq 
_contextqq 
.qq  
Menusqq  %
.qq% &
Findqq& *
(qq* +
menuIdqq+ 1
)qq1 2
;qq2 3
ifrr 
(rr 
menurr 
==rr 
nullrr 
)rr 
{ss 
returntt 
nulltt 
;tt 
}uu 
returnww 
menuww 
.ww 
RestaurantIDww $
;ww$ %
}xx 	
}yy 
}zz ˜G
>D:\Hotpot\HotpotLibrary\Repository\FeedbackRatingRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{		 
public

 

class

 $
FeedbackRatingRepository

 )
:

* +$
IFeedbackRatingInterface

, D
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public $
FeedbackRatingRepository '
(' (
AppDbContext( 4
context5 <
)< =
{ 	
_context 
= 
context 
; 
} 	
public 
FeedbackRatingDTO  !
GetFeedbackRatingById! 6
(6 7
int7 :
id; =
)= >
{ 	
var 
feedbackRating 
=  
_context! )
.) *
FeedbackRatings* 9
.9 :
Find: >
(> ?
id? A
)A B
;B C
if 
( 
feedbackRating 
== !
null" &
)& '
return( .
null/ 3
;3 4
return 
new 
FeedbackRatingDTO (
{ 
FeedbackRatingID  
=! "
feedbackRating# 1
.1 2
FeedbackRatingID2 B
,B C
UserID 
= 
feedbackRating '
.' (
UserID( .
,. /
RestaurantID 
= 
feedbackRating -
.- .
RestaurantID. :
,: ;
Message 
= 
feedbackRating (
.( )
Message) 0
,0 1
Rating 
= 
feedbackRating '
.' (
Rating( .
,. /
CreatedDate 
= 
( 
DateTime '
)' (
feedbackRating( 6
.6 7
CreatedDate7 B
}   
;   
}!! 	
public## 
List## 
<## 
FeedbackRatingDTO## %
>##% &,
 GetFeedbackRatingsByRestaurantId##' G
(##G H
int##H K
restaurantId##L X
)##X Y
{$$ 	
var%% 
feedbackRatings%% 
=%%  !
_context%%" *
.%%* +
FeedbackRatings%%+ :
.&&* +
Where&&+ 0
(&&0 1
fr&&1 3
=>&&4 6
fr&&7 9
.&&9 :
RestaurantID&&: F
==&&G I
restaurantId&&J V
)&&V W
.''* +
ToList''+ 1
(''1 2
)''2 3
;''3 4
if)) 
()) 
!)) 
feedbackRatings))  
.))  !
Any))! $
())$ %
)))% &
)))& '
return))( .
null))/ 3
;))3 4
return++ 
feedbackRatings++ "
.++" #
Select++# )
(++) *
feedbackRating++* 8
=>++9 ;
new++< ?
FeedbackRatingDTO++@ Q
{,, 
FeedbackRatingID--  
=--! "
feedbackRating--# 1
.--1 2
FeedbackRatingID--2 B
,--B C
UserID.. 
=.. 
feedbackRating.. '
...' (
UserID..( .
,... /
RestaurantID// 
=// 
feedbackRating// -
.//- .
RestaurantID//. :
,//: ;
Message00 
=00 
feedbackRating00 (
.00( )
Message00) 0
,000 1
Rating11 
=11 
feedbackRating11 '
.11' (
Rating11( .
,11. /
CreatedDate22 
=22 
(22 
DateTime22 '
)22' (
feedbackRating22( 6
.226 7
CreatedDate227 B
}33 
)33 
.33 
ToList33 
(33 
)33 
;33 
}44 	
public77 
IEnumerable77 
<77 
FeedbackRatingDTO77 ,
>77, -!
GetAllFeedbackRatings77. C
(77C D
)77D E
{88 	
return99 
_context99 
.99 
FeedbackRatings99 +
.99+ ,
Select99, 2
(992 3
feedbackRating993 A
=>99B D
new99E H
FeedbackRatingDTO99I Z
{:: 
FeedbackRatingID;;  
=;;! "
feedbackRating;;# 1
.;;1 2
FeedbackRatingID;;2 B
,;;B C
UserID<< 
=<< 
feedbackRating<< '
.<<' (
UserID<<( .
,<<. /
RestaurantID== 
=== 
feedbackRating== -
.==- .
RestaurantID==. :
,==: ;
Message>> 
=>> 
feedbackRating>> (
.>>( )
Message>>) 0
,>>0 1
Rating?? 
=?? 
feedbackRating?? '
.??' (
Rating??( .
,??. /
CreatedDate@@ 
=@@ 
(@@ 
DateTime@@ '
)@@' (
feedbackRating@@( 6
.@@6 7
CreatedDate@@7 B
}AA 
)AA 
.AA 
ToListAA 
(AA 
)AA 
;AA 
}BB 	
publicDD 
voidDD  
CreateFeedbackRatingDD (
(DD( )
FeedbackRatingDTODD) :
feedbackRatingDtoDD; L
)DDL M
{EE 	
varFF 
feedbackRatingFF 
=FF  
newFF! $
FeedbackRatingFF% 3
{GG 
FeedbackRatingIDHH  
=HH! "
feedbackRatingDtoHH# 4
.HH4 5
FeedbackRatingIDHH5 E
,HHE F
UserIDII 
=II 
feedbackRatingDtoII *
.II* +
UserIDII+ 1
,II1 2
RestaurantIDJJ 
=JJ 
feedbackRatingDtoJJ 0
.JJ0 1
RestaurantIDJJ1 =
,JJ= >
MessageKK 
=KK 
feedbackRatingDtoKK +
.KK+ ,
MessageKK, 3
,KK3 4
RatingLL 
=LL 
feedbackRatingDtoLL *
.LL* +
RatingLL+ 1
,LL1 2
CreatedDateMM 
=MM 
feedbackRatingDtoMM /
.MM/ 0
CreatedDateMM0 ;
}NN 
;NN 
_contextOO 
.OO 
FeedbackRatingsOO $
.OO$ %
AddOO% (
(OO( )
feedbackRatingOO) 7
)OO7 8
;OO8 9
_contextPP 
.PP 
SaveChangesPP  
(PP  !
)PP! "
;PP" #
}QQ 	
publicSS 
voidSS  
UpdateFeedbackRatingSS (
(SS( )
intSS) ,
idSS- /
,SS/ 0
FeedbackRatingDTOSS1 B
feedbackRatingDtoSSC T
)SST U
{TT 	
varUU 
feedbackRatingUU 
=UU  
_contextUU! )
.UU) *
FeedbackRatingsUU* 9
.UU9 :
FindUU: >
(UU> ?
idUU? A
)UUA B
;UUB C
ifVV 
(VV 
feedbackRatingVV 
!=VV !
nullVV" &
)VV& '
{WW 
feedbackRatingXX 
.XX 
UserIDXX %
=XX& '
feedbackRatingDtoXX( 9
.XX9 :
UserIDXX: @
;XX@ A
feedbackRatingYY 
.YY 
RestaurantIDYY +
=YY, -
feedbackRatingDtoYY. ?
.YY? @
RestaurantIDYY@ L
;YYL M
feedbackRatingZZ 
.ZZ 
MessageZZ &
=ZZ' (
feedbackRatingDtoZZ) :
.ZZ: ;
MessageZZ; B
;ZZB C
feedbackRating[[ 
.[[ 
Rating[[ %
=[[& '
feedbackRatingDto[[( 9
.[[9 :
Rating[[: @
;[[@ A
feedbackRating\\ 
.\\ 
CreatedDate\\ *
=\\+ ,
feedbackRatingDto\\- >
.\\> ?
CreatedDate\\? J
;\\J K
_context^^ 
.^^ 
FeedbackRatings^^ (
.^^( )
Update^^) /
(^^/ 0
feedbackRating^^0 >
)^^> ?
;^^? @
_context__ 
.__ 
SaveChanges__ $
(__$ %
)__% &
;__& '
}`` 
}aa 	
publiccc 
voidcc  
DeleteFeedbackRatingcc (
(cc( )
intcc) ,
idcc- /
)cc/ 0
{dd 	
varee 
feedbackRatingee 
=ee  
_contextee! )
.ee) *
FeedbackRatingsee* 9
.ee9 :
Findee: >
(ee> ?
idee? A
)eeA B
;eeB C
ifff 
(ff 
feedbackRatingff 
!=ff !
nullff" &
)ff& '
{gg 
_contexthh 
.hh 
FeedbackRatingshh (
.hh( )
Removehh) /
(hh/ 0
feedbackRatinghh0 >
)hh> ?
;hh? @
_contextii 
.ii 
SaveChangesii $
(ii$ %
)ii% &
;ii& '
}jj 
}kk 	
}ll 
}mm Ê0
6D:\Hotpot\HotpotLibrary\Repository\CheckoutMediator.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{ 
public 

class 
CheckoutMediator !
:" #
ICheckoutMediator$ 5
{		 
private

 
readonly

 
ICartInterface

 '
_cartRepository

( 7
;

7 8
private 
readonly 
IOrderInterface (
_orderRepository) 9
;9 :
private 
readonly !
IOrderDetailInterface .#
_orderDetailsRepository/ F
;F G
private 
readonly 
IPaymentInterface *
_paymentRepository+ =
;= >
public 
CheckoutMediator 
(  
ICartInterface 
cartRepository )
,) *
IOrderInterface 
orderRepository +
,+ ,!
IOrderDetailInterface !"
orderDetailsRepository" 8
,8 9
IPaymentInterface 
paymentRepository /
)/ 0
{ 	
_cartRepository 
= 
cartRepository ,
;, -
_orderRepository 
= 
orderRepository .
;. /#
_orderDetailsRepository #
=$ %"
orderDetailsRepository& <
;< =
_paymentRepository 
=  
paymentRepository! 2
;2 3
} 	
public 
void 
	AddToCart 
( 
CartDTO %
cartDTO& -
)- .
{ 	
_cartRepository 
. 

CreateCart &
(& '
cartDTO' .
). /
;/ 0
} 	
public!! 
void!! 

PlaceOrder!! 
(!! 
OrderDTO!! '
orderDTO!!( 0
)!!0 1
{"" 	
_orderRepository$$ 
.$$ 
CreateOrder$$ (
($$( )
orderDTO$$) 1
)$$1 2
;$$2 3
if'' 
('' 
orderDTO'' 
.'' 
OrderID''  
<=''! #
$num''$ %
)''% &
{(( 
throw)) 
new)) %
InvalidOperationException)) 3
())3 4
$str))4 `
)))` a
;))a b
}** 
var-- 
	cartItems-- 
=-- 
_cartRepository-- +
.--+ , 
GetCartItemsByUserId--, @
(--@ A
orderDTO--A I
.--I J
UserID--J P
)--P Q
;--Q R
if00 
(00 
	cartItems00 
==00 
null00 !
||00" $
!00% &
	cartItems00& /
.00/ 0
Any000 3
(003 4
)004 5
)005 6
{11 
throw22 
new22 %
InvalidOperationException22 3
(223 4
$str224 Q
)22Q R
;22R S
}33 
foreach66 
(66 
var66 
item66 
in66  
	cartItems66! *
)66* +
{77 
var99 
orderDetailDTO99 "
=99# $
new99% (
OrderDetailDTO99) 7
{:: 
OrderID;; 
=;; 
orderDTO;; &
.;;& '
OrderID;;' .
,;;. /

MenuItemID<< 
=<<  
item<<! %
.<<% &

MenuItemID<<& 0
,<<0 1
Quantity== 
=== 
item== #
.==# $
Quantity==$ ,
,==, -
Price>> 
=>> 
item>>  
.>>  !
Price>>! &
,>>& '
Subtotal?? 
=?? 
item?? #
.??# $
Quantity??$ ,
*??- .
item??/ 3
.??3 4
Price??4 9
}@@ 
;@@ #
_orderDetailsRepositoryCC '
.CC' (
CreateOrderDetailsCC( :
(CC: ;
orderDetailDTOCC; I
)CCI J
;CCJ K
}DD 
_cartRepositoryEE 
.EE 
DeleteCartByUserIdEE .
(EE. /
orderDTOEE/ 7
.EE7 8
UserIDEE8 >
)EE> ?
;EE? @
}FF 	
publicKK 
voidKK 
ProcessPaymentKK "
(KK" #

PaymentDTOKK# -

paymentDTOKK. 8
)KK8 9
{LL 	
varNN 
orderDTONN 
=NN 
_orderRepositoryNN +
.NN+ ,
GetOrderByIdNN, 8
(NN8 9

paymentDTONN9 C
.NNC D
OrderIDNND K
)NNK L
;NNL M
ifOO 
(OO 
orderDTOOO 
==OO 
nullOO  
)OO  !
{PP 
throwQQ 
newQQ %
InvalidOperationExceptionQQ 3
(QQ3 4
$strQQ4 F
)QQF G
;QQG H
}RR 
varUU 
paymentUU 
=UU 
newUU 

PaymentDTOUU (
{VV 
OrderIDWW 
=WW 

paymentDTOWW $
.WW$ %
OrderIDWW% ,
,WW, -
PaymentMethodXX 
=XX 

paymentDTOXX  *
.XX* +
PaymentMethodXX+ 8
,XX8 9

AmountPaidYY 
=YY 
orderDTOYY %
.YY% &
TotalAmountYY& 1
,YY1 2
TransactionDateZZ 
=ZZ  !

paymentDTOZZ" ,
.ZZ, -
TransactionDateZZ- <
,ZZ< =
TransactionStatus[[ !
=[[" #

paymentDTO[[$ .
.[[. /
TransactionStatus[[/ @
}\\ 
;\\ 
_paymentRepository]] 
.]] 
CreatePayment]] ,
(]], -
payment]]- 4
)]]4 5
;]]5 6
orderDTO`` 
.`` 
PaymentStatus`` "
=``# $

paymentDTO``% /
.``/ 0
TransactionStatus``0 A
;``A B
_orderRepositoryaa 
.aa 
UpdateOrderaa (
(aa( )
orderDTOaa) 1
.aa1 2
OrderIDaa2 9
,aa9 :
orderDTOaa; C
)aaC D
;aaD E
}bb 	
}cc 
}dd €F
4D:\Hotpot\HotpotLibrary\Repository\CartRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{		 
public

 

class

 
CartRepository

 
:

  !
ICartInterface

" 0
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
CartRepository 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
public 
IEnumerable 
< 
CartDTO "
>" # 
GetCartItemsByUserId$ 8
(8 9
int9 <
userId= C
)C D
{ 	
return 
_context 
. 
Carts !
. 
Where 
( 
c 
=> 
c 
. 
UserID $
==% '
userId( .
). /
. 
Select 
( 
c 
=> 
new  
CartDTO! (
{ 
CartID 
= 
c 
. 
CartID %
,% &
UserID 
= 
c 
. 
UserID %
,% &

MenuItemID 
=  
c! "
." #

MenuItemID# -
,- .
Quantity 
= 
c  
.  !
Quantity! )
,) *
Price 
= 
c 
. 
Price #
,# $
CreatedDate 
=  !
c" #
.# $
CreatedDate$ /
} 
) 
. 
ToList 
( 
) 
; 
}   	
public"" 
CartDTO"" 
GetCartById"" "
(""" #
int""# &
id""' )
)"") *
{## 	
var$$ 
cart$$ 
=$$ 
_context$$ 
.$$  
Carts$$  %
.$$% &
Find$$& *
($$* +
id$$+ -
)$$- .
;$$. /
if%% 
(%% 
cart%% 
==%% 
null%% 
)%% 
return%% $
null%%% )
;%%) *
return'' 
new'' 
CartDTO'' 
{(( 
CartID)) 
=)) 
cart)) 
.)) 
CartID)) $
,))$ %
UserID** 
=** 
cart** 
.** 
UserID** $
,**$ %

MenuItemID++ 
=++ 
cart++ !
.++! "

MenuItemID++" ,
,++, -
Quantity,, 
=,, 
cart,, 
.,,  
Quantity,,  (
,,,( )
Price-- 
=-- 
cart-- 
.-- 
Price-- "
,--" #
CreatedDate.. 
=.. 
(.. 
DateTime.. '
)..' (
cart..( ,
..., -
CreatedDate..- 8
}// 
;// 
}00 	
public22 
IEnumerable22 
<22 
CartDTO22 "
>22" #
GetAllCarts22$ /
(22/ 0
)220 1
{33 	
return44 
_context44 
.44 
Carts44 !
.44! "
Select44" (
(44( )
cart44) -
=>44. 0
new441 4
CartDTO445 <
{55 
CartID66 
=66 
cart66 
.66 
CartID66 $
,66$ %
UserID77 
=77 
cart77 
.77 
UserID77 $
,77$ %

MenuItemID88 
=88 
cart88 !
.88! "

MenuItemID88" ,
,88, -
Quantity99 
=99 
cart99 
.99  
Quantity99  (
,99( )
Price:: 
=:: 
cart:: 
.:: 
Price:: "
,::" #
CreatedDate;; 
=;; 
(;; 
DateTime;; '
);;' (
cart;;( ,
.;;, -
CreatedDate;;- 8
}<< 
)<< 
.<< 
ToList<< 
(<< 
)<< 
;<< 
}== 	
public?? 
void?? 

CreateCart?? 
(?? 
CartDTO?? &
cartDto??' .
)??. /
{@@ 	
varAA 
cartAA 
=AA 
newAA 
CartAA 
{BB 
CartIDCC 
=CC 
cartDtoCC  
.CC  !
CartIDCC! '
,CC' (
UserIDDD 
=DD 
cartDtoDD  
.DD  !
UserIDDD! '
,DD' (

MenuItemIDEE 
=EE 
cartDtoEE $
.EE$ %

MenuItemIDEE% /
,EE/ 0
QuantityFF 
=FF 
cartDtoFF "
.FF" #
QuantityFF# +
,FF+ ,
PriceGG 
=GG 
cartDtoGG 
.GG  
PriceGG  %
,GG% &
CreatedDateHH 
=HH 
cartDtoHH %
.HH% &
CreatedDateHH& 1
}II 
;II 
_contextJJ 
.JJ 
CartsJJ 
.JJ 
AddJJ 
(JJ 
cartJJ #
)JJ# $
;JJ$ %
_contextKK 
.KK 
SaveChangesKK  
(KK  !
)KK! "
;KK" #
}LL 	
publicNN 
voidNN 

UpdateCartNN 
(NN 
intNN "
idNN# %
,NN% &
CartDTONN' .
cartDtoNN/ 6
)NN6 7
{OO 	
varPP 
cartPP 
=PP 
_contextPP 
.PP  
CartsPP  %
.PP% &
FindPP& *
(PP* +
idPP+ -
)PP- .
;PP. /
ifQQ 
(QQ 
cartQQ 
!=QQ 
nullQQ 
)QQ 
{RR 
cartSS 
.SS 
UserIDSS 
=SS 
cartDtoSS %
.SS% &
UserIDSS& ,
;SS, -
cartTT 
.TT 

MenuItemIDTT 
=TT  !
cartDtoTT" )
.TT) *

MenuItemIDTT* 4
;TT4 5
cartUU 
.UU 
QuantityUU 
=UU 
cartDtoUU  '
.UU' (
QuantityUU( 0
;UU0 1
cartVV 
.VV 
PriceVV 
=VV 
cartDtoVV $
.VV$ %
PriceVV% *
;VV* +
cartWW 
.WW 
CreatedDateWW  
=WW! "
cartDtoWW# *
.WW* +
CreatedDateWW+ 6
;WW6 7
_contextYY 
.YY 
CartsYY 
.YY 
UpdateYY %
(YY% &
cartYY& *
)YY* +
;YY+ ,
_contextZZ 
.ZZ 
SaveChangesZZ $
(ZZ$ %
)ZZ% &
;ZZ& '
}[[ 
}\\ 	
public^^ 
void^^ 

DeleteCart^^ 
(^^ 
int^^ "
id^^# %
)^^% &
{__ 	
var`` 
cart`` 
=`` 
_context`` 
.``  
Carts``  %
.``% &
Find``& *
(``* +
id``+ -
)``- .
;``. /
ifaa 
(aa 
cartaa 
!=aa 
nullaa 
)aa 
{bb 
_contextcc 
.cc 
Cartscc 
.cc 
Removecc %
(cc% &
cartcc& *
)cc* +
;cc+ ,
_contextdd 
.dd 
SaveChangesdd $
(dd$ %
)dd% &
;dd& '
}ee 
}ff 	
publicii 
voidii 
DeleteCartByUserIdii &
(ii& '
intii' *
userIdii+ 1
)ii1 2
{jj 	
varll 
	userCartsll 
=ll 
_contextll $
.ll$ %
Cartsll% *
.ll* +
Wherell+ 0
(ll0 1
cll1 2
=>ll3 5
cll6 7
.ll7 8
UserIDll8 >
==ll? A
userIdllB H
)llH I
.llI J
ToListllJ P
(llP Q
)llQ R
;llR S
ifoo 
(oo 
	userCartsoo 
.oo 
Anyoo 
(oo 
)oo 
)oo  
{pp 
_contextrr 
.rr 
Cartsrr 
.rr 
RemoveRangerr *
(rr* +
	userCartsrr+ 4
)rr4 5
;rr5 6
_contextss 
.ss 
SaveChangesss $
(ss$ %
)ss% &
;ss& '
}tt 
elseuu 
{vv 
throwww 
newww %
InvalidOperationExceptionww 3
(ww3 4
$strww4 a
)wwa b
;wwb c
}xx 
}yy 	
}{{ 
}|| ÿ˚
>D:\Hotpot\HotpotLibrary\Repository\AdminDashboardRepository.cs
	namespace 	
HotpotLibrary
 
. 

Repository "
{ 
public 

class $
AdminDashboardRepository )
:* +
IAdminDashboard, ;
{ 
private 
static 
readonly 
ILog  $
log% (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G$
AdminDashboardRepositoryG _
)_ `
)` a
;a b
private 
readonly 
AppDbContext %
_context& .
;. /
public $
AdminDashboardRepository '
(' (
AppDbContext( 4
context5 <
)< =
{ 	
_context 
= 
context 
; 
log 
. 
Info 
( 
$str 7
)7 8
;8 9
} 	
public 
List 
< 
Order 
> "
GetOrdersFromLast7Days 1
(1 2
)2 3
{ 	
log 
. 
Info 
( 
$str >
)> ?
;? @
DateTime 
sevenDaysAgo !
=" #
DateTime$ ,
., -
Now- 0
.0 1
AddDays1 8
(8 9
-9 :
$num: ;
); <
;< =
var 
orders 
= 
_context !
.! "
Orders" (
. 
Where 
( 
o 
=> 
o 
. 
	OrderDate '
>=( *
sevenDaysAgo+ 7
)7 8
. 
ToList 
( 
) 
; 
log   
.   
Info   
(   
$"   
$str   !
{  ! "
orders  " (
.  ( )
Count  ) .
}  . /
$str  / L
"  L M
)  M N
;  N O
return!! 
orders!! 
;!! 
}"" 	
public%% 
List%% 
<%% 
User%% 
>%% 
GetRegularUsers%% )
(%%) *
)%%* +
{&& 	
log'' 
.'' 
Info'' 
('' 
$str'' 0
)''0 1
;''1 2
DateTime(( 
thirtyDaysAgo(( "
=((# $
DateTime((% -
.((- .
Now((. 1
.((1 2
AddDays((2 9
(((9 :
-((: ;
$num((; =
)((= >
;((> ?
var)) 
regularUsers)) 
=)) 
_context)) '
.))' (
Users))( -
.** 
Where** 
(** 
u** 
=>** 
_context** $
.**$ %
Orders**% +
.++ 
Count++ 
(++ 
o++ 
=>++ 
o++  !
.++! "
UserID++" (
==++) +
u++, -
.++- .
UserID++. 4
&&++5 7
o++8 9
.++9 :
	OrderDate++: C
>=++D F
thirtyDaysAgo++G T
)++T U
>=++V X
$num++Y Z
)++Z [
.,, 
ToList,, 
(,, 
),, 
;,, 
log-- 
.-- 
Info-- 
(-- 
$"-- 
$str-- !
{--! "
regularUsers--" .
.--. /
Count--/ 4
}--4 5
$str--5 D
"--D E
)--E F
;--F G
return.. 
regularUsers.. 
;..  
}// 	
public22 

Dictionary22 
<22 
DateTime22 "
,22" #
int22$ '
>22' ( 
GetTotalOrdersPerDay22) =
(22= >
DateTime22> F
	startDate22G P
,22P Q
DateTime22R Z
endDate22[ b
)22b c
{33 	
log44 
.44 
Info44 
(44 
$"44 
$str44 >
{44> ?
	startDate44? H
}44H I
$str44I M
{44M N
endDate44N U
}44U V
$str44V W
"44W X
)44X Y
;44Y Z
var55 
ordersPerDay55 
=55 
_context55 '
.55' (
Orders55( .
.66 
Where66 
(66 
o66 
=>66 
o66 
.66 
	OrderDate66 '
.66' (
Date66( ,
>=66- /
	startDate660 9
.669 :
Date66: >
&&66? A
o66B C
.66C D
	OrderDate66D M
.66M N
Date66N R
<=66S U
endDate66V ]
.66] ^
Date66^ b
)66b c
.77 
GroupBy77 
(77 
o77 
=>77 
o77 
.77  
	OrderDate77  )
.77) *
Date77* .
)77. /
.88 
ToDictionary88 
(88 
g88 
=>88  "
g88# $
.88$ %
Key88% (
,88( )
g88* +
=>88, .
g88/ 0
.880 1
Count881 6
(886 7
)887 8
)888 9
;889 :
log99 
.99 
Info99 
(99 
$str99 @
)99@ A
;99A B
return:: 
ordersPerDay:: 
;::  
};; 	
public>> 

Dictionary>> 
<>> 
string>>  
,>>  !

Dictionary>>" ,
<>>, -
DateTime>>- 5
,>>5 6
int>>7 :
>>>: ;
>>>; <'
GetMenuItemCountsByCategory>>= X
(>>X Y
string>>Y _
category>>` h
,>>h i
DateTime>>j r
	startDate>>s |
,>>| }
DateTime	>>~ Ü
endDate
>>á é
)
>>é è
{?? 	
log@@ 
.@@ 
Info@@ 
(@@ 
$"@@ 
$str@@ @
{@@@ A
category@@A I
}@@I J
$str@@J P
{@@P Q
	startDate@@Q Z
}@@Z [
$str@@[ _
{@@_ `
endDate@@` g
}@@g h
$str@@h i
"@@i j
)@@j k
;@@k l
varCC 
orderDetailsCC 
=CC 
_contextCC '
.CC' (
OrderDetailsCC( 4
.DD 
WhereDD 
(DD 
oiDD 
=>DD 
oiDD 
.DD  
MenuItemDD  (
.DD( )
CategoryDD) 1
==DD2 4
categoryDD5 =
&&EE 
oiEE  "
.EE" #
OrderEE# (
.EE( )
	OrderDateEE) 2
.EE2 3
DateEE3 7
>=EE8 :
	startDateEE; D
.EED E
DateEEE I
&&FF 
oiFF  "
.FF" #
OrderFF# (
.FF( )
	OrderDateFF) 2
.FF2 3
DateFF3 7
<=FF8 :
endDateFF; B
.FFB C
DateFFC G
)FFG H
.GG 
SelectGG 
(GG 
oiGG 
=>GG 
newGG !
{HH 
oiII 
.II 
MenuItemII 
.II  
CategoryII  (
,II( )
	OrderDateJJ 
=JJ 
oiJJ  "
.JJ" #
OrderJJ# (
.JJ( )
	OrderDateJJ) 2
.JJ2 3
DateJJ3 7
,JJ7 8
oiKK 
.KK 
QuantityKK 
}LL 
)LL 
.MM 
ToListMM 
(MM 
)MM 
;MM 
varPP 
menuItemCountsPP 
=PP  
orderDetailsPP! -
.QQ 
GroupByQQ 
(QQ 
oiQQ 
=>QQ 
newQQ "
{QQ# $
oiQQ% '
.QQ' (
CategoryQQ( 0
,QQ0 1
oiQQ2 4
.QQ4 5
	OrderDateQQ5 >
}QQ? @
)QQ@ A
.RR 
GroupByRR 
(RR 
gRR 
=>RR 
gRR 
.RR  
KeyRR  #
.RR# $
CategoryRR$ ,
)RR, -
.SS 
ToDictionarySS 
(SS 
gTT 
=>TT 
gTT 
.TT 
KeyTT 
,TT 
gUU 
=>UU 
gUU 
.UU 
ToDictionaryUU '
(UU' (
	dateGroupVV !
=>VV" $
	dateGroupVV% .
.VV. /
KeyVV/ 2
.VV2 3
	OrderDateVV3 <
,VV< =
	dateGroupWW !
=>WW" $
	dateGroupWW% .
.WW. /
SumWW/ 2
(WW2 3
iWW3 4
=>WW5 7
iWW8 9
.WW9 :
QuantityWW: B
)WWB C
)XX 
)YY 
;YY 
log[[ 
.[[ 
Info[[ 
([[ 
$str[[ >
)[[> ?
;[[? @
return\\ 
menuItemCounts\\ !
;\\! "
}]] 	
public`` 

Dictionary`` 
<`` 
DateTime`` "
,``" #
decimal``$ +
>``+ ,
GetRevenueReports``- >
(``> ?
string``? E
period``F L
)``L M
{aa 	
logbb 
.bb 
Infobb 
(bb 
$"bb 
$strbb >
{bb> ?
periodbb? E
}bbE F
$strbbF G
"bbG H
)bbH I
;bbI J
varcc 
querycc 
=cc 
_contextcc  
.cc  !
Orderscc! '
.cc' (
AsQueryablecc( 3
(cc3 4
)cc4 5
;cc5 6

Dictionaryee 
<ee 
DateTimeee 
,ee  
decimalee! (
>ee( )
revenueReportsee* 8
;ee8 9
ifgg 
(gg 
periodgg 
==gg 
$strgg !
)gg! "
{hh 
revenueReportsii 
=ii  
queryii! &
.jj 
GroupByjj 
(jj 
ojj 
=>jj !
ojj" #
.jj# $
	OrderDatejj$ -
.jj- .
Datejj. 2
)jj2 3
.kk 
ToDictionarykk !
(kk! "
gll 
=>ll 
gll 
.ll 
Keyll "
,ll" #
gmm 
=>mm 
gmm 
.mm 
Summm "
(mm" #
omm# $
=>mm% '
omm( )
.mm) *
TotalAmountmm* 5
)mm5 6
)nn 
;nn 
}oo 
elsepp 
ifpp 
(pp 
periodpp 
==pp 
$strpp '
)pp' (
{qq 
revenueReportsrr 
=rr  
queryrr! &
.ss 
GroupByss 
(ss 
oss 
=>ss !
newss" %
{ss& '
Weekss( ,
=ss- .
ISOWeekss/ 6
.ss6 7
GetWeekOfYearss7 D
(ssD E
ossE F
.ssF G
	OrderDatessG P
)ssP Q
,ssQ R
YearssS W
=ssX Y
ossZ [
.ss[ \
	OrderDatess\ e
.sse f
Yearssf j
}ssk l
)ssl m
.tt 
ToDictionarytt !
(tt! "
guu 
=>uu 
newuu  
DateTimeuu! )
(uu) *
guu* +
.uu+ ,
Keyuu, /
.uu/ 0
Yearuu0 4
,uu4 5
$numuu6 7
,uu7 8
$numuu9 :
)uu: ;
.uu; <
AddDaysuu< C
(uuC D
guuD E
.uuE F
KeyuuF I
.uuI J
WeekuuJ N
*uuO P
$numuuQ R
)uuR S
,uuS T
gvv 
=>vv 
gvv 
.vv 
Sumvv "
(vv" #
ovv# $
=>vv% '
ovv( )
.vv) *
TotalAmountvv* 5
)vv5 6
)ww 
;ww 
}xx 
elseyy 
ifyy 
(yy 
periodyy 
==yy 
$stryy (
)yy( )
{zz 
revenueReports{{ 
={{  
query{{! &
.|| 
GroupBy|| 
(|| 
o|| 
=>|| !
new||" %
{||& '
o||( )
.||) *
	OrderDate||* 3
.||3 4
Year||4 8
,||8 9
o||: ;
.||; <
	OrderDate||< E
.||E F
Month||F K
}||L M
)||M N
.}} 
ToDictionary}} !
(}}! "
g~~ 
=>~~ 
new~~  
DateTime~~! )
(~~) *
g~~* +
.~~+ ,
Key~~, /
.~~/ 0
Year~~0 4
,~~4 5
g~~6 7
.~~7 8
Key~~8 ;
.~~; <
Month~~< A
,~~A B
$num~~C D
)~~D E
,~~E F
g 
=> 
g 
. 
Sum "
(" #
o# $
=>% '
o( )
.) *
TotalAmount* 5
)5 6
)
ÄÄ 
;
ÄÄ 
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 
log
ÑÑ 
.
ÑÑ 
Error
ÑÑ 
(
ÑÑ 
$str
ÑÑ 5
)
ÑÑ5 6
;
ÑÑ6 7
return
ÖÖ 
new
ÖÖ 

Dictionary
ÖÖ %
<
ÖÖ% &
DateTime
ÖÖ& .
,
ÖÖ. /
decimal
ÖÖ0 7
>
ÖÖ7 8
(
ÖÖ8 9
)
ÖÖ9 :
;
ÖÖ: ;
}
ÜÜ 
log
àà 
.
àà 
Info
àà 
(
àà 
$str
àà 1
)
àà1 2
;
àà2 3
return
ââ 
revenueReports
ââ !
;
ââ! "
}
ää 	
public
çç 
List
çç 
<
çç 
MenuItem
çç 
>
çç  
GetTopSellingItems
çç 0
(
çç0 1
string
çç1 7
period
çç8 >
)
çç> ?
{
éé 	
log
èè 
.
èè 
Info
èè 
(
èè 
$"
èè 
$str
èè @
{
èè@ A
period
èèA G
}
èèG H
$str
èèH I
"
èèI J
)
èèJ K
;
èèK L
var
êê 
query
êê 
=
êê 
_context
êê  
.
êê  !
OrderDetails
êê! -
.
êê- .
AsQueryable
êê. 9
(
êê9 :
)
êê: ;
;
êê; <
List
íí 
<
íí 
MenuItem
íí 
>
íí 
topSellingItems
íí *
;
íí* +
if
îî 
(
îî 
period
îî 
==
îî 
$str
îî !
)
îî! "
{
ïï 
topSellingItems
ññ 
=
ññ  !
query
ññ" '
.
óó 
GroupBy
óó 
(
óó 
oi
óó 
=>
óó  "
new
óó# &
{
óó' (
oi
óó) +
.
óó+ ,

MenuItemID
óó, 6
,
óó6 7
oi
óó8 :
.
óó: ;
Order
óó; @
.
óó@ A
	OrderDate
óóA J
.
óóJ K
Date
óóK O
}
óóP Q
)
óóQ R
.
òò 
OrderByDescending
òò &
(
òò& '
g
òò' (
=>
òò) +
g
òò, -
.
òò- .
Sum
òò. 1
(
òò1 2
oi
òò2 4
=>
òò5 7
oi
òò8 :
.
òò: ;
Quantity
òò; C
)
òòC D
)
òòD E
.
ôô 
Select
ôô 
(
ôô 
g
ôô 
=>
ôô  
g
ôô! "
.
ôô" #
FirstOrDefault
ôô# 1
(
ôô1 2
)
ôô2 3
.
ôô3 4
MenuItem
ôô4 <
)
ôô< =
.
öö 
ToList
öö 
(
öö 
)
öö 
;
öö 
}
õõ 
else
úú 
if
úú 
(
úú 
period
úú 
==
úú 
$str
úú '
)
úú' (
{
ùù 
topSellingItems
ûû 
=
ûû  !
query
ûû" '
.
üü 
GroupBy
üü 
(
üü 
oi
üü 
=>
üü  "
new
üü# &
{
üü' (
oi
üü) +
.
üü+ ,

MenuItemID
üü, 6
,
üü6 7
Week
üü8 <
=
üü= >
ISOWeek
üü? F
.
üüF G
GetWeekOfYear
üüG T
(
üüT U
oi
üüU W
.
üüW X
Order
üüX ]
.
üü] ^
	OrderDate
üü^ g
)
üüg h
}
üüi j
)
üüj k
.
†† 
OrderByDescending
†† &
(
††& '
g
††' (
=>
††) +
g
††, -
.
††- .
Sum
††. 1
(
††1 2
oi
††2 4
=>
††5 7
oi
††8 :
.
††: ;
Quantity
††; C
)
††C D
)
††D E
.
°° 
Select
°° 
(
°° 
g
°° 
=>
°°  
g
°°! "
.
°°" #
FirstOrDefault
°°# 1
(
°°1 2
)
°°2 3
.
°°3 4
MenuItem
°°4 <
)
°°< =
.
¢¢ 
ToList
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
}
££ 
else
§§ 
if
§§ 
(
§§ 
period
§§ 
==
§§ 
$str
§§ (
)
§§( )
{
•• 
topSellingItems
¶¶ 
=
¶¶  !
query
¶¶" '
.
ßß 
GroupBy
ßß 
(
ßß 
oi
ßß 
=>
ßß  "
new
ßß# &
{
ßß' (
oi
ßß) +
.
ßß+ ,

MenuItemID
ßß, 6
,
ßß6 7
oi
ßß8 :
.
ßß: ;
Order
ßß; @
.
ßß@ A
	OrderDate
ßßA J
.
ßßJ K
Year
ßßK O
,
ßßO P
oi
ßßQ S
.
ßßS T
Order
ßßT Y
.
ßßY Z
	OrderDate
ßßZ c
.
ßßc d
Month
ßßd i
}
ßßj k
)
ßßk l
.
®® 
OrderByDescending
®® &
(
®®& '
g
®®' (
=>
®®) +
g
®®, -
.
®®- .
Sum
®®. 1
(
®®1 2
oi
®®2 4
=>
®®5 7
oi
®®8 :
.
®®: ;
Quantity
®®; C
)
®®C D
)
®®D E
.
©© 
Select
©© 
(
©© 
g
©© 
=>
©©  
g
©©! "
.
©©" #
FirstOrDefault
©©# 1
(
©©1 2
)
©©2 3
.
©©3 4
MenuItem
©©4 <
)
©©< =
.
™™ 
ToList
™™ 
(
™™ 
)
™™ 
;
™™ 
}
´´ 
else
¨¨ 
{
≠≠ 
log
ÆÆ 
.
ÆÆ 
Error
ÆÆ 
(
ÆÆ 
$str
ÆÆ 5
)
ÆÆ5 6
;
ÆÆ6 7
return
ØØ 
new
ØØ 
List
ØØ 
<
ØØ  
MenuItem
ØØ  (
>
ØØ( )
(
ØØ) *
)
ØØ* +
;
ØØ+ ,
}
∞∞ 
log
≤≤ 
.
≤≤ 
Info
≤≤ 
(
≤≤ 
$str
≤≤ 3
)
≤≤3 4
;
≤≤4 5
return
≥≥ 
topSellingItems
≥≥ "
;
≥≥" #
}
¥¥ 	
public
∑∑ 
List
∑∑ 
<
∑∑ 
User
∑∑ 
>
∑∑ &
GetUsersByOrderFrequency
∑∑ 2
(
∑∑2 3
string
∑∑3 9
period
∑∑: @
)
∑∑@ A
{
∏∏ 	
log
ππ 
.
ππ 
Info
ππ 
(
ππ 
$"
ππ 
$str
ππ G
{
ππG H
period
ππH N
}
ππN O
$str
ππO P
"
ππP Q
)
ππQ R
;
ππR S
var
∫∫ 
query
∫∫ 
=
∫∫ 
_context
∫∫  
.
∫∫  !
Users
∫∫! &
.
∫∫& '
AsQueryable
∫∫' 2
(
∫∫2 3
)
∫∫3 4
;
∫∫4 5
List
ºº 
<
ºº 
User
ºº 
>
ºº 
usersByFrequency
ºº '
;
ºº' (
if
ææ 
(
ææ 
period
ææ 
==
ææ 
$str
ææ !
)
ææ! "
{
øø 
usersByFrequency
¿¿  
=
¿¿! "
query
¿¿# (
.
¡¡ 
Where
¡¡ 
(
¡¡ 
u
¡¡ 
=>
¡¡ 
_context
¡¡  (
.
¡¡( )
Orders
¡¡) /
.
¬¬ 
Where
¬¬ 
(
¬¬ 
o
¬¬  
=>
¬¬! #
o
¬¬$ %
.
¬¬% &
UserID
¬¬& ,
==
¬¬- /
u
¬¬0 1
.
¬¬1 2
UserID
¬¬2 8
)
¬¬8 9
.
√√ 
GroupBy
√√  
(
√√  !
o
√√! "
=>
√√# %
o
√√& '
.
√√' (
	OrderDate
√√( 1
.
√√1 2
Date
√√2 6
)
√√6 7
.
ƒƒ 
Any
ƒƒ 
(
ƒƒ 
g
ƒƒ 
=>
ƒƒ !
g
ƒƒ" #
.
ƒƒ# $
Count
ƒƒ$ )
(
ƒƒ) *
)
ƒƒ* +
>=
ƒƒ, .
$num
ƒƒ/ 0
)
ƒƒ0 1
)
ƒƒ1 2
.
≈≈ 
ToList
≈≈ 
(
≈≈ 
)
≈≈ 
;
≈≈ 
}
∆∆ 
else
«« 
if
«« 
(
«« 
period
«« 
==
«« 
$str
«« '
)
««' (
{
»» 
usersByFrequency
……  
=
……! "
query
……# (
.
   
Where
   
(
   
u
   
=>
   
_context
    (
.
  ( )
Orders
  ) /
.
ÀÀ 
Where
ÀÀ 
(
ÀÀ 
o
ÀÀ  
=>
ÀÀ! #
o
ÀÀ$ %
.
ÀÀ% &
UserID
ÀÀ& ,
==
ÀÀ- /
u
ÀÀ0 1
.
ÀÀ1 2
UserID
ÀÀ2 8
)
ÀÀ8 9
.
ÃÃ 
GroupBy
ÃÃ  
(
ÃÃ  !
o
ÃÃ! "
=>
ÃÃ# %
ISOWeek
ÃÃ& -
.
ÃÃ- .
GetWeekOfYear
ÃÃ. ;
(
ÃÃ; <
o
ÃÃ< =
.
ÃÃ= >
	OrderDate
ÃÃ> G
)
ÃÃG H
)
ÃÃH I
.
ÕÕ 
Any
ÕÕ 
(
ÕÕ 
g
ÕÕ 
=>
ÕÕ !
g
ÕÕ" #
.
ÕÕ# $
Count
ÕÕ$ )
(
ÕÕ) *
)
ÕÕ* +
>=
ÕÕ, .
$num
ÕÕ/ 0
)
ÕÕ0 1
)
ÕÕ1 2
.
ŒŒ 
ToList
ŒŒ 
(
ŒŒ 
)
ŒŒ 
;
ŒŒ 
}
œœ 
else
–– 
if
–– 
(
–– 
period
–– 
==
–– 
$str
–– (
)
––( )
{
—— 
usersByFrequency
““  
=
““! "
query
““# (
.
”” 
Where
”” 
(
”” 
u
”” 
=>
”” 
_context
””  (
.
””( )
Orders
””) /
.
‘‘ 
Where
‘‘ 
(
‘‘ 
o
‘‘  
=>
‘‘! #
o
‘‘$ %
.
‘‘% &
UserID
‘‘& ,
==
‘‘- /
u
‘‘0 1
.
‘‘1 2
UserID
‘‘2 8
)
‘‘8 9
.
’’ 
GroupBy
’’  
(
’’  !
o
’’! "
=>
’’# %
new
’’& )
{
’’* +
o
’’, -
.
’’- .
	OrderDate
’’. 7
.
’’7 8
Year
’’8 <
,
’’< =
o
’’> ?
.
’’? @
	OrderDate
’’@ I
.
’’I J
Month
’’J O
}
’’P Q
)
’’Q R
.
÷÷ 
Any
÷÷ 
(
÷÷ 
g
÷÷ 
=>
÷÷ !
g
÷÷" #
.
÷÷# $
Count
÷÷$ )
(
÷÷) *
)
÷÷* +
>=
÷÷, .
$num
÷÷/ 0
)
÷÷0 1
)
÷÷1 2
.
◊◊ 
ToList
◊◊ 
(
◊◊ 
)
◊◊ 
;
◊◊ 
}
ÿÿ 
else
ŸŸ 
{
⁄⁄ 
log
€€ 
.
€€ 
Error
€€ 
(
€€ 
$str
€€ 5
)
€€5 6
;
€€6 7
return
‹‹ 
new
‹‹ 
List
‹‹ 
<
‹‹  
User
‹‹  $
>
‹‹$ %
(
‹‹% &
)
‹‹& '
;
‹‹' (
}
›› 
log
ﬂﬂ 
.
ﬂﬂ 
Info
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ :
)
ﬂﬂ: ;
;
ﬂﬂ; <
return
‡‡ 
usersByFrequency
‡‡ #
;
‡‡# $
}
·· 	
public
‰‰ 

Dictionary
‰‰ 
<
‰‰ 
DateTime
‰‰ "
,
‰‰" #
decimal
‰‰$ +
>
‰‰+ ,"
GetAverageOrderValue
‰‰- A
(
‰‰A B
string
‰‰B H
period
‰‰I O
)
‰‰O P
{
ÂÂ 	
log
ÊÊ 
.
ÊÊ 
Info
ÊÊ 
(
ÊÊ 
$"
ÊÊ 
$str
ÊÊ B
{
ÊÊB C
period
ÊÊC I
}
ÊÊI J
$str
ÊÊJ K
"
ÊÊK L
)
ÊÊL M
;
ÊÊM N
var
ÁÁ 
query
ÁÁ 
=
ÁÁ 
_context
ÁÁ  
.
ÁÁ  !
Orders
ÁÁ! '
.
ÁÁ' (
AsQueryable
ÁÁ( 3
(
ÁÁ3 4
)
ÁÁ4 5
;
ÁÁ5 6

Dictionary
ÈÈ 
<
ÈÈ 
DateTime
ÈÈ 
,
ÈÈ  
decimal
ÈÈ! (
>
ÈÈ( )
averageOrderValue
ÈÈ* ;
;
ÈÈ; <
if
ÎÎ 
(
ÎÎ 
period
ÎÎ 
==
ÎÎ 
$str
ÎÎ !
)
ÎÎ! "
{
ÏÏ 
averageOrderValue
ÌÌ !
=
ÌÌ" #
query
ÌÌ$ )
.
ÓÓ 
GroupBy
ÓÓ 
(
ÓÓ 
o
ÓÓ 
=>
ÓÓ !
o
ÓÓ" #
.
ÓÓ# $
	OrderDate
ÓÓ$ -
.
ÓÓ- .
Date
ÓÓ. 2
)
ÓÓ2 3
.
ÔÔ 
ToDictionary
ÔÔ !
(
ÔÔ! "
g
 
=>
 
g
 
.
 
Key
 "
,
" #
g
ÒÒ 
=>
ÒÒ 
g
ÒÒ 
.
ÒÒ 
Average
ÒÒ &
(
ÒÒ& '
o
ÒÒ' (
=>
ÒÒ) +
o
ÒÒ, -
.
ÒÒ- .
TotalAmount
ÒÒ. 9
)
ÒÒ9 :
)
ÚÚ 
;
ÚÚ 
}
ÛÛ 
else
ÙÙ 
if
ÙÙ 
(
ÙÙ 
period
ÙÙ 
==
ÙÙ 
$str
ÙÙ '
)
ÙÙ' (
{
ıı 
averageOrderValue
ˆˆ !
=
ˆˆ" #
query
ˆˆ$ )
.
˜˜ 
GroupBy
˜˜ 
(
˜˜ 
o
˜˜ 
=>
˜˜ !
new
˜˜" %
{
˜˜& '
Week
˜˜( ,
=
˜˜- .
ISOWeek
˜˜/ 6
.
˜˜6 7
GetWeekOfYear
˜˜7 D
(
˜˜D E
o
˜˜E F
.
˜˜F G
	OrderDate
˜˜G P
)
˜˜P Q
,
˜˜Q R
Year
˜˜S W
=
˜˜X Y
o
˜˜Z [
.
˜˜[ \
	OrderDate
˜˜\ e
.
˜˜e f
Year
˜˜f j
}
˜˜k l
)
˜˜l m
.
¯¯ 
ToDictionary
¯¯ !
(
¯¯! "
g
˘˘ 
=>
˘˘ 
new
˘˘  
DateTime
˘˘! )
(
˘˘) *
g
˘˘* +
.
˘˘+ ,
Key
˘˘, /
.
˘˘/ 0
Year
˘˘0 4
,
˘˘4 5
$num
˘˘6 7
,
˘˘7 8
$num
˘˘9 :
)
˘˘: ;
.
˘˘; <
AddDays
˘˘< C
(
˘˘C D
g
˘˘D E
.
˘˘E F
Key
˘˘F I
.
˘˘I J
Week
˘˘J N
*
˘˘O P
$num
˘˘Q R
)
˘˘R S
,
˘˘S T
g
˙˙ 
=>
˙˙ 
g
˙˙ 
.
˙˙ 
Average
˙˙ &
(
˙˙& '
o
˙˙' (
=>
˙˙) +
o
˙˙, -
.
˙˙- .
TotalAmount
˙˙. 9
)
˙˙9 :
)
˚˚ 
;
˚˚ 
}
¸¸ 
else
˝˝ 
if
˝˝ 
(
˝˝ 
period
˝˝ 
==
˝˝ 
$str
˝˝ (
)
˝˝( )
{
˛˛ 
averageOrderValue
ˇˇ !
=
ˇˇ" #
query
ˇˇ$ )
.
ÄÄ 
GroupBy
ÄÄ 
(
ÄÄ 
o
ÄÄ 
=>
ÄÄ !
new
ÄÄ" %
{
ÄÄ& '
o
ÄÄ( )
.
ÄÄ) *
	OrderDate
ÄÄ* 3
.
ÄÄ3 4
Year
ÄÄ4 8
,
ÄÄ8 9
o
ÄÄ: ;
.
ÄÄ; <
	OrderDate
ÄÄ< E
.
ÄÄE F
Month
ÄÄF K
}
ÄÄL M
)
ÄÄM N
.
ÅÅ 
ToDictionary
ÅÅ !
(
ÅÅ! "
g
ÇÇ 
=>
ÇÇ 
new
ÇÇ  
DateTime
ÇÇ! )
(
ÇÇ) *
g
ÇÇ* +
.
ÇÇ+ ,
Key
ÇÇ, /
.
ÇÇ/ 0
Year
ÇÇ0 4
,
ÇÇ4 5
g
ÇÇ6 7
.
ÇÇ7 8
Key
ÇÇ8 ;
.
ÇÇ; <
Month
ÇÇ< A
,
ÇÇA B
$num
ÇÇC D
)
ÇÇD E
,
ÇÇE F
g
ÉÉ 
=>
ÉÉ 
g
ÉÉ 
.
ÉÉ 
Average
ÉÉ &
(
ÉÉ& '
o
ÉÉ' (
=>
ÉÉ) +
o
ÉÉ, -
.
ÉÉ- .
TotalAmount
ÉÉ. 9
)
ÉÉ9 :
)
ÑÑ 
;
ÑÑ 
}
ÖÖ 
else
ÜÜ 
{
áá 
log
àà 
.
àà 
Error
àà 
(
àà 
$str
àà 5
)
àà5 6
;
àà6 7
return
ââ 
new
ââ 

Dictionary
ââ %
<
ââ% &
DateTime
ââ& .
,
ââ. /
decimal
ââ0 7
>
ââ7 8
(
ââ8 9
)
ââ9 :
;
ââ: ;
}
ää 
log
åå 
.
åå 
Info
åå 
(
åå 
$str
åå 5
)
åå5 6
;
åå6 7
return
çç 
averageOrderValue
çç $
;
çç$ %
}
éé 	
public
êê 

Dictionary
êê 
<
êê 
string
êê  
,
êê  !
int
êê" %
>
êê% &#
GetVegNonVegItemCount
êê' <
(
êê< =
int
êê= @
restaurantId
êêA M
)
êêM N
{
ëë 	
log
íí 
.
íí 
Info
íí 
(
íí 
$"
íí 
$str
íí Q
{
ííQ R
restaurantId
ííR ^
}
íí^ _
$str
íí_ `
"
íí` a
)
íía b
;
ííb c
var
îî 
	menuItems
îî 
=
îî 
_context
îî $
.
îî$ %
	MenuItems
îî% .
.
ïï 
Where
ïï 
(
ïï 
mi
ïï 
=>
ïï 
mi
ïï 
.
ïï  
Menu
ïï  $
.
ïï$ %
RestaurantID
ïï% 1
==
ïï2 4
restaurantId
ïï5 A
)
ïïA B
.
ññ 
ToList
ññ 
(
ññ 
)
ññ 
;
ññ 
int
òò 
vegCount
òò 
=
òò 
	menuItems
òò $
.
òò$ %
Count
òò% *
(
òò* +
mi
òò+ -
=>
òò. 0
mi
òò1 3
.
òò3 4
Category
òò4 <
.
òò< =
ToLower
òò= D
(
òòD E
)
òòE F
==
òòG I
$str
òòJ O
)
òòO P
;
òòP Q
int
ôô 
nonVegCount
ôô 
=
ôô 
	menuItems
ôô '
.
ôô' (
Count
ôô( -
(
ôô- .
mi
ôô. 0
=>
ôô1 3
mi
ôô4 6
.
ôô6 7
Category
ôô7 ?
.
ôô? @
ToLower
ôô@ G
(
ôôG H
)
ôôH I
==
ôôJ L
$str
ôôM V
)
ôôV W
;
ôôW X
var
õõ 
result
õõ 
=
õõ 
new
õõ 

Dictionary
õõ '
<
õõ' (
string
õõ( .
,
õõ. /
int
õõ0 3
>
õõ3 4
{
úú 	
{
ùù 	
$str
ùù
 
,
ùù 
vegCount
ùù 
}
ùù 
,
ùù 
{
ûû 	
$str
ûû
 
,
ûû 
nonVegCount
ûû  
}
ûû! "
}
üü	 

;
üü
 
log
°° 
.
°° 
Info
°° 
(
°° 
$"
°° 
$str
°° "
{
°°" #
vegCount
°°# +
}
°°+ ,
$str
°°, =
{
°°= >
nonVegCount
°°> I
}
°°I J
$str
°°J ^
{
°°^ _
restaurantId
°°_ k
}
°°k l
$str
°°l m
"
°°m n
)
°°n o
;
°°o p
return
¢¢ 
result
¢¢ 
;
¢¢ 
}
££ 	
}
¶¶ 
}ßß Á
BD:\Hotpot\HotpotLibrary\NotificationService\NotificationService.cs
	namespace 	
HotpotLibrary
 
. 
NotificationService +
{ 
public		 

class		 
NotificationService		 $
{

 
private 
readonly 
IEmailService &
_emailService' 4
;4 5
public 
NotificationService "
(" #
IEmailService# 0
emailService1 =
)= >
{ 	
_emailService 
= 
emailService (
;( )
} 	
public 
void 
SendNotification $
($ %
string% +
to, .
,. /
string0 6
subject7 >
,> ?
string@ F
messageG N
)N O
{ 	
_emailService 
. 
	SendEmail #
(# $
to$ &
,& '
subject( /
,/ 0
message1 8
)8 9
;9 :
} 	
} 
} É
<D:\Hotpot\HotpotLibrary\NotificationService\IEmailService.cs
	namespace 	
HotpotLibrary
 
. 
NotificationService +
{ 
public 

	interface 
IEmailService "
{ 
void 
	SendEmail 
( 
string 
to  
,  !
string" (
subject) 0
,0 1
string2 8
body9 =
)= >
;> ?
} 
}		 ˘)
;D:\Hotpot\HotpotLibrary\NotificationService\GmailService.cs
	namespace 	
HotpotLibrary
 
. 
NotificationService +
{ 
public

 

class

 
GmailService

 
:

 
IEmailService

  -
{ 
private 
readonly 
IConfiguration '
_configuration( 6
;6 7
private 
static 
readonly 
ILog  $
_logger% ,
=- .

LogManager/ 9
.9 :
	GetLogger: C
(C D
typeofD J
(J K
GmailServiceK W
)W X
)X Y
;Y Z
public 
GmailService 
( 
IConfiguration *
configuration+ 8
)8 9
{ 	
_configuration 
= 
configuration *
;* +
} 	
public 
void 
	SendEmail 
( 
string $
to% '
,' (
string) /
subject0 7
,7 8
string9 ?
body@ D
)D E
{ 	
try 
{ 
var 

smtpServer 
=  
_configuration! /
[/ 0
$str0 J
]J K
;K L
var 
smtpPort 
= 
int "
." #
Parse# (
(( )
_configuration) 7
[7 8
$str8 P
]P Q
)Q R
;R S
var 
senderEmail 
=  !
_configuration" 0
[0 1
$str1 L
]L M
;M N
var 

senderName 
=  
_configuration! /
[/ 0
$str0 J
]J K
;K L
var 
smtpUser 
= 
_configuration -
[- .
$str. F
]F G
;G H
var 
smtpPassword  
=! "
_configuration# 1
[1 2
$str2 N
]N O
;O P
var 
useSsl 
= 
bool !
.! "
Parse" '
(' (
_configuration( 6
[6 7
$str7 M
]M N
)N O
;O P
var   
fromAddress   
=    !
new  " %
MailAddress  & 1
(  1 2
senderEmail  2 =
,  = >

senderName  ? I
)  I J
;  J K
var!! 
	toAddress!! 
=!! 
new!!  #
MailAddress!!$ /
(!!/ 0
to!!0 2
)!!2 3
;!!3 4
using## 
(## 
var## 
smtp## 
=##  !
new##" %

SmtpClient##& 0
{$$ 
Host%% 
=%% 

smtpServer%% %
,%%% &
Port&& 
=&& 
smtpPort&& #
,&&# $
	EnableSsl'' 
='' 
useSsl''  &
,''& '
DeliveryMethod(( "
=((# $
SmtpDeliveryMethod((% 7
.((7 8
Network((8 ?
,((? @!
UseDefaultCredentials)) )
=))* +
false)), 1
,))1 2
Credentials** 
=**  !
new**" %
NetworkCredential**& 7
(**7 8
smtpUser**8 @
,**@ A
smtpPassword**B N
)**N O
,**O P
Timeout++ 
=++ 
$num++ #
},, 
),, 
{-- 
using.. 
(.. 
var.. 
message.. &
=..' (
new..) ,
MailMessage..- 8
(..8 9
fromAddress..9 D
,..D E
	toAddress..F O
)..O P
{// 
Subject00 
=00  !
subject00" )
,00) *
Body11 
=11 
body11 #
,11# $

IsBodyHtml22 "
=22# $
true22% )
}33 
)33 
{44 
smtp55 
.55 
Send55 !
(55! "
message55" )
)55) *
;55* +
}66 
}77 
_logger99 
.99 
Info99 
(99 
$"99 
$str99 7
{997 8
to998 :
}99: ;
$str99; =
{99= >
subject99> E
}99E F
"99F G
)99G H
;99H I
}:: 
catch;; 
(;; 
SmtpException;;  
smtpEx;;! '
);;' (
{<< 
_logger== 
.== 
Error== 
(== 
$"==  
$str==  ,
{==, -
smtpEx==- 3
.==3 4
Message==4 ;
}==; <
"==< =
,=== >
smtpEx==? E
)==E F
;==F G
}>> 
catch?? 
(?? 
	Exception?? 
ex?? 
)??  
{@@ 
_loggerAA 
.AA 
ErrorAA 
(AA 
$"AA  
$strAA  6
{AA6 7
exAA7 9
.AA9 :
MessageAA: A
}AAA B
"AAB C
,AAC D
exAAE G
)AAG H
;AAH I
}BB 
}CC 	
}DD 
}FF ˆ
&D:\Hotpot\HotpotLibrary\Models\User.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
User 
{ 
public		 

int		 
UserID		 
{		 
get		 
;		 
set		  
;		  !
}		" #
public 

string 
Username 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

string 
? 
Email 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Password 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

string 
? 
PhNo 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
? 
AddressLine 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
City 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
? 
State 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
? 

PostalCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
? 
Country 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
Role 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

DateTime 
CreatedDate 
{  !
get" %
;% &
set' *
;* +
}, -
public!! 

bool!! 
IsActive!! 
{!! 
get!! 
;!! 
set!!  #
;!!# $
}!!% &
["" 

JsonIgnore"" 
]"" 
public## 

virtual## 
ICollection## 
<## 
Cart## #
>### $
Carts##% *
{##+ ,
get##- 0
;##0 1
set##2 5
;##5 6
}##7 8
=##9 :
new##; >
List##? C
<##C D
Cart##D H
>##H I
(##I J
)##J K
;##K L
[$$ 

JsonIgnore$$ 
]$$ 
public%% 

virtual%% 
ICollection%% 
<%% 
FeedbackRating%% -
>%%- .
FeedbackRatings%%/ >
{%%? @
get%%A D
;%%D E
set%%F I
;%%I J
}%%K L
=%%M N
new%%O R
List%%S W
<%%W X
FeedbackRating%%X f
>%%f g
(%%g h
)%%h i
;%%i j
[&& 

JsonIgnore&& 
]&& 
public'' 

virtual'' 
ICollection'' 
<'' 
Order'' $
>''$ %
Orders''& ,
{''- .
get''/ 2
;''2 3
set''4 7
;''7 8
}''9 :
=''; <
new''= @
List''A E
<''E F
Order''F K
>''K L
(''L M
)''M N
;''N O
}(( ·
,D:\Hotpot\HotpotLibrary\Models\Restaurant.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 

Restaurant 
{ 
public		 

int		 
RestaurantID		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
PhNo 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
=& '
null( ,
!, -
;- .
public 

string 
? 
OperatingHours !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

string 
? 
AddressLine 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
City 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
? 
State 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
? 

PostalCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
? 
Country 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
CreatedDate 
{  !
get" %
;% &
set' *
;* +
}, -
public!! 

bool!! 
IsActive!! 
{!! 
get!! 
;!! 
set!!  #
;!!# $
}!!% &
["" 

JsonIgnore"" 
]"" 
public## 

virtual## 
ICollection## 
<## 
FeedbackRating## -
>##- .
FeedbackRatings##/ >
{##? @
get##A D
;##D E
set##F I
;##I J
}##K L
=##M N
new##O R
List##S W
<##W X
FeedbackRating##X f
>##f g
(##g h
)##h i
;##i j
[$$ 

JsonIgnore$$ 
]$$ 
public%% 

virtual%% 
ICollection%% 
<%% 
Menu%% #
>%%# $
Menus%%% *
{%%+ ,
get%%- 0
;%%0 1
set%%2 5
;%%5 6
}%%7 8
=%%9 :
new%%; >
List%%? C
<%%C D
Menu%%D H
>%%H I
(%%I J
)%%J K
;%%K L
[&& 

JsonIgnore&& 
]&& 
public'' 

virtual'' 
ICollection'' 
<'' 
Order'' $
>''$ %
Orders''& ,
{''- .
get''/ 2
;''2 3
set''4 7
;''7 8
}''9 :
=''; <
new''= @
List''A E
<''E F
Order''F K
>''K L
(''L M
)''M N
;''N O
}(( Ã
)D:\Hotpot\HotpotLibrary\Models\Payment.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
Payment 
{ 
public		 

int		 
	PaymentID		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public 

int 
OrderID 
{ 
get 
; 
set !
;! "
}# $
public 

string 
PaymentMethod 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

decimal 

AmountPaid 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
TransactionDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

string 
TransactionStatus #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
null4 8
!8 9
;9 :
[ 

JsonIgnore 
] 
public 

virtual 
Order 
Order 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
} „
-D:\Hotpot\HotpotLibrary\Models\OrderDetail.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
OrderDetail 
{ 
public		 

int		 
OrderDetailID		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public 

int 
OrderID 
{ 
get 
; 
set !
;! "
}# $
public 

int 

MenuItemID 
{ 
get 
;  
set! $
;$ %
}& '
public 

int 
Quantity 
{ 
get 
; 
set "
;" #
}$ %
public 

decimal 
Price 
{ 
get 
; 
set  #
;# $
}% &
public 

decimal 
? 
Subtotal 
{ 
get "
;" #
set$ '
;' (
}) *
[ 

JsonIgnore 
] 
public 

virtual 
MenuItem 
MenuItem $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
null5 9
!9 :
;: ;
[ 

JsonIgnore 
] 
public 

virtual 
Order 
Order 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
} Ë
'D:\Hotpot\HotpotLibrary\Models\Order.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
Order 
{ 
public		 

int		 
OrderID		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 

int

 
UserID

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 

int 
RestaurantID 
{ 
get !
;! "
set# &
;& '
}( )
public 

DateTime 
	OrderDate 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal 
TotalAmount 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
OrderStatus 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
PaymentStatus 
{  !
get" %
;% &
set' *
;* +
}, -
public 

string 
DeliveryAddress !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

DateTime 
? 
DeliveryDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

DateTime 
? 
CreatedDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 

JsonIgnore 
] 
public 

virtual 

Restaurant 

Restaurant (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
[ 

JsonIgnore 
] 
public 

virtual 
User 
User 
{ 
get "
;" #
set$ '
;' (
}) *
[ 

JsonIgnore 
] 
public 

virtual 
ICollection 
< 
OrderDetail *
>* +
OrderDetails, 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
=G H
newI L
ListM Q
<Q R
OrderDetailR ]
>] ^
(^ _
)_ `
;` a
[ 

JsonIgnore 
] 
public 

virtual 
ICollection 
< 
Payment &
>& '
Payments( 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
newA D
ListE I
<I J
PaymentJ Q
>Q R
(R S
)S T
;T U
} Ë
*D:\Hotpot\HotpotLibrary\Models\MenuItem.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
MenuItem 
{ 
public		 

int		 

MenuItemID		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public 

int 
MenuID 
{ 
get 
; 
set  
;  !
}" #
public 

string 
ItemName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
Category 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

decimal 
Price 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
? 
SpecialDietaryInfo %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 

string 
? 
	TasteInfo 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
? 
NutritionalInfo "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

string 
? 
AvailabilityTime #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

bool 
? 
	IsInStock 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
ImageUrl 
{ 
get  
;  !
set" %
;% &
}' (
public!! 

DateTime!! 
?!! 
CreatedDate!!  
{!!! "
get!!# &
;!!& '
set!!( +
;!!+ ,
}!!- .
public## 

bool## 
?## 
IsAvailable## 
{## 
get## "
;##" #
set##$ '
;##' (
}##) *
public%% 

decimal%% 
	Discounts%% 
{%% 
get%% "
;%%" #
set%%$ '
;%%' (
}%%) *
[&& 

JsonIgnore&& 
]&& 
public'' 

virtual'' 
ICollection'' 
<'' 
Cart'' #
>''# $
Carts''% *
{''+ ,
get''- 0
;''0 1
set''2 5
;''5 6
}''7 8
=''9 :
new''; >
List''? C
<''C D
Cart''D H
>''H I
(''I J
)''J K
;''K L
public)) 

virtual)) 
Menu)) 
Menu)) 
{)) 
get)) "
;))" #
set))$ '
;))' (
}))) *
=))+ ,
null))- 1
!))1 2
;))2 3
[** 

JsonIgnore** 
]** 
public++ 

virtual++ 
ICollection++ 
<++ 
OrderDetail++ *
>++* +
OrderDetails++, 8
{++9 :
get++; >
;++> ?
set++@ C
;++C D
}++E F
=++G H
new++I L
List++M Q
<++Q R
OrderDetail++R ]
>++] ^
(++^ _
)++_ `
;++` a
},, õ
&D:\Hotpot\HotpotLibrary\Models\Menu.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
Menu 
{		 
public

 

int

 
MenuID

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 

int 
RestaurantID 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
MenuName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
CreatedDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

bool 
? 
IsActive 
{ 
get 
;  
set! $
;$ %
}& '
[ 

JsonIgnore 
] 
public 

virtual 
ICollection 
< 
MenuItem '
>' (
	MenuItems) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
=A B
newC F
ListG K
<K L
MenuItemL T
>T U
(U V
)V W
;W X
public 

virtual 

Restaurant 

Restaurant (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
null9 =
!= >
;> ?
} Ú
0D:\Hotpot\HotpotLibrary\Models\FeedbackRating.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
FeedbackRating 
{ 
public		 

int		 
FeedbackRatingID		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public 

int 
UserID 
{ 
get 
; 
set  
;  !
}" #
public 

int 
RestaurantID 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
? 
Message 
{ 
get  
;  !
set" %
;% &
}' (
public 

int 
Rating 
{ 
get 
; 
set  
;  !
}" #
public 

DateTime 
CreatedDate 
{  !
get" %
;% &
set' *
;* +
}, -
[ 

JsonIgnore 
] 
public 

virtual 

Restaurant 

Restaurant (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
null9 =
!= >
;> ?
[ 

JsonIgnore 
] 
public 

virtual 
User 
User 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
null- 1
!1 2
;2 3
} ‹
(D:\Hotpot\HotpotLibrary\Models\Class1.cs
	namespace 	
HotpotLibrary
 
. 
Models 
{ 
public		 

class		 !
OrderStatisticsReport		 &
{

 
public 
int 
Received 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
	Delivered 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
	Cancelled 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 

Processing 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Ontheway 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
	Confirmed 
{ 
get "
;" #
set$ '
;' (
}) *
} 
public 

class &
RestaurantStatisticsReport +
{ 
public 
int 
ActiveRestaurants $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
int 
InactiveRestaurants &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
public 

class  
UserStatisticsReport %
{ 
public 
int 
ActiveUsers 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
InactiveUsers  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
public 

class  
MenuStatisticsReport %
{   
public!! 
bool!! 
ActiveMenus!! 
{!!  !
get!!" %
;!!% &
set!!' *
;!!* +
}!!, -
public"" 
bool"" 
InactiveMenus"" !
{""" #
get""$ '
;""' (
set"") ,
;"", -
}"". /
}## 
public%% 

class%% #
PaymentStatisticsReport%% (
{&& 
public'' 
int'' 
CompletedPayments'' $
{''% &
get''' *
;''* +
set'', /
;''/ 0
}''1 2
public(( 
int(( 
FailedPayments(( !
{((" #
get(($ '
;((' (
set(() ,
;((, -
}((. /
public)) 
int)) 
PendingPayments)) "
{))# $
get))% (
;))( )
set))* -
;))- .
}))/ 0
}** 
}++ ¿
&D:\Hotpot\HotpotLibrary\Models\Cart.cs
	namespace 	
HotpotLibrary
 
. 
Models 
; 
public 
class 
Cart 
{ 
public		 

int		 
CartID		 
{		 
get		 
;		 
set		  
;		  !
}		" #
public 

int 
UserID 
{ 
get 
; 
set  
;  !
}" #
public 

DateTime 
CreatedDate 
{  !
get" %
;% &
set' *
;* +
}, -
public 

int 

MenuItemID 
{ 
get 
;  
set! $
;$ %
}& '
public 

int 
Quantity 
{ 
get 
; 
set "
;" #
}$ %
public 

decimal 
Price 
{ 
get 
; 
set  #
;# $
}% &
[ 

JsonIgnore 
] 
public 

virtual 
MenuItem 
MenuItem $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
null5 9
!9 :
;: ;
[ 

JsonIgnore 
] 
public 

virtual 
User 
User 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
null- 1
!1 2
;2 3
} ñI
?D:\Hotpot\HotpotLibrary\Migrations\20240910092705_chageddata.cs
	namespace 	
HotpotLibrary
 
. 

Migrations "
{ 
public		 

partial		 
class		 

chageddata		 #
:		$ %
	Migration		& /
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str 
, 
table 
: 
$str 
, 
newName 
: 
$str !
)! "
;" #
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str 
, 
table 
: 
$str 
,  
newName 
: 
$str !
)! "
;" #
migrationBuilder 
. 
RenameIndex (
(( )
name 
: 
$str (
,( )
table 
: 
$str 
,  
newName 
: 
$str +
)+ ,
;, -
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str  
,  !
table 
: 
$str "
," #
newName   
:   
$str   #
)  # $
;  $ %
migrationBuilder"" 
."" 
RenameColumn"" )
("") *
name## 
:## 
$str## 
,## 
table$$ 
:$$ 
$str$$ (
,$$( )
newName%% 
:%% 
$str%% !
)%%! "
;%%" #
migrationBuilder'' 
.'' 
RenameIndex'' (
(''( )
name(( 
:(( 
$str(( 1
,((1 2
table)) 
:)) 
$str)) (
,))( )
newName** 
:** 
$str** 4
)**4 5
;**5 6
migrationBuilder,, 
.,, 
RenameColumn,, )
(,,) *
name-- 
:-- 
$str-- 
,-- 
table.. 
:.. 
$str.. 
,.. 
newName// 
:// 
$str// !
)//! "
;//" #
migrationBuilder11 
.11 
RenameIndex11 (
(11( )
name22 
:22 
$str22 &
,22& '
table33 
:33 
$str33 
,33 
newName44 
:44 
$str44 )
)44) *
;44* +
migrationBuilder66 
.66 
AlterColumn66 (
<66( )
DateTime66) 1
>661 2
(662 3
name77 
:77 
$str77 !
,77! "
table88 
:88 
$str88 
,88  
type99 
:99 
$str99  
,99  !
nullable:: 
::: 
true:: 
,:: 

oldClrType;; 
:;; 
typeof;; "
(;;" #
DateTime;;# +
);;+ ,
,;;, -
oldType<< 
:<< 
$str<< #
)<<# $
;<<$ %
migrationBuilder>> 
.>> 
AlterColumn>> (
<>>( )
string>>) /
>>>/ 0
(>>0 1
name?? 
:?? 
$str?? '
,??' (
table@@ 
:@@ 
$str@@ 
,@@  
typeAA 
:AA 
$strAA $
,AA$ %
unicodeBB 
:BB 
falseBB 
,BB 
	maxLengthCC 
:CC 
$numCC 
,CC 
nullableDD 
:DD 
falseDD 
,DD  
defaultValueEE 
:EE 
$strEE  
,EE  !

oldClrTypeFF 
:FF 
typeofFF "
(FF" #
stringFF# )
)FF) *
,FF* +
oldTypeGG 
:GG 
$strGG '
,GG' (

oldUnicodeHH 
:HH 
falseHH !
,HH! "
oldMaxLengthII 
:II 
$numII !
,II! "
oldNullableJJ 
:JJ 
trueJJ !
)JJ! "
;JJ" #
}KK 	
	protectedNN 
overrideNN 
voidNN 
DownNN  $
(NN$ %
MigrationBuilderNN% 5
migrationBuilderNN6 F
)NNF G
{OO 	
migrationBuilderPP 
.PP 
RenameColumnPP )
(PP) *
nameQQ 
:QQ 
$strQQ 
,QQ 
tableRR 
:RR 
$strRR 
,RR 
newNameSS 
:SS 
$strSS !
)SS! "
;SS" #
migrationBuilderUU 
.UU 
RenameColumnUU )
(UU) *
nameVV 
:VV 
$strVV 
,VV 
tableWW 
:WW 
$strWW 
,WW  
newNameXX 
:XX 
$strXX !
)XX! "
;XX" #
migrationBuilderZZ 
.ZZ 
RenameIndexZZ (
(ZZ( )
name[[ 
:[[ 
$str[[ (
,[[( )
table\\ 
:\\ 
$str\\ 
,\\  
newName]] 
:]] 
$str]] +
)]]+ ,
;]], -
migrationBuilder__ 
.__ 
RenameColumn__ )
(__) *
name`` 
:`` 
$str``  
,``  !
tableaa 
:aa 
$straa "
,aa" #
newNamebb 
:bb 
$strbb #
)bb# $
;bb$ %
migrationBuilderdd 
.dd 
RenameColumndd )
(dd) *
nameee 
:ee 
$stree 
,ee 
tableff 
:ff 
$strff (
,ff( )
newNamegg 
:gg 
$strgg !
)gg! "
;gg" #
migrationBuilderii 
.ii 
RenameIndexii (
(ii( )
namejj 
:jj 
$strjj 1
,jj1 2
tablekk 
:kk 
$strkk (
,kk( )
newNamell 
:ll 
$strll 4
)ll4 5
;ll5 6
migrationBuildernn 
.nn 
RenameColumnnn )
(nn) *
nameoo 
:oo 
$stroo 
,oo 
tablepp 
:pp 
$strpp 
,pp 
newNameqq 
:qq 
$strqq !
)qq! "
;qq" #
migrationBuilderss 
.ss 
RenameIndexss (
(ss( )
namett 
:tt 
$strtt &
,tt& '
tableuu 
:uu 
$struu 
,uu 
newNamevv 
:vv 
$strvv )
)vv) *
;vv* +
migrationBuilderxx 
.xx 
AlterColumnxx (
<xx( )
DateTimexx) 1
>xx1 2
(xx2 3
nameyy 
:yy 
$stryy !
,yy! "
tablezz 
:zz 
$strzz 
,zz  
type{{ 
:{{ 
$str{{  
,{{  !
nullable|| 
:|| 
false|| 
,||  
defaultValue}} 
:}} 
new}} !
DateTime}}" *
(}}* +
$num}}+ ,
,}}, -
$num}}. /
,}}/ 0
$num}}1 2
,}}2 3
$num}}4 5
,}}5 6
$num}}7 8
,}}8 9
$num}}: ;
,}}; <
$num}}= >
,}}> ?
DateTimeKind}}@ L
.}}L M
Unspecified}}M X
)}}X Y
,}}Y Z

oldClrType~~ 
:~~ 
typeof~~ "
(~~" #
DateTime~~# +
)~~+ ,
,~~, -
oldType 
: 
$str #
,# $
oldNullable
ÄÄ 
:
ÄÄ 
true
ÄÄ !
)
ÄÄ! "
;
ÄÄ" #
migrationBuilder
ÇÇ 
.
ÇÇ 
AlterColumn
ÇÇ (
<
ÇÇ( )
string
ÇÇ) /
>
ÇÇ/ 0
(
ÇÇ0 1
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ '
,
ÉÉ' (
table
ÑÑ 
:
ÑÑ 
$str
ÑÑ 
,
ÑÑ  
type
ÖÖ 
:
ÖÖ 
$str
ÖÖ $
,
ÖÖ$ %
unicode
ÜÜ 
:
ÜÜ 
false
ÜÜ 
,
ÜÜ 
	maxLength
áá 
:
áá 
$num
áá 
,
áá 
nullable
àà 
:
àà 
true
àà 
,
àà 

oldClrType
ââ 
:
ââ 
typeof
ââ "
(
ââ" #
string
ââ# )
)
ââ) *
,
ââ* +
oldType
ää 
:
ää 
$str
ää '
,
ää' (

oldUnicode
ãã 
:
ãã 
false
ãã !
,
ãã! "
oldMaxLength
åå 
:
åå 
$num
åå !
)
åå! "
;
åå" #
}
çç 	
}
éé 
}èè ∆ë
CD:\Hotpot\HotpotLibrary\Migrations\20240909150205_firstmigartion.cs
	namespace 	
HotpotLibrary
 
. 

Migrations "
{ 
public		 

partial		 
class		 
firstmigartion		 '
:		( )
	Migration		* 3
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
RestaurantID  
=! "
table# (
.( )
Column) /
</ 0
int0 3
>3 4
(4 5
type5 9
:9 :
$str; @
,@ A
nullableB J
:J K
falseL Q
)Q R
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 D
,D E
unicodeF M
:M N
falseO T
,T U
	maxLengthV _
:_ `
$numa d
,d e
nullablef n
:n o
falsep u
)u v
,v w
Description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= C
,C D
nullableE M
:M N
trueO S
)S T
,T U
PhNo 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 C
,C D
unicodeE L
:L M
falseN S
,S T
	maxLengthU ^
:^ _
$num` b
,b c
nullabled l
:l m
truen r
)r s
,s t
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 E
,E F
unicodeG N
:N O
falseP U
,U V
	maxLengthW `
:` a
$numb e
,e f
nullableg o
:o p
falseq v
)v w
,w x
OperatingHours "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ M
,M N
unicodeO V
:V W
falseX ]
,] ^
	maxLength_ h
:h i
$numj l
,l m
nullablen v
:v w
truex |
)| }
,} ~
AddressLine 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= K
,K L
unicodeM T
:T U
falseV [
,[ \
	maxLength] f
:f g
$numh k
,k l
nullablem u
:u v
truew {
){ |
,| }
City 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 D
,D E
unicodeF M
:M N
falseO T
,T U
	maxLengthV _
:_ `
$numa d
,d e
nullablef n
:n o
truep t
)t u
,u v
State 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 E
,E F
unicodeG N
:N O
falseP U
,U V
	maxLengthW `
:` a
$numb e
,e f
nullableg o
:o p
trueq u
)u v
,v w

PostalCode 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< J
,J K
unicodeL S
:S T
falseU Z
,Z [
	maxLength\ e
:e f
$numg j
,j k
nullablel t
:t u
truev z
)z {
,{ |
Country 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 G
,G H
unicodeI P
:P Q
falseR W
,W X
	maxLengthY b
:b c
$numd g
,g h
nullablei q
:q r
trues w
)w x
,x y
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? I
,I J
nullableK S
:S T
trueU Y
,Y Z
defaultValueSql[ j
:j k
$strl y
)y z
,z {
IsActive 
= 
table $
.$ %
Column% +
<+ ,
bool, 0
>0 1
(1 2
type2 6
:6 7
$str8 =
,= >
nullable? G
:G H
trueI M
,M N
defaultValueO [
:[ \
true] a
)a b
}   
,   
constraints!! 
:!! 
table!! "
=>!!# %
{"" 
table## 
.## 

PrimaryKey## $
(##$ %
$str##% E
,##E F
x##G H
=>##I K
x##L M
.##M N
RestaurantID##N Z
)##Z [
;##[ \
}$$ 
)$$ 
;$$ 
migrationBuilder&& 
.&& 
CreateTable&& (
(&&( )
name'' 
:'' 
$str'' 
,'' 
columns(( 
:(( 
table(( 
=>(( !
new((" %
{)) 
UserID** 
=** 
table** "
.**" #
Column**# )
<**) *
int*** -
>**- .
(**. /
type**/ 3
:**3 4
$str**5 :
,**: ;
nullable**< D
:**D E
false**F K
)**K L
.++ 

Annotation++ #
(++# $
$str++$ 8
,++8 9
$str++: @
)++@ A
,++A B
Username,, 
=,, 
table,, $
.,,$ %
Column,,% +
<,,+ ,
string,,, 2
>,,2 3
(,,3 4
type,,4 8
:,,8 9
$str,,: G
,,,G H
unicode,,I P
:,,P Q
false,,R W
,,,W X
	maxLength,,Y b
:,,b c
$num,,d f
,,,f g
nullable,,h p
:,,p q
false,,r w
),,w x
,,,x y
Email-- 
=-- 
table-- !
.--! "
Column--" (
<--( )
string--) /
>--/ 0
(--0 1
type--1 5
:--5 6
$str--7 E
,--E F
unicode--G N
:--N O
false--P U
,--U V
	maxLength--W `
:--` a
$num--b e
,--e f
nullable--g o
:--o p
true--q u
)--u v
,--v w
Password.. 
=.. 
table.. $
...$ %
Column..% +
<..+ ,
string.., 2
>..2 3
(..3 4
type..4 8
:..8 9
$str..: G
,..G H
unicode..I P
:..P Q
false..R W
,..W X
	maxLength..Y b
:..b c
$num..d f
,..f g
nullable..h p
:..p q
false..r w
)..w x
,..x y
PhNo// 
=// 
table//  
.//  !
Column//! '
<//' (
string//( .
>//. /
(/// 0
type//0 4
://4 5
$str//6 C
,//C D
unicode//E L
://L M
false//N S
,//S T
	maxLength//U ^
://^ _
$num//` b
,//b c
nullable//d l
://l m
true//n r
)//r s
,//s t
AddressLine00 
=00  !
table00" '
.00' (
Column00( .
<00. /
string00/ 5
>005 6
(006 7
type007 ;
:00; <
$str00= K
,00K L
unicode00M T
:00T U
false00V [
,00[ \
	maxLength00] f
:00f g
$num00h k
,00k l
nullable00m u
:00u v
true00w {
)00{ |
,00| }
City11 
=11 
table11  
.11  !
Column11! '
<11' (
string11( .
>11. /
(11/ 0
type110 4
:114 5
$str116 D
,11D E
unicode11F M
:11M N
false11O T
,11T U
	maxLength11V _
:11_ `
$num11a d
,11d e
nullable11f n
:11n o
true11p t
)11t u
,11u v
State22 
=22 
table22 !
.22! "
Column22" (
<22( )
string22) /
>22/ 0
(220 1
type221 5
:225 6
$str227 E
,22E F
unicode22G N
:22N O
false22P U
,22U V
	maxLength22W `
:22` a
$num22b e
,22e f
nullable22g o
:22o p
true22q u
)22u v
,22v w

PostalCode33 
=33  
table33! &
.33& '
Column33' -
<33- .
string33. 4
>334 5
(335 6
type336 :
:33: ;
$str33< J
,33J K
unicode33L S
:33S T
false33U Z
,33Z [
	maxLength33\ e
:33e f
$num33g j
,33j k
nullable33l t
:33t u
true33v z
)33z {
,33{ |
Country44 
=44 
table44 #
.44# $
Column44$ *
<44* +
string44+ 1
>441 2
(442 3
type443 7
:447 8
$str449 G
,44G H
unicode44I P
:44P Q
false44R W
,44W X
	maxLength44Y b
:44b c
$num44d g
,44g h
nullable44i q
:44q r
true44s w
)44w x
,44x y
Role55 
=55 
table55  
.55  !
Column55! '
<55' (
string55( .
>55. /
(55/ 0
type550 4
:554 5
$str556 C
,55C D
unicode55E L
:55L M
false55N S
,55S T
	maxLength55U ^
:55^ _
$num55` b
,55b c
nullable55d l
:55l m
false55n s
)55s t
,55t u
CreatedDate66 
=66  !
table66" '
.66' (
Column66( .
<66. /
DateTime66/ 7
>667 8
(668 9
type669 =
:66= >
$str66? I
,66I J
nullable66K S
:66S T
true66U Y
,66Y Z
defaultValueSql66[ j
:66j k
$str66l y
)66y z
,66z {
IsActive77 
=77 
table77 $
.77$ %
Column77% +
<77+ ,
bool77, 0
>770 1
(771 2
type772 6
:776 7
$str778 =
,77= >
nullable77? G
:77G H
true77I M
,77M N
defaultValue77O [
:77[ \
true77] a
)77a b
}88 
,88 
constraints99 
:99 
table99 "
=>99# %
{:: 
table;; 
.;; 

PrimaryKey;; $
(;;$ %
$str;;% B
,;;B C
x;;D E
=>;;F H
x;;I J
.;;J K
UserID;;K Q
);;Q R
;;;R S
}<< 
)<< 
;<< 
migrationBuilder>> 
.>> 
CreateTable>> (
(>>( )
name?? 
:?? 
$str?? 
,?? 
columns@@ 
:@@ 
table@@ 
=>@@ !
new@@" %
{AA 
MenuIDBB 
=BB 
tableBB "
.BB" #
ColumnBB# )
<BB) *
intBB* -
>BB- .
(BB. /
typeBB/ 3
:BB3 4
$strBB5 :
,BB: ;
nullableBB< D
:BBD E
falseBBF K
)BBK L
.CC 

AnnotationCC #
(CC# $
$strCC$ 8
,CC8 9
$strCC: @
)CC@ A
,CCA B
RestaurantIDDD  
=DD! "
tableDD# (
.DD( )
ColumnDD) /
<DD/ 0
intDD0 3
>DD3 4
(DD4 5
typeDD5 9
:DD9 :
$strDD; @
,DD@ A
nullableDDB J
:DDJ K
falseDDL Q
)DDQ R
,DDR S
MenuNameEE 
=EE 
tableEE $
.EE$ %
ColumnEE% +
<EE+ ,
stringEE, 2
>EE2 3
(EE3 4
typeEE4 8
:EE8 9
$strEE: H
,EEH I
unicodeEEJ Q
:EEQ R
falseEES X
,EEX Y
	maxLengthEEZ c
:EEc d
$numEEe h
,EEh i
nullableEEj r
:EEr s
falseEEt y
)EEy z
,EEz {
DescriptionFF 
=FF  !
tableFF" '
.FF' (
ColumnFF( .
<FF. /
stringFF/ 5
>FF5 6
(FF6 7
typeFF7 ;
:FF; <
$strFF= C
,FFC D
nullableFFE M
:FFM N
trueFFO S
)FFS T
,FFT U
CreatedDateGG 
=GG  !
tableGG" '
.GG' (
ColumnGG( .
<GG. /
DateTimeGG/ 7
>GG7 8
(GG8 9
typeGG9 =
:GG= >
$strGG? I
,GGI J
nullableGGK S
:GGS T
trueGGU Y
,GGY Z
defaultValueSqlGG[ j
:GGj k
$strGGl y
)GGy z
,GGz {
IsActiveHH 
=HH 
tableHH $
.HH$ %
ColumnHH% +
<HH+ ,
boolHH, 0
>HH0 1
(HH1 2
typeHH2 6
:HH6 7
$strHH8 =
,HH= >
nullableHH? G
:HHG H
trueHHI M
,HHM N
defaultValueHHO [
:HH[ \
trueHH] a
)HHa b
}II 
,II 
constraintsJJ 
:JJ 
tableJJ "
=>JJ# %
{KK 
tableLL 
.LL 

PrimaryKeyLL $
(LL$ %
$strLL% A
,LLA B
xLLC D
=>LLE G
xLLH I
.LLI J
MenuIDLLJ P
)LLP Q
;LLQ R
tableMM 
.MM 

ForeignKeyMM $
(MM$ %
nameNN 
:NN 
$strNN 2
,NN2 3
columnOO 
:OO 
xOO  !
=>OO" $
xOO% &
.OO& '
RestaurantIDOO' 3
,OO3 4
principalTablePP &
:PP& '
$strPP( 5
,PP5 6
principalColumnQQ '
:QQ' (
$strQQ) 7
)QQ7 8
;QQ8 9
}RR 
)RR 
;RR 
migrationBuilderTT 
.TT 
CreateTableTT (
(TT( )
nameUU 
:UU 
$strUU '
,UU' (
columnsVV 
:VV 
tableVV 
=>VV !
newVV" %
{WW 
FeedbackRatingIDXX $
=XX% &
tableXX' ,
.XX, -
ColumnXX- 3
<XX3 4
intXX4 7
>XX7 8
(XX8 9
typeXX9 =
:XX= >
$strXX? D
,XXD E
nullableXXF N
:XXN O
falseXXP U
)XXU V
.YY 

AnnotationYY #
(YY# $
$strYY$ 8
,YY8 9
$strYY: @
)YY@ A
,YYA B
UserIDZZ 
=ZZ 
tableZZ "
.ZZ" #
ColumnZZ# )
<ZZ) *
intZZ* -
>ZZ- .
(ZZ. /
typeZZ/ 3
:ZZ3 4
$strZZ5 :
,ZZ: ;
nullableZZ< D
:ZZD E
falseZZF K
)ZZK L
,ZZL M
RestaurantID[[  
=[[! "
table[[# (
.[[( )
Column[[) /
<[[/ 0
int[[0 3
>[[3 4
([[4 5
type[[5 9
:[[9 :
$str[[; @
,[[@ A
nullable[[B J
:[[J K
false[[L Q
)[[Q R
,[[R S
Message\\ 
=\\ 
table\\ #
.\\# $
Column\\$ *
<\\* +
string\\+ 1
>\\1 2
(\\2 3
type\\3 7
:\\7 8
$str\\9 ?
,\\? @
nullable\\A I
:\\I J
true\\K O
)\\O P
,\\P Q
Rating]] 
=]] 
table]] "
.]]" #
Column]]# )
<]]) *
int]]* -
>]]- .
(]]. /
type]]/ 3
:]]3 4
$str]]5 :
,]]: ;
nullable]]< D
:]]D E
false]]F K
)]]K L
,]]L M
CreatedDate^^ 
=^^  !
table^^" '
.^^' (
Column^^( .
<^^. /
DateTime^^/ 7
>^^7 8
(^^8 9
type^^9 =
:^^= >
$str^^? I
,^^I J
nullable^^K S
:^^S T
true^^U Y
,^^Y Z
defaultValueSql^^[ j
:^^j k
$str^^l y
)^^y z
}__ 
,__ 
constraints`` 
:`` 
table`` "
=>``# %
{aa 
tablebb 
.bb 

PrimaryKeybb $
(bb$ %
$strbb% E
,bbE F
xbbG H
=>bbI K
xbbL M
.bbM N
FeedbackRatingIDbbN ^
)bb^ _
;bb_ `
tablecc 
.cc 

ForeignKeycc $
(cc$ %
namedd 
:dd 
$strdd =
,dd= >
columnee 
:ee 
xee  !
=>ee" $
xee% &
.ee& '
RestaurantIDee' 3
,ee3 4
principalTableff &
:ff& '
$strff( 5
,ff5 6
principalColumngg '
:gg' (
$strgg) 7
)gg7 8
;gg8 9
tablehh 
.hh 

ForeignKeyhh $
(hh$ %
nameii 
:ii 
$strii 7
,ii7 8
columnjj 
:jj 
xjj  !
=>jj" $
xjj% &
.jj& '
UserIDjj' -
,jj- .
principalTablekk &
:kk& '
$strkk( /
,kk/ 0
principalColumnll '
:ll' (
$strll) 1
)ll1 2
;ll2 3
}mm 
)mm 
;mm 
migrationBuilderoo 
.oo 
CreateTableoo (
(oo( )
namepp 
:pp 
$strpp 
,pp 
columnsqq 
:qq 
tableqq 
=>qq !
newqq" %
{rr 
OrderIDss 
=ss 
tabless #
.ss# $
Columnss$ *
<ss* +
intss+ .
>ss. /
(ss/ 0
typess0 4
:ss4 5
$strss6 ;
,ss; <
nullabless= E
:ssE F
falsessG L
)ssL M
.tt 

Annotationtt #
(tt# $
$strtt$ 8
,tt8 9
$strtt: @
)tt@ A
,ttA B
UserIDuu 
=uu 
tableuu "
.uu" #
Columnuu# )
<uu) *
intuu* -
>uu- .
(uu. /
typeuu/ 3
:uu3 4
$struu5 :
,uu: ;
nullableuu< D
:uuD E
falseuuF K
)uuK L
,uuL M
RestaurantIDvv  
=vv! "
tablevv# (
.vv( )
Columnvv) /
<vv/ 0
intvv0 3
>vv3 4
(vv4 5
typevv5 9
:vv9 :
$strvv; @
,vv@ A
nullablevvB J
:vvJ K
falsevvL Q
)vvQ R
,vvR S
	OrderDateww 
=ww 
tableww  %
.ww% &
Columnww& ,
<ww, -
DateTimeww- 5
>ww5 6
(ww6 7
typeww7 ;
:ww; <
$strww= G
,wwG H
nullablewwI Q
:wwQ R
falsewwS X
)wwX Y
,wwY Z
TotalAmountxx 
=xx  !
tablexx" '
.xx' (
Columnxx( .
<xx. /
decimalxx/ 6
>xx6 7
(xx7 8
typexx8 <
:xx< =
$strxx> M
,xxM N
nullablexxO W
:xxW X
falsexxY ^
)xx^ _
,xx_ `
OrderStatusyy 
=yy  !
tableyy" '
.yy' (
Columnyy( .
<yy. /
stringyy/ 5
>yy5 6
(yy6 7
typeyy7 ;
:yy; <
$stryy= J
,yyJ K
unicodeyyL S
:yyS T
falseyyU Z
,yyZ [
	maxLengthyy\ e
:yye f
$numyyg i
,yyi j
nullableyyk s
:yys t
falseyyu z
)yyz {
,yy{ |
PaymentStatuszz !
=zz" #
tablezz$ )
.zz) *
Columnzz* 0
<zz0 1
stringzz1 7
>zz7 8
(zz8 9
typezz9 =
:zz= >
$strzz? L
,zzL M
unicodezzN U
:zzU V
falsezzW \
,zz\ ]
	maxLengthzz^ g
:zzg h
$numzzi k
,zzk l
nullablezzm u
:zzu v
falsezzw |
)zz| }
,zz} ~
DeliveryAddress{{ #
={{$ %
table{{& +
.{{+ ,
Column{{, 2
<{{2 3
string{{3 9
>{{9 :
({{: ;
type{{; ?
:{{? @
$str{{A O
,{{O P
unicode{{Q X
:{{X Y
false{{Z _
,{{_ `
	maxLength{{a j
:{{j k
$num{{l o
,{{o p
nullable{{q y
:{{y z
true{{{ 
)	{{ Ä
,
{{Ä Å
DeliveryDate||  
=||! "
table||# (
.||( )
Column||) /
<||/ 0
DateTime||0 8
>||8 9
(||9 :
type||: >
:||> ?
$str||@ J
,||J K
nullable||L T
:||T U
true||V Z
)||Z [
,||[ \
CreatedDate}} 
=}}  !
table}}" '
.}}' (
Column}}( .
<}}. /
DateTime}}/ 7
>}}7 8
(}}8 9
type}}9 =
:}}= >
$str}}? I
,}}I J
nullable}}K S
:}}S T
true}}U Y
,}}Y Z
defaultValueSql}}[ j
:}}j k
$str}}l y
)}}y z
}~~ 
,~~ 
constraints 
: 
table "
=># %
{
ÄÄ 
table
ÅÅ 
.
ÅÅ 

PrimaryKey
ÅÅ $
(
ÅÅ$ %
$str
ÅÅ% C
,
ÅÅC D
x
ÅÅE F
=>
ÅÅG I
x
ÅÅJ K
.
ÅÅK L
OrderID
ÅÅL S
)
ÅÅS T
;
ÅÅT U
table
ÇÇ 
.
ÇÇ 

ForeignKey
ÇÇ $
(
ÇÇ$ %
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ 4
,
ÉÉ4 5
column
ÑÑ 
:
ÑÑ 
x
ÑÑ  !
=>
ÑÑ" $
x
ÑÑ% &
.
ÑÑ& '
RestaurantID
ÑÑ' 3
,
ÑÑ3 4
principalTable
ÖÖ &
:
ÖÖ& '
$str
ÖÖ( 5
,
ÖÖ5 6
principalColumn
ÜÜ '
:
ÜÜ' (
$str
ÜÜ) 7
)
ÜÜ7 8
;
ÜÜ8 9
table
áá 
.
áá 

ForeignKey
áá $
(
áá$ %
name
àà 
:
àà 
$str
àà .
,
àà. /
column
ââ 
:
ââ 
x
ââ  !
=>
ââ" $
x
ââ% &
.
ââ& '
UserID
ââ' -
,
ââ- .
principalTable
ää &
:
ää& '
$str
ää( /
,
ää/ 0
principalColumn
ãã '
:
ãã' (
$str
ãã) 1
)
ãã1 2
;
ãã2 3
}
åå 
)
åå 
;
åå 
migrationBuilder
éé 
.
éé 
CreateTable
éé (
(
éé( )
name
èè 
:
èè 
$str
èè !
,
èè! "
columns
êê 
:
êê 
table
êê 
=>
êê !
new
êê" %
{
ëë 

MenuItemID
íí 
=
íí  
table
íí! &
.
íí& '
Column
íí' -
<
íí- .
int
íí. 1
>
íí1 2
(
íí2 3
type
íí3 7
:
íí7 8
$str
íí9 >
,
íí> ?
nullable
íí@ H
:
ííH I
false
ííJ O
)
ííO P
.
ìì 

Annotation
ìì #
(
ìì# $
$str
ìì$ 8
,
ìì8 9
$str
ìì: @
)
ìì@ A
,
ììA B
MenuID
îî 
=
îî 
table
îî "
.
îî" #
Column
îî# )
<
îî) *
int
îî* -
>
îî- .
(
îî. /
type
îî/ 3
:
îî3 4
$str
îî5 :
,
îî: ;
nullable
îî< D
:
îîD E
false
îîF K
)
îîK L
,
îîL M
ItemName
ïï 
=
ïï 
table
ïï $
.
ïï$ %
Column
ïï% +
<
ïï+ ,
string
ïï, 2
>
ïï2 3
(
ïï3 4
type
ïï4 8
:
ïï8 9
$str
ïï: H
,
ïïH I
unicode
ïïJ Q
:
ïïQ R
false
ïïS X
,
ïïX Y
	maxLength
ïïZ c
:
ïïc d
$num
ïïe h
,
ïïh i
nullable
ïïj r
:
ïïr s
false
ïït y
)
ïïy z
,
ïïz {
Description
ññ 
=
ññ  !
table
ññ" '
.
ññ' (
Column
ññ( .
<
ññ. /
string
ññ/ 5
>
ññ5 6
(
ññ6 7
type
ññ7 ;
:
ññ; <
$str
ññ= C
,
ññC D
nullable
ññE M
:
ññM N
true
ññO S
)
ññS T
,
ññT U
Category
óó 
=
óó 
table
óó $
.
óó$ %
Column
óó% +
<
óó+ ,
string
óó, 2
>
óó2 3
(
óó3 4
type
óó4 8
:
óó8 9
$str
óó: G
,
óóG H
unicode
óóI P
:
óóP Q
false
óóR W
,
óóW X
	maxLength
óóY b
:
óób c
$num
óód f
,
óóf g
nullable
óóh p
:
óóp q
false
óór w
)
óów x
,
óóx y
Price
òò 
=
òò 
table
òò !
.
òò! "
Column
òò" (
<
òò( )
decimal
òò) 0
>
òò0 1
(
òò1 2
type
òò2 6
:
òò6 7
$str
òò8 G
,
òòG H
nullable
òòI Q
:
òòQ R
false
òòS X
)
òòX Y
,
òòY Z 
SpecialDietaryInfo
ôô &
=
ôô' (
table
ôô) .
.
ôô. /
Column
ôô/ 5
<
ôô5 6
string
ôô6 <
>
ôô< =
(
ôô= >
type
ôô> B
:
ôôB C
$str
ôôD Q
,
ôôQ R
unicode
ôôS Z
:
ôôZ [
false
ôô\ a
,
ôôa b
	maxLength
ôôc l
:
ôôl m
$num
ôôn p
,
ôôp q
nullable
ôôr z
:
ôôz {
trueôô| Ä
)ôôÄ Å
,ôôÅ Ç
	TasteInfo
öö 
=
öö 
table
öö  %
.
öö% &
Column
öö& ,
<
öö, -
string
öö- 3
>
öö3 4
(
öö4 5
type
öö5 9
:
öö9 :
$str
öö; H
,
ööH I
unicode
ööJ Q
:
ööQ R
false
ööS X
,
ööX Y
	maxLength
ööZ c
:
ööc d
$num
ööe g
,
öög h
nullable
ööi q
:
ööq r
true
öös w
)
ööw x
,
ööx y
NutritionalInfo
õõ #
=
õõ$ %
table
õõ& +
.
õõ+ ,
Column
õõ, 2
<
õõ2 3
string
õõ3 9
>
õõ9 :
(
õõ: ;
type
õõ; ?
:
õõ? @
$str
õõA O
,
õõO P
unicode
õõQ X
:
õõX Y
false
õõZ _
,
õõ_ `
	maxLength
õõa j
:
õõj k
$num
õõl o
,
õõo p
nullable
õõq y
:
õõy z
true
õõ{ 
)õõ Ä
,õõÄ Å
AvailabilityTime
úú $
=
úú% &
table
úú' ,
.
úú, -
Column
úú- 3
<
úú3 4
string
úú4 :
>
úú: ;
(
úú; <
type
úú< @
:
úú@ A
$str
úúB O
,
úúO P
unicode
úúQ X
:
úúX Y
false
úúZ _
,
úú_ `
	maxLength
úúa j
:
úúj k
$num
úúl n
,
úún o
nullable
úúp x
:
úúx y
true
úúz ~
)
úú~ 
,úú Ä
	IsInStock
ùù 
=
ùù 
table
ùù  %
.
ùù% &
Column
ùù& ,
<
ùù, -
bool
ùù- 1
>
ùù1 2
(
ùù2 3
type
ùù3 7
:
ùù7 8
$str
ùù9 >
,
ùù> ?
nullable
ùù@ H
:
ùùH I
true
ùùJ N
,
ùùN O
defaultValue
ùùP \
:
ùù\ ]
true
ùù^ b
)
ùùb c
,
ùùc d
ImageURL
ûû 
=
ûû 
table
ûû $
.
ûû$ %
Column
ûû% +
<
ûû+ ,
string
ûû, 2
>
ûû2 3
(
ûû3 4
type
ûû4 8
:
ûû8 9
$str
ûû: H
,
ûûH I
unicode
ûûJ Q
:
ûûQ R
false
ûûS X
,
ûûX Y
	maxLength
ûûZ c
:
ûûc d
$num
ûûe h
,
ûûh i
nullable
ûûj r
:
ûûr s
true
ûût x
)
ûûx y
,
ûûy z
CreatedDate
üü 
=
üü  !
table
üü" '
.
üü' (
Column
üü( .
<
üü. /
DateTime
üü/ 7
>
üü7 8
(
üü8 9
type
üü9 =
:
üü= >
$str
üü? I
,
üüI J
nullable
üüK S
:
üüS T
true
üüU Y
,
üüY Z
defaultValueSql
üü[ j
:
üüj k
$str
üül y
)
üüy z
,
üüz {
IsAvailable
†† 
=
††  !
table
††" '
.
††' (
Column
††( .
<
††. /
bool
††/ 3
>
††3 4
(
††4 5
type
††5 9
:
††9 :
$str
††; @
,
††@ A
nullable
††B J
:
††J K
true
††L P
,
††P Q
defaultValue
††R ^
:
††^ _
true
††` d
)
††d e
,
††e f
	Discounts
°° 
=
°° 
table
°°  %
.
°°% &
Column
°°& ,
<
°°, -
decimal
°°- 4
>
°°4 5
(
°°5 6
type
°°6 :
:
°°: ;
$str
°°< J
,
°°J K
nullable
°°L T
:
°°T U
true
°°V Z
,
°°Z [
defaultValue
°°\ h
:
°°h i
$num
°°j o
)
°°o p
}
¢¢ 
,
¢¢ 
constraints
££ 
:
££ 
table
££ "
=>
££# %
{
§§ 
table
•• 
.
•• 

PrimaryKey
•• $
(
••$ %
$str
••% E
,
••E F
x
••G H
=>
••I K
x
••L M
.
••M N

MenuItemID
••N X
)
••X Y
;
••Y Z
table
¶¶ 
.
¶¶ 

ForeignKey
¶¶ $
(
¶¶$ %
name
ßß 
:
ßß 
$str
ßß 1
,
ßß1 2
column
®® 
:
®® 
x
®®  !
=>
®®" $
x
®®% &
.
®®& '
MenuID
®®' -
,
®®- .
principalTable
©© &
:
©©& '
$str
©©( .
,
©©. /
principalColumn
™™ '
:
™™' (
$str
™™) 1
)
™™1 2
;
™™2 3
}
´´ 
)
´´ 
;
´´ 
migrationBuilder
≠≠ 
.
≠≠ 
CreateTable
≠≠ (
(
≠≠( )
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ  
,
ÆÆ  !
columns
ØØ 
:
ØØ 
table
ØØ 
=>
ØØ !
new
ØØ" %
{
∞∞ 
	PaymentID
±± 
=
±± 
table
±±  %
.
±±% &
Column
±±& ,
<
±±, -
int
±±- 0
>
±±0 1
(
±±1 2
type
±±2 6
:
±±6 7
$str
±±8 =
,
±±= >
nullable
±±? G
:
±±G H
false
±±I N
)
±±N O
.
≤≤ 

Annotation
≤≤ #
(
≤≤# $
$str
≤≤$ 8
,
≤≤8 9
$str
≤≤: @
)
≤≤@ A
,
≤≤A B
OrderID
≥≥ 
=
≥≥ 
table
≥≥ #
.
≥≥# $
Column
≥≥$ *
<
≥≥* +
int
≥≥+ .
>
≥≥. /
(
≥≥/ 0
type
≥≥0 4
:
≥≥4 5
$str
≥≥6 ;
,
≥≥; <
nullable
≥≥= E
:
≥≥E F
false
≥≥G L
)
≥≥L M
,
≥≥M N
PaymentMethod
¥¥ !
=
¥¥" #
table
¥¥$ )
.
¥¥) *
Column
¥¥* 0
<
¥¥0 1
string
¥¥1 7
>
¥¥7 8
(
¥¥8 9
type
¥¥9 =
:
¥¥= >
$str
¥¥? L
,
¥¥L M
unicode
¥¥N U
:
¥¥U V
false
¥¥W \
,
¥¥\ ]
	maxLength
¥¥^ g
:
¥¥g h
$num
¥¥i k
,
¥¥k l
nullable
¥¥m u
:
¥¥u v
false
¥¥w |
)
¥¥| }
,
¥¥} ~

AmountPaid
µµ 
=
µµ  
table
µµ! &
.
µµ& '
Column
µµ' -
<
µµ- .
decimal
µµ. 5
>
µµ5 6
(
µµ6 7
type
µµ7 ;
:
µµ; <
$str
µµ= L
,
µµL M
nullable
µµN V
:
µµV W
false
µµX ]
)
µµ] ^
,
µµ^ _
TransactionDate
∂∂ #
=
∂∂$ %
table
∂∂& +
.
∂∂+ ,
Column
∂∂, 2
<
∂∂2 3
DateTime
∂∂3 ;
>
∂∂; <
(
∂∂< =
type
∂∂= A
:
∂∂A B
$str
∂∂C M
,
∂∂M N
nullable
∂∂O W
:
∂∂W X
true
∂∂Y ]
,
∂∂] ^
defaultValueSql
∂∂_ n
:
∂∂n o
$str
∂∂p }
)
∂∂} ~
,
∂∂~ 
TransactionStatus
∑∑ %
=
∑∑& '
table
∑∑( -
.
∑∑- .
Column
∑∑. 4
<
∑∑4 5
string
∑∑5 ;
>
∑∑; <
(
∑∑< =
type
∑∑= A
:
∑∑A B
$str
∑∑C P
,
∑∑P Q
unicode
∑∑R Y
:
∑∑Y Z
false
∑∑[ `
,
∑∑` a
	maxLength
∑∑b k
:
∑∑k l
$num
∑∑m o
,
∑∑o p
nullable
∑∑q y
:
∑∑y z
false∑∑{ Ä
)∑∑Ä Å
}
∏∏ 
,
∏∏ 
constraints
ππ 
:
ππ 
table
ππ "
=>
ππ# %
{
∫∫ 
table
ªª 
.
ªª 

PrimaryKey
ªª $
(
ªª$ %
$str
ªª% E
,
ªªE F
x
ªªG H
=>
ªªI K
x
ªªL M
.
ªªM N
	PaymentID
ªªN W
)
ªªW X
;
ªªX Y
table
ºº 
.
ºº 

ForeignKey
ºº $
(
ºº$ %
name
ΩΩ 
:
ΩΩ 
$str
ΩΩ 1
,
ΩΩ1 2
column
ææ 
:
ææ 
x
ææ  !
=>
ææ" $
x
ææ% &
.
ææ& '
OrderID
ææ' .
,
ææ. /
principalTable
øø &
:
øø& '
$str
øø( 0
,
øø0 1
principalColumn
¿¿ '
:
¿¿' (
$str
¿¿) 2
)
¿¿2 3
;
¿¿3 4
}
¡¡ 
)
¡¡ 
;
¡¡ 
migrationBuilder
√√ 
.
√√ 
CreateTable
√√ (
(
√√( )
name
ƒƒ 
:
ƒƒ 
$str
ƒƒ 
,
ƒƒ 
columns
≈≈ 
:
≈≈ 
table
≈≈ 
=>
≈≈ !
new
≈≈" %
{
∆∆ 
CartID
«« 
=
«« 
table
«« "
.
««" #
Column
««# )
<
««) *
int
««* -
>
««- .
(
««. /
type
««/ 3
:
««3 4
$str
««5 :
,
««: ;
nullable
««< D
:
««D E
false
««F K
)
««K L
.
»» 

Annotation
»» #
(
»»# $
$str
»»$ 8
,
»»8 9
$str
»»: @
)
»»@ A
,
»»A B
UserID
…… 
=
…… 
table
…… "
.
……" #
Column
……# )
<
……) *
int
……* -
>
……- .
(
……. /
type
……/ 3
:
……3 4
$str
……5 :
,
……: ;
nullable
……< D
:
……D E
false
……F K
)
……K L
,
……L M
CreatedDate
   
=
    !
table
  " '
.
  ' (
Column
  ( .
<
  . /
DateTime
  / 7
>
  7 8
(
  8 9
type
  9 =
:
  = >
$str
  ? I
,
  I J
nullable
  K S
:
  S T
true
  U Y
,
  Y Z
defaultValueSql
  [ j
:
  j k
$str
  l y
)
  y z
,
  z {

MenuItemID
ÀÀ 
=
ÀÀ  
table
ÀÀ! &
.
ÀÀ& '
Column
ÀÀ' -
<
ÀÀ- .
int
ÀÀ. 1
>
ÀÀ1 2
(
ÀÀ2 3
type
ÀÀ3 7
:
ÀÀ7 8
$str
ÀÀ9 >
,
ÀÀ> ?
nullable
ÀÀ@ H
:
ÀÀH I
false
ÀÀJ O
)
ÀÀO P
,
ÀÀP Q
Quantity
ÃÃ 
=
ÃÃ 
table
ÃÃ $
.
ÃÃ$ %
Column
ÃÃ% +
<
ÃÃ+ ,
int
ÃÃ, /
>
ÃÃ/ 0
(
ÃÃ0 1
type
ÃÃ1 5
:
ÃÃ5 6
$str
ÃÃ7 <
,
ÃÃ< =
nullable
ÃÃ> F
:
ÃÃF G
false
ÃÃH M
)
ÃÃM N
,
ÃÃN O
Price
ÕÕ 
=
ÕÕ 
table
ÕÕ !
.
ÕÕ! "
Column
ÕÕ" (
<
ÕÕ( )
decimal
ÕÕ) 0
>
ÕÕ0 1
(
ÕÕ1 2
type
ÕÕ2 6
:
ÕÕ6 7
$str
ÕÕ8 G
,
ÕÕG H
nullable
ÕÕI Q
:
ÕÕQ R
false
ÕÕS X
)
ÕÕX Y
}
ŒŒ 
,
ŒŒ 
constraints
œœ 
:
œœ 
table
œœ "
=>
œœ# %
{
–– 
table
—— 
.
—— 

PrimaryKey
—— $
(
——$ %
$str
——% A
,
——A B
x
——C D
=>
——E G
x
——H I
.
——I J
CartID
——J P
)
——P Q
;
——Q R
table
““ 
.
““ 

ForeignKey
““ $
(
““$ %
name
”” 
:
”” 
$str
”” 0
,
””0 1
column
‘‘ 
:
‘‘ 
x
‘‘  !
=>
‘‘" $
x
‘‘% &
.
‘‘& '

MenuItemID
‘‘' 1
,
‘‘1 2
principalTable
’’ &
:
’’& '
$str
’’( 3
,
’’3 4
principalColumn
÷÷ '
:
÷÷' (
$str
÷÷) 5
)
÷÷5 6
;
÷÷6 7
table
◊◊ 
.
◊◊ 

ForeignKey
◊◊ $
(
◊◊$ %
name
ÿÿ 
:
ÿÿ 
$str
ÿÿ ,
,
ÿÿ, -
column
ŸŸ 
:
ŸŸ 
x
ŸŸ  !
=>
ŸŸ" $
x
ŸŸ% &
.
ŸŸ& '
UserID
ŸŸ' -
,
ŸŸ- .
principalTable
⁄⁄ &
:
⁄⁄& '
$str
⁄⁄( /
,
⁄⁄/ 0
principalColumn
€€ '
:
€€' (
$str
€€) 1
)
€€1 2
;
€€2 3
}
‹‹ 
)
‹‹ 
;
‹‹ 
migrationBuilder
ﬁﬁ 
.
ﬁﬁ 
CreateTable
ﬁﬁ (
(
ﬁﬁ( )
name
ﬂﬂ 
:
ﬂﬂ 
$str
ﬂﬂ $
,
ﬂﬂ$ %
columns
‡‡ 
:
‡‡ 
table
‡‡ 
=>
‡‡ !
new
‡‡" %
{
·· 
OrderDetailID
‚‚ !
=
‚‚" #
table
‚‚$ )
.
‚‚) *
Column
‚‚* 0
<
‚‚0 1
int
‚‚1 4
>
‚‚4 5
(
‚‚5 6
type
‚‚6 :
:
‚‚: ;
$str
‚‚< A
,
‚‚A B
nullable
‚‚C K
:
‚‚K L
false
‚‚M R
)
‚‚R S
.
„„ 

Annotation
„„ #
(
„„# $
$str
„„$ 8
,
„„8 9
$str
„„: @
)
„„@ A
,
„„A B
OrderID
‰‰ 
=
‰‰ 
table
‰‰ #
.
‰‰# $
Column
‰‰$ *
<
‰‰* +
int
‰‰+ .
>
‰‰. /
(
‰‰/ 0
type
‰‰0 4
:
‰‰4 5
$str
‰‰6 ;
,
‰‰; <
nullable
‰‰= E
:
‰‰E F
false
‰‰G L
)
‰‰L M
,
‰‰M N

MenuItemID
ÂÂ 
=
ÂÂ  
table
ÂÂ! &
.
ÂÂ& '
Column
ÂÂ' -
<
ÂÂ- .
int
ÂÂ. 1
>
ÂÂ1 2
(
ÂÂ2 3
type
ÂÂ3 7
:
ÂÂ7 8
$str
ÂÂ9 >
,
ÂÂ> ?
nullable
ÂÂ@ H
:
ÂÂH I
false
ÂÂJ O
)
ÂÂO P
,
ÂÂP Q
Quantity
ÊÊ 
=
ÊÊ 
table
ÊÊ $
.
ÊÊ$ %
Column
ÊÊ% +
<
ÊÊ+ ,
int
ÊÊ, /
>
ÊÊ/ 0
(
ÊÊ0 1
type
ÊÊ1 5
:
ÊÊ5 6
$str
ÊÊ7 <
,
ÊÊ< =
nullable
ÊÊ> F
:
ÊÊF G
false
ÊÊH M
)
ÊÊM N
,
ÊÊN O
Price
ÁÁ 
=
ÁÁ 
table
ÁÁ !
.
ÁÁ! "
Column
ÁÁ" (
<
ÁÁ( )
decimal
ÁÁ) 0
>
ÁÁ0 1
(
ÁÁ1 2
type
ÁÁ2 6
:
ÁÁ6 7
$str
ÁÁ8 G
,
ÁÁG H
nullable
ÁÁI Q
:
ÁÁQ R
false
ÁÁS X
)
ÁÁX Y
,
ÁÁY Z
Subtotal
ËË 
=
ËË 
table
ËË $
.
ËË$ %
Column
ËË% +
<
ËË+ ,
decimal
ËË, 3
>
ËË3 4
(
ËË4 5
type
ËË5 9
:
ËË9 :
$str
ËË; J
,
ËËJ K
nullable
ËËL T
:
ËËT U
true
ËËV Z
,
ËËZ [
computedColumnSql
ËË\ m
:
ËËm n
$strËËo Ö
,ËËÖ Ü
storedËËá ç
:ËËç é
trueËËè ì
)ËËì î
}
ÈÈ 
,
ÈÈ 
constraints
ÍÍ 
:
ÍÍ 
table
ÍÍ "
=>
ÍÍ# %
{
ÎÎ 
table
ÏÏ 
.
ÏÏ 

PrimaryKey
ÏÏ $
(
ÏÏ$ %
$str
ÏÏ% E
,
ÏÏE F
x
ÏÏG H
=>
ÏÏI K
x
ÏÏL M
.
ÏÏM N
OrderDetailID
ÏÏN [
)
ÏÏ[ \
;
ÏÏ\ ]
table
ÌÌ 
.
ÌÌ 

ForeignKey
ÌÌ $
(
ÌÌ$ %
name
ÓÓ 
:
ÓÓ 
$str
ÓÓ 8
,
ÓÓ8 9
column
ÔÔ 
:
ÔÔ 
x
ÔÔ  !
=>
ÔÔ" $
x
ÔÔ% &
.
ÔÔ& '

MenuItemID
ÔÔ' 1
,
ÔÔ1 2
principalTable
 &
:
& '
$str
( 3
,
3 4
principalColumn
ÒÒ '
:
ÒÒ' (
$str
ÒÒ) 5
)
ÒÒ5 6
;
ÒÒ6 7
table
ÚÚ 
.
ÚÚ 

ForeignKey
ÚÚ $
(
ÚÚ$ %
name
ÛÛ 
:
ÛÛ 
$str
ÛÛ 5
,
ÛÛ5 6
column
ÙÙ 
:
ÙÙ 
x
ÙÙ  !
=>
ÙÙ" $
x
ÙÙ% &
.
ÙÙ& '
OrderID
ÙÙ' .
,
ÙÙ. /
principalTable
ıı &
:
ıı& '
$str
ıı( 0
,
ıı0 1
principalColumn
ˆˆ '
:
ˆˆ' (
$str
ˆˆ) 2
)
ˆˆ2 3
;
ˆˆ3 4
}
˜˜ 
)
˜˜ 
;
˜˜ 
migrationBuilder
˘˘ 
.
˘˘ 
CreateIndex
˘˘ (
(
˘˘( )
name
˙˙ 
:
˙˙ 
$str
˙˙ *
,
˙˙* +
table
˚˚ 
:
˚˚ 
$str
˚˚ 
,
˚˚ 
column
¸¸ 
:
¸¸ 
$str
¸¸ $
)
¸¸$ %
;
¸¸% &
migrationBuilder
˛˛ 
.
˛˛ 
CreateIndex
˛˛ (
(
˛˛( )
name
ˇˇ 
:
ˇˇ 
$str
ˇˇ &
,
ˇˇ& '
table
ÄÄ 
:
ÄÄ 
$str
ÄÄ 
,
ÄÄ 
column
ÅÅ 
:
ÅÅ 
$str
ÅÅ  
)
ÅÅ  !
;
ÅÅ! "
migrationBuilder
ÉÉ 
.
ÉÉ 
CreateIndex
ÉÉ (
(
ÉÉ( )
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ 7
,
ÑÑ7 8
table
ÖÖ 
:
ÖÖ 
$str
ÖÖ (
,
ÖÖ( )
column
ÜÜ 
:
ÜÜ 
$str
ÜÜ &
)
ÜÜ& '
;
ÜÜ' (
migrationBuilder
àà 
.
àà 
CreateIndex
àà (
(
àà( )
name
ââ 
:
ââ 
$str
ââ 1
,
ââ1 2
table
ää 
:
ää 
$str
ää (
,
ää( )
column
ãã 
:
ãã 
$str
ãã  
)
ãã  !
;
ãã! "
migrationBuilder
çç 
.
çç 
CreateIndex
çç (
(
çç( )
name
éé 
:
éé 
$str
éé ,
,
éé, -
table
èè 
:
èè 
$str
èè 
,
èè 
column
êê 
:
êê 
$str
êê &
)
êê& '
;
êê' (
migrationBuilder
íí 
.
íí 
CreateIndex
íí (
(
íí( )
name
ìì 
:
ìì 
$str
ìì +
,
ìì+ ,
table
îî 
:
îî 
$str
îî "
,
îî" #
column
ïï 
:
ïï 
$str
ïï  
)
ïï  !
;
ïï! "
migrationBuilder
óó 
.
óó 
CreateIndex
óó (
(
óó( )
name
òò 
:
òò 
$str
òò 2
,
òò2 3
table
ôô 
:
ôô 
$str
ôô %
,
ôô% &
column
öö 
:
öö 
$str
öö $
)
öö$ %
;
öö% &
migrationBuilder
úú 
.
úú 
CreateIndex
úú (
(
úú( )
name
ùù 
:
ùù 
$str
ùù /
,
ùù/ 0
table
ûû 
:
ûû 
$str
ûû %
,
ûû% &
column
üü 
:
üü 
$str
üü !
)
üü! "
;
üü" #
migrationBuilder
°° 
.
°° 
CreateIndex
°° (
(
°°( )
name
¢¢ 
:
¢¢ 
$str
¢¢ .
,
¢¢. /
table
££ 
:
££ 
$str
££ 
,
££  
column
§§ 
:
§§ 
$str
§§ &
)
§§& '
;
§§' (
migrationBuilder
¶¶ 
.
¶¶ 
CreateIndex
¶¶ (
(
¶¶( )
name
ßß 
:
ßß 
$str
ßß (
,
ßß( )
table
®® 
:
®® 
$str
®® 
,
®®  
column
©© 
:
©© 
$str
©©  
)
©©  !
;
©©! "
migrationBuilder
´´ 
.
´´ 
CreateIndex
´´ (
(
´´( )
name
¨¨ 
:
¨¨ 
$str
¨¨ +
,
¨¨+ ,
table
≠≠ 
:
≠≠ 
$str
≠≠ !
,
≠≠! "
column
ÆÆ 
:
ÆÆ 
$str
ÆÆ !
)
ÆÆ! "
;
ÆÆ" #
migrationBuilder
∞∞ 
.
∞∞ 
CreateIndex
∞∞ (
(
∞∞( )
name
±± 
:
±± 
$str
±± 6
,
±±6 7
table
≤≤ 
:
≤≤ 
$str
≤≤ $
,
≤≤$ %
column
≥≥ 
:
≥≥ 
$str
≥≥ 
,
≥≥  
unique
¥¥ 
:
¥¥ 
true
¥¥ 
)
¥¥ 
;
¥¥ 
migrationBuilder
∂∂ 
.
∂∂ 
CreateIndex
∂∂ (
(
∂∂( )
name
∑∑ 
:
∑∑ 
$str
∑∑ 3
,
∑∑3 4
table
∏∏ 
:
∏∏ 
$str
∏∏ 
,
∏∏ 
column
ππ 
:
ππ 
$str
ππ 
,
ππ  
unique
∫∫ 
:
∫∫ 
true
∫∫ 
,
∫∫ 
filter
ªª 
:
ªª 
$str
ªª -
)
ªª- .
;
ªª. /
}
ºº 	
	protected
øø 
override
øø 
void
øø 
Down
øø  $
(
øø$ %
MigrationBuilder
øø% 5
migrationBuilder
øø6 F
)
øøF G
{
¿¿ 	
migrationBuilder
¡¡ 
.
¡¡ 
	DropTable
¡¡ &
(
¡¡& '
name
¬¬ 
:
¬¬ 
$str
¬¬ 
)
¬¬ 
;
¬¬ 
migrationBuilder
ƒƒ 
.
ƒƒ 
	DropTable
ƒƒ &
(
ƒƒ& '
name
≈≈ 
:
≈≈ 
$str
≈≈ '
)
≈≈' (
;
≈≈( )
migrationBuilder
«« 
.
«« 
	DropTable
«« &
(
««& '
name
»» 
:
»» 
$str
»» $
)
»»$ %
;
»»% &
migrationBuilder
   
.
   
	DropTable
   &
(
  & '
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ  
)
ÀÀ  !
;
ÀÀ! "
migrationBuilder
ÕÕ 
.
ÕÕ 
	DropTable
ÕÕ &
(
ÕÕ& '
name
ŒŒ 
:
ŒŒ 
$str
ŒŒ !
)
ŒŒ! "
;
ŒŒ" #
migrationBuilder
–– 
.
–– 
	DropTable
–– &
(
––& '
name
—— 
:
—— 
$str
—— 
)
—— 
;
——  
migrationBuilder
”” 
.
”” 
	DropTable
”” &
(
””& '
name
‘‘ 
:
‘‘ 
$str
‘‘ 
)
‘‘ 
;
‘‘ 
migrationBuilder
÷÷ 
.
÷÷ 
	DropTable
÷÷ &
(
÷÷& '
name
◊◊ 
:
◊◊ 
$str
◊◊ 
)
◊◊ 
;
◊◊ 
migrationBuilder
ŸŸ 
.
ŸŸ 
	DropTable
ŸŸ &
(
ŸŸ& '
name
⁄⁄ 
:
⁄⁄ 
$str
⁄⁄ #
)
⁄⁄# $
;
⁄⁄$ %
}
€€ 	
}
‹‹ 
}›› ﬂ
BD:\Hotpot\HotpotLibrary\Interfaces\IUserServiceReportsInterface.cs
	namespace 	
HotpotLibrary
 
. 

Interfaces "
{		 
public

 

	interface

 (
IUserServiceReportsInterface

 1
{ 
void 
RegisterUser 
( 
UserDTO %
userDto& -
)- .
;. /
UserDTO 
Login 
( 
string  
usernameOrEmail! 0
,0 1
string2 8
password9 A
)A B
;B C
void 
Logout 
( 
) 
; 
UserDTO 
GetUserByEmail "
(" #
string# )
email* /
)/ 0
;0 1
IEnumerable 
< 
MenuDTO 
>  
GetAllMenus! ,
(, -
)- .
;. /
IEnumerable 
< 
MenuItemDTO #
># $
SearchMenuItems% 4
(4 5
string5 ;
query< A
)A B
;B C
MenuItemDTO 
GetMenuItemById '
(' (
int( +
id, .
). /
;/ 0
CartDTO 
GetCartContents #
(# $
int$ '
userId( .
). /
;/ 0
OrderDTO 
GetOrderDetails $
($ %
int% (
orderId) 0
)0 1
;1 2
IEnumerable 
< 
OrderDTO  
>  !
GetOrderHistory" 1
(1 2
int2 5
userId6 <
)< =
;= >
} 
} ◊
5D:\Hotpot\HotpotLibrary\Interfaces\IUserRepository.cs
	namespace		 	
HotpotLibrary		
 
.		 

Interfaces		 "
{

 
public 

	interface 
IUserRepository $
{ 
IEnumerable 
< 
UserDTO 
> 
GetAllUsers (
(( )
)) *
;* +
UserDTO 
GetUserById 
( 
int 
UserId  &
)& '
;' (
void 

CreateUser 
( 
UserDTO 
userDto  '
)' (
;( )
void 

UpdateUser 
( 
int 
id 
, 
UserDTO  '
userDto( /
)/ 0
;0 1
void 

DeleteUser 
( 
int 
UserId "
)" #
;# $
User 
GetUserByUsername 
( 
string %
username& .
). /
;/ 0
User 
GetUserByEmail 
( 
string "
email# (
)( )
;) *
IEnumerable 
< 
FeedbackRating "
>" #
GetUserReviews$ 2
(2 3
int3 6
userId7 =
)= >
;> ?
IEnumerable 
< 
Order 
>  
GetAllOrdersByUserId /
(/ 0
int0 3
userId4 :
): ;
;; <
} 
} ÿ
HD:\Hotpot\HotpotLibrary\Interfaces\IRestuarantServiceReportsInterface.cs
	namespace 	
HotpotLibrary
 
. 

Interfaces "
{		 
public

 

	interface

 .
"IRestaurantServiceReportsInterface

 7
{ 
void 
Login 
( 
string 
username "
," #
string$ *
password+ 3
)3 4
;4 5
void 
Logout 
( 
) 
; 
void 
CreateMenuItem 
( 
MenuItemDTO '
menuItemDto( 3
)3 4
;4 5
void 
UpdateMenuItem 
( 
MenuItemDTO '
menuItemDto( 3
)3 4
;4 5
void 
DeleteMenuItem 
( 
int 

menuItemId  *
)* +
;+ ,
void "
MarkMenuItemOutOfStock #
(# $
int$ '

menuItemId( 2
)2 3
;3 4
List 
< 
OrderDTO 
> 
GetOngoingOrders '
(' (
int( +
restaurantId, 8
)8 9
;9 :
void 
UpdateOrderStatus 
( 
int "
orderId# *
,* +
string, 2
orderStatus3 >
)> ?
;? @
List 
< 
OrderDTO 
> 
GetOrderHistory &
(& '
int' *
restaurantId+ 7
)7 8
;8 9
List 
< 
MenuItemDTO 
> 
GetMenuItems &
(& '
int' *
restaurantId+ 7
)7 8
;8 9
} 
} É
:D:\Hotpot\HotpotLibrary\Interfaces\IRestuarantInterface.cs
public 
	interface !
IRestaurantRepository &
{ 
IEnumerable 
< 
RestaurantDTO 
> 
GetAllRestaurants 0
(0 1
)1 2
;2 3
RestaurantDTO 
GetRestaurantById #
(# $
int$ '
restaurantId( 4
)4 5
;5 6
void		 
CreateRestaurant			 
(		 
RestaurantDTO		 '
restaurantDto		( 5
)		5 6
;		6 7
void

 
UpdateRestaurant

	 
(

 
int

 
id

  
,

  !
RestaurantDTO

" /
restaurantDto

0 =
)

= >
;

> ?
void 
DeleteRestaurant	 
( 
int 
restaurantId *
)* +
;+ ,
public 

int !
GetRestaurantIdByName $
($ %
string% +
restaurantName, :
): ;
;; <
RestaurantDTO *
GetRestaurantByNameAndLocation 0
(0 1
string1 7
name8 <
,< =
string> D
locationE M
)M N
;N O
RestaurantDTO  
GetRestaurantByEmail &
(& '
string' -
email. 3
)3 4
;4 5
IEnumerable 
< 
RestaurantDTO 
> #
GetAllRestaurantsByCity 6
(6 7
string7 =
city> B
)B C
;C D
} Ñ
9D:\Hotpot\HotpotLibrary\Interfaces\IRestaurantMenuItem.cs
	namespace 	
HotpotLibrary
 
. 

Interfaces "
{		 
public

 

	interface

 
IRestaurantMenuItem

 (
{ 
public 
IEnumerable 
< 
RestaurantMenuItem -
>- .&
GetRestaurantsWithMenuItem/ I
(I J
stringJ P
menuItemNameQ ]
)] ^
;^ _
} 
} Æ
5D:\Hotpot\HotpotLibrary\Interfaces\IReportsService.cs
	namespace 	
HotpotLibrary
 
. 

Interfaces "
{		 
public

 

	interface

 
IReportsService

 $
{ 
Task 
< !
OrderStatisticsReport "
>" ##
GetOrderStatisticsAsync$ ;
(; <
)< =
;= >
Task 
< &
RestaurantStatisticsReport '
>' ((
GetRestaurantStatisticsAsync) E
(E F
)F G
;G H
Task 
<  
UserStatisticsReport !
>! ""
GetUserStatisticsAsync# 9
(9 :
): ;
;; <
Task 
< #
PaymentStatisticsReport $
>$ %%
GetPaymentStatisticsAsync& ?
(? @
)@ A
;A B
} 
} Ÿ
7D:\Hotpot\HotpotLibrary\Interfaces\IReportRepository.cs
	namespace 	
HotpotLibrary
 
. 

Interfaces "
{ 
public 

	interface 
IReportRepository &
{ 
List		 
<		 
MenuItem		 
>		 #
GetVegItemsByRestaurant		 .
(		. /
int		/ 2
restaurantId		3 ?
)		? @
;		@ A
List

 
<

 
MenuItem

 
>

 &
GetNonVegItemsByRestaurant

 1
(

1 2
int

2 5
restaurantId

6 B
)

B C
;

C D
int )
GetTotalMenuItemsByRestaurant )
() *
int* -
restaurantId. :
): ;
;; <
public 
int *
GetTotalCategoriesByRestaurant 1
(1 2
int2 5
restaurantId6 B
)B C
;C D
int &
GetTotalOrdersByRestaurant &
(& '
int' *
restaurantId+ 7
)7 8
;8 9
decimal '
GetTotalRevenueByRestaurant +
(+ ,
int, /
restaurantId0 <
)< =
;= >
decimal "
GetRevenueByRestaurant &
(& '
int' *
restaurantId+ 7
,7 8
string9 ?
period@ F
)F G
;G H
decimal ,
 GetAverageOrderValueByRestaurant 0
(0 1
int1 4
restaurantId5 A
)A B
;B C
List 
< 
MenuItem 
> *
GetTopSellingItemsByRestaurant 5
(5 6
int6 9
restaurantId: F
,F G
intH K
topNL P
)P Q
;Q R
List 
< 
MenuItem 
> ,
 GetLeastSellingItemsByRestaurant 7
(7 8
int8 ;
restaurantId< H
,H I
intJ M
bottomNN U
)U V
;V W
List 
< 
User 
> '
GetRegularUsersByRestaurant .
(. /
int/ 2
restaurantId3 ?
,? @
intA D
	minOrdersE N
)N O
;O P
} 
} Î
7D:\Hotpot\HotpotLibrary\Interfaces\IPaymentInterface.cs
	namespace		 	
HotpotLibrary		
 
.		 

Interfaces		 "
{

 
public 

	interface 
IPaymentInterface &
{ 

PaymentDTO 
GetPaymentById !
(! "
int" %
id& (
)( )
;) *
IEnumerable 
< 

PaymentDTO 
> 
GetAllPayments  .
(. /
)/ 0
;0 1
void 
CreatePayment 
( 

PaymentDTO %

paymentDto& 0
)0 1
;1 2
void 
UpdatePayment 
( 
int 
id !
,! "

PaymentDTO# -

paymentDto. 8
)8 9
;9 :
void 
DeletePayment 
( 
int 
id !
)! "
;" #
} 
} ¬
5D:\Hotpot\HotpotLibrary\Interfaces\IOrderInterface.cs
	namespace		 	
HotpotLibrary		
 
.		 

Interfaces		 "
{

 
public 

	interface 
IOrderInterface $
{ 
OrderDTO 
GetOrderById 
( 
int !
id" $
)$ %
;% &
public 
List 
< 
OrderDTO 
> #
GetOrdersByRestaurantId 5
(5 6
int6 9
restaurantId: F
)F G
;G H
public 
List 
< 
OrderDTO 
> 
GetOrdersByUserId /
(/ 0
int0 3
userId4 :
): ;
;; <
public 
void 
UpdateOrderStatus %
(% &
int& )
orderId* 1
,1 2
string3 9
status: @
)@ A
;A B
IEnumerable 
< 
OrderDTO 
> 
GetAllOrders *
(* +
)+ ,
;, -
void 
CreateOrder 
( 
OrderDTO !
orderDto" *
)* +
;+ ,
void 
UpdateOrder 
( 
int 
id 
,  
OrderDTO! )
orderDto* 2
)2 3
;3 4
void 
DeleteOrder 
( 
int 
id 
)  
;  !
} 
} £
;D:\Hotpot\HotpotLibrary\Interfaces\IOrderDetailInterface.cs
	namespace		 	
HotpotLibrary		
 
.		 

Interfaces		 "
{

 
public 

	interface !
IOrderDetailInterface *
{ 
OrderDetailDTO 
GetOrderDetailsById *
(* +
int+ .
id/ 1
)1 2
;2 3
IEnumerable 
< 
OrderDetailDTO "
>" #
GetAllOrderDetails$ 6
(6 7
)7 8
;8 9
void 
CreateOrderDetails 
(  
OrderDetailDTO  .
OrderDetailDTO/ =
)= >
;> ?
void 
UpdateOrderDetails 
(  
int  #
id$ &
,& '
OrderDetailDTO( 6
OrderDetailDTO7 E
)E F
;F G
void 
DeleteOrderDetails 
(  
int  #
id$ &
)& '
;' (
} 
} ´
9D:\Hotpot\HotpotLibrary\Interfaces\IMenuItemsInterface.cs
public 
	interface 
IMenuItemRepository $
{ 
IEnumerable 
< 
MenuItemDTO 
> 
GetAllMenuItems ,
(, -
)- .
;. /
public 

IEnumerable 
< 
MenuItemDTO "
>" ##
GetAllDistinctMenuItems$ ;
(; <
)< =
;= >
MenuItemDTO		 
GetMenuItemById		 
(		  
int		  #

menuItemId		$ .
)		. /
;		/ 0
public

 

List

 
<

 
MenuItemDTO

 
>

  
GetMenuItemsByMenuId

 1
(

1 2
int

2 5
menuId

6 <
)

< =
;

= >
void 
CreateMenuItem	 
( 
MenuItemDTO #
menuItemDto$ /
)/ 0
;0 1
void 
UpdateMenuItem	 
( 
int 
id 
, 
MenuItemDTO  +
menuItemDto, 7
)7 8
;8 9
void 
DeleteMenuItem	 
( 
int 

menuItemId &
)& '
;' (
IEnumerable 
< 
MenuItemDTO 
> "
GetMenuItemsByCategory 3
(3 4
string4 :
category; C
)C D
;D E
IEnumerable 
< 
MenuItemDTO 
> $
GetMenuItemsByLeastPrice 5
(5 6
)6 7
;7 8
IEnumerable 
< 
MenuItemDTO 
> #
GetMenuItemsByTasteInfo 4
(4 5
string5 ;
	tasteInfo< E
)E F
;F G
IEnumerable 
< 
MenuItemDTO 
> ,
 GetMenuItemsBySpecialDietaryInfo =
(= >
string> D
dietaryInfoE P
)P Q
;Q R
IEnumerable 
< 
MenuItemDTO 
> )
GetMenuItemsByNutritionalInfo :
(: ;
string; A
nutritionalInfoB Q
)Q R
;R S
IEnumerable 
< 
MenuItemDTO 
> &
GetMenuItemsByHighDiscount 7
(7 8
)8 9
;9 :
} ¬	
4D:\Hotpot\HotpotLibrary\Interfaces\IMenuInterface.cs
public 
	interface 
IMenuRepository  
{ 
int 
? #
GetRestaurantIdByMenuId	  
(  !
int! $
menuId% +
)+ ,
;, -
IEnumerable 
< 
MenuDTO 
> 
GetAllMenus $
($ %
)% &
;& '
MenuDTO		 
GetMenuById		 
(		 
int		 
menuId		 "
)		" #
;		# $
public

 

List

 
<

 
MenuDTO

 
>

 "
GetMenusByRestaurantId

 /
(

/ 0
int

0 3
restaurantId

5 A
)

A B
;

B C
void 

CreateMenu	 
( 
MenuDTO 
menuDto #
)# $
;$ %
void 

UpdateMenu	 
( 
int 
id 
, 
MenuDTO #
menuDto$ +
)+ ,
;, -
void 

DeleteMenu	 
( 
int 
menuId 
) 
;  
} Ø

>D:\Hotpot\HotpotLibrary\Interfaces\IFeedbackRatingInterface.cs
	namespace		 	
HotpotLibrary		
 
.		 

Interfaces		 "
{

 
public 

	interface $
IFeedbackRatingInterface -
{ 
FeedbackRatingDTO !
GetFeedbackRatingById /
(/ 0
int0 3
id4 6
)6 7
;7 8
public 
List 
< 
FeedbackRatingDTO %
>% &,
 GetFeedbackRatingsByRestaurantId' G
(G H
intH K
restaurantIdL X
)X Y
;Y Z
IEnumerable 
< 
FeedbackRatingDTO %
>% &!
GetAllFeedbackRatings' <
(< =
)= >
;> ?
void  
CreateFeedbackRating !
(! "
FeedbackRatingDTO" 3
feedbackRatingDto4 E
)E F
;F G
void  
UpdateFeedbackRating !
(! "
int" %
id& (
,( )
FeedbackRatingDTO* ;
feedbackRatingDto< M
)M N
;N O
void  
DeleteFeedbackRating !
(! "
int" %
id& (
)( )
;) *
} 
} †
7D:\Hotpot\HotpotLibrary\Interfaces\ICheckoutMediator.cs
	namespace 	
HotpotLibrary
 
. 

Interfaces "
{		 
public

 

	interface

 
ICheckoutMediator

 &
{ 
void 
	AddToCart 
( 
CartDTO 
cartDTO &
)& '
;' (
void 

PlaceOrder 
( 
OrderDTO  
orderDTO! )
)) *
;* +
void 
ProcessPayment 
( 

PaymentDTO &

paymentDTO' 1
)1 2
;2 3
} 
} ú

4D:\Hotpot\HotpotLibrary\Interfaces\ICartInterface.cs
	namespace		 	
HotpotLibrary		
 
.		 

Interfaces		 "
{

 
public 

	interface 
ICartInterface #
{ 
CartDTO 
GetCartById 
( 
int 
id  "
)" #
;# $
IEnumerable 
< 
CartDTO 
> 
GetAllCarts (
(( )
)) *
;* +
void 

CreateCart 
( 
CartDTO 
cartDto  '
)' (
;( )
void 

UpdateCart 
( 
int 
id 
, 
CartDTO  '
cartDto( /
)/ 0
;0 1
void 

DeleteCart 
( 
int 
id 
) 
;  
IEnumerable 
< 
CartDTO 
>  
GetCartItemsByUserId 1
(1 2
int2 5
userId6 <
)< =
;= >
public 
void 
DeleteCartByUserId &
(& '
int' *
userId+ 1
)1 2
;2 3
} 
} π
5D:\Hotpot\HotpotLibrary\Interfaces\IAdminDashboard.cs
	namespace 	
HotpotLibrary
 
. 

Interfaces "
{ 
public 

	interface 
IAdminDashboard %
{ 
List 
< 
Order 
> "
GetOrdersFromLast7Days *
(* +
)+ ,
;, -
List		 
<		 
User		 
>		 
GetRegularUsers		 "
(		" #
)		# $
;		$ %

Dictionary

 
<

 
DateTime

 
,

 
int

  
>

  ! 
GetTotalOrdersPerDay

" 6
(

6 7
DateTime

7 ?
	startDate

@ I
,

I J
DateTime

K S
endDate

T [
)

[ \
;

\ ]

Dictionary 
< 
string 
, 

Dictionary %
<% &
DateTime& .
,. /
int0 3
>3 4
>4 5'
GetMenuItemCountsByCategory6 Q
(Q R
stringR X
categoryY a
,a b
DateTimec k
	startDatel u
,u v
DateTimew 
endDate
Ä á
)
á à
;
à â

Dictionary 
< 
DateTime 
, 
decimal $
>$ %
GetRevenueReports& 7
(7 8
string8 >
period? E
)E F
;F G
List 
< 
MenuItem 
> 
GetTopSellingItems )
() *
string* 0
period1 7
)7 8
;8 9
List 
< 
User 
> $
GetUsersByOrderFrequency +
(+ ,
string, 2
period3 9
)9 :
;: ;

Dictionary 
< 
DateTime 
, 
decimal $
>$ % 
GetAverageOrderValue& :
(: ;
string; A
periodB H
)H I
;I J

Dictionary 
< 
string 
, 
int 
> !
GetVegNonVegItemCount  5
(5 6
int6 9
restaurantId: F
)F G
;G H
} 
} =
;D:\Hotpot\HotpotLibrary\Exceptions\GlobalExceptionFilter.csÃ
)D:\Hotpot\HotpotLibrary\Enums\UserRole.cs
	namespace 	
HotpotLibrary
 
. 
Enums 
{ 
public		 

enum		 
UserRole		 
{

 
User 
, 
Admin 
, 

Restaurant 
} 
} ·
2D:\Hotpot\HotpotLibrary\Enums\TransactionStatus.cs
	namespace 	
HotpotLibrary
 
. 
Enums 
{ 
public		 

enum		 
TransactionStatus		 !
{

 
Pending 
, 
	Completed 
, 
Failed 
} 
} £
'D:\Hotpot\HotpotLibrary\Enums\Rating.cs
	namespace 	
HotpotLibrary
 
. 
Enums 
{ 
public		 

enum		 
Rating		 
{

 
One 
= 
$num 
, 
Two 
, 
Three 
, 
Four 
, 
Five 
} 
} Ä
.D:\Hotpot\HotpotLibrary\Enums\PaymentStatus.cs
	namespace 	
HotpotLibrary
 
. 
Enums 
{ 
public		 

enum		 
PaymentStatus		 
{

 
Pending 
, 

Processing 
, 
	Completed 
, 
Failed 
} 
} Ñ
.D:\Hotpot\HotpotLibrary\Enums\PaymentMethod.cs
	namespace 	
HotpotLibrary
 
. 
Enums 
{ 
public		 

enum		 
PaymentMethod		 
{

 

CreditCard 
, 
	DebitCard 
, 
UPI 
, 
CashOnDelivery 
} 
} §
,D:\Hotpot\HotpotLibrary\Enums\OrderStatus.cs
	namespace 	
HotpotLibrary
 
. 
Enums 
{ 
public		 

enum		 
OrderStatus		 
{

 
Pending 
, 
	Confirmed 
, 
	Preparing 
, 
	Delivered 
, 
	Cancelled 
} 
} »
&D:\Hotpot\HotpotLibrary\DTO\UserDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
UserDTO		 
{

 
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
PhNo 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
AddressLine !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

PostalCode  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Country 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} „
,D:\Hotpot\HotpotLibrary\DTO\RestuarantDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
RestaurantDTO		 
{

 
public 
int 
RestaurantID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
PhNo 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
OperatingHours $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
AddressLine !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

PostalCode  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Country 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ı
1D:\Hotpot\HotpotLibrary\DTO\RestaurantMenuItem.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
RestaurantMenuItem		 #
{

 
public 
int 
RestaurantID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string !
RestaurantDescription +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
string 
PhNo 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
AddressLine !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

PostalCode  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Country 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 

MenuItemID 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ItemName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
MenuItemDescription )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string 
Category 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
SpecialDietaryInfo (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
string 
	TasteInfo 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
NutritionalInfo %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
AvailabilityTime &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
ImageURL 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
double 
AverageRating #
{$ %
get& )
;) *
set+ .
;. /
}0 1
}   
}!! Æ	
)D:\Hotpot\HotpotLibrary\DTO\PaymentDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 

PaymentDTO		 
{

 
public 
int 
	PaymentID 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
OrderID 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
PaymentMethod #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
decimal 

AmountPaid !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTime 
TransactionDate '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
TransactionStatus '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
} 
} Ω
'D:\Hotpot\HotpotLibrary\DTO\OrderDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
OrderDTO		 
{

 
public 
int 
OrderID 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
RestaurantID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTime 
	OrderDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
decimal 
TotalAmount "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
OrderStatus !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
PaymentStatus #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
DeliveryAddress %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
? 
DeliveryDate %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
? 
CreatedDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} õ	
-D:\Hotpot\HotpotLibrary\DTO\OrderDetailDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
OrderDetailDTO		 
{

 
public 
int 
OrderDetailID  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
OrderID 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

MenuItemID 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Quantity 
{ 
get !
;! "
set# &
;& '
}( )
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
decimal 
Subtotal 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ¥
*D:\Hotpot\HotpotLibrary\DTO\MenuItemDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
MenuItemDTO		 
{

 
public 
int 

MenuItemID 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
MenuID 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
ItemName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Category 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
SpecialDietaryInfo (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
string 
	TasteInfo 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
NutritionalInfo %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
AvailabilityTime &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
bool 
	IsInStock 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ImageUrl 
{  
get! $
;$ %
set' *
;* +
}, -
public 
bool 
IsAvailable 
{  !
get" %
;% &
set' *
;* +
}, -
public 
decimal 
	Discounts  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ñ	
&D:\Hotpot\HotpotLibrary\DTO\MenuDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
MenuDTO		 
{

 
public 
int 
MenuID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
RestaurantID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
MenuName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ≠
'D:\Hotpot\HotpotLibrary\DTO\LoginDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
LoginDTO		 
{

 
public 
string 
UsernameOrEmail %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ®	
0D:\Hotpot\HotpotLibrary\DTO\FeedbackRatingDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
FeedbackRatingDTO		 "
{

 
public 
int 
FeedbackRatingID #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
RestaurantID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Rating 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} â	
&D:\Hotpot\HotpotLibrary\DTO\CartDTO.cs
	namespace 	
HotpotLibrary
 
. 
DTO 
{ 
public		 

class		 
CartDTO		 
{

 
public 
int 
CartID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 

MenuItemID 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
Quantity 
{ 
get !
;! "
set# &
;& '
}( )
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ä„
,D:\Hotpot\HotpotLibrary\Data\AppDbContext.cs
	namespace

 	
HotpotLibrary


 
.

 
Data

 
{ 
public 

class 
AppDbContext 
: 
	DbContext  )
{ 
public 
AppDbContext 
( 
) 
{ 	
} 	
public 
AppDbContext 
( 
DbContextOptions ,
<, -
AppDbContext- 9
>9 :
options; B
)B C
: 
base 
( 
options 
) 
{ 	
} 	
public 
virtual 
DbSet 
< 
Cart !
>! "
Carts# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
FeedbackRating +
>+ ,
FeedbackRatings- <
{= >
get? B
;B C
setD G
;G H
}I J
public 
virtual 
DbSet 
< 
Menu !
>! "
Menus# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
MenuItem %
>% &
	MenuItems' 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public!! 
virtual!! 
DbSet!! 
<!! 
Order!! "
>!!" #
Orders!!$ *
{!!+ ,
get!!- 0
;!!0 1
set!!2 5
;!!5 6
}!!7 8
public## 
virtual## 
DbSet## 
<## 
OrderDetail## (
>##( )
OrderDetails##* 6
{##7 8
get##9 <
;##< =
set##> A
;##A B
}##C D
public%% 
virtual%% 
DbSet%% 
<%% 
Payment%% $
>%%$ %
Payments%%& .
{%%/ 0
get%%1 4
;%%4 5
set%%6 9
;%%9 :
}%%; <
public'' 
virtual'' 
DbSet'' 
<'' 

Restaurant'' '
>''' (
Restaurants'') 4
{''5 6
get''7 :
;'': ;
set''< ?
;''? @
}''A B
public)) 
virtual)) 
DbSet)) 
<)) 
User)) !
>))! "
Users))# (
{))) *
get))+ .
;)). /
set))0 3
;))3 4
}))5 6
public** 
DbSet** 
<** 
RestaurantMenuItem** '
>**' ( 
RestaurantsMenuItems**) =
{**> ?
get**@ C
;**C D
set**E H
;**H I
}**J K
	protected++ 
override++ 
void++ 
OnConfiguring++  -
(++- .#
DbContextOptionsBuilder++. E
optionsBuilder++F T
)++T U
=>-- 
optionsBuilder-- 
.-- 
UseSqlServer-- *
(--* +
$str	--+ ì
)
--ì î
;
--î ï
	protected// 
override// 
void// 
OnModelCreating//  /
(/// 0
ModelBuilder//0 <
modelBuilder//= I
)//I J
{00 	
modelBuilder11 
.11 
Entity11 
<11  
RestaurantMenuItem11  2
>112 3
(113 4
)114 5
.22 
HasNoKey22 
(22 
)22 
;22 
modelBuilder33 
.33 
Entity33 
<33  
Cart33  $
>33$ %
(33% &
entity33& ,
=>33- /
{44 
entity55 
.55 
HasKey55 
(55 
e55 
=>55  "
e55# $
.55$ %
CartID55% +
)55+ ,
.55, -
HasName55- 4
(554 5
$str555 Q
)55Q R
;55R S
entity77 
.77 
ToTable77 
(77 
$str77 %
)77% &
;77& '
entity99 
.99 
Property99 
(99  
e99  !
=>99" $
e99% &
.99& '
CartID99' -
)99- .
.99. /
HasColumnName99/ <
(99< =
$str99= E
)99E F
;99F G
entity:: 
.:: 
Property:: 
(::  
e::  !
=>::" $
e::% &
.::& '
CreatedDate::' 2
)::2 3
.;; 
HasDefaultValueSql;; '
(;;' (
$str;;( 5
);;5 6
.<< 
HasColumnType<< "
(<<" #
$str<<# -
)<<- .
;<<. /
entity== 
.== 
Property== 
(==  
e==  !
=>==" $
e==% &
.==& '

MenuItemID==' 1
)==1 2
.==2 3
HasColumnName==3 @
(==@ A
$str==A M
)==M N
;==N O
entity>> 
.>> 
Property>> 
(>>  
e>>  !
=>>>" $
e>>% &
.>>& '
Price>>' ,
)>>, -
.>>- .
HasColumnType>>. ;
(>>; <
$str>>< L
)>>L M
;>>M N
entity?? 
.?? 
Property?? 
(??  
e??  !
=>??" $
e??% &
.??& '
UserID??' -
)??- .
.??. /
HasColumnName??/ <
(??< =
$str??= E
)??E F
;??F G
entityAA 
.AA 
HasOneAA 
(AA 
dAA 
=>AA  "
dAA# $
.AA$ %
MenuItemAA% -
)AA- .
.AA. /
WithManyAA/ 7
(AA7 8
pAA8 9
=>AA: <
pAA= >
.AA> ?
CartsAA? D
)AAD E
.BB 
HasForeignKeyBB "
(BB" #
dBB# $
=>BB% '
dBB( )
.BB) *

MenuItemIDBB* 4
)BB4 5
.CC 
OnDeleteCC 
(CC 
DeleteBehaviorCC ,
.CC, -
ClientSetNullCC- :
)CC: ;
.DD 
HasConstraintNameDD &
(DD& '
$strDD' 9
)DD9 :
;DD: ;
entityFF 
.FF 
HasOneFF 
(FF 
dFF 
=>FF  "
dFF# $
.FF$ %
UserFF% )
)FF) *
.FF* +
WithManyFF+ 3
(FF3 4
pFF4 5
=>FF6 8
pFF9 :
.FF: ;
CartsFF; @
)FF@ A
.GG 
HasForeignKeyGG "
(GG" #
dGG# $
=>GG% '
dGG( )
.GG) *
UserIDGG* 0
)GG0 1
.HH 
OnDeleteHH 
(HH 
DeleteBehaviorHH ,
.HH, -
ClientSetNullHH- :
)HH: ;
.II 
HasConstraintNameII &
(II& '
$strII' 5
)II5 6
;II6 7
}JJ 
)JJ 
;JJ 
modelBuilderLL 
.LL 
EntityLL 
<LL  
FeedbackRatingLL  .
>LL. /
(LL/ 0
entityLL0 6
=>LL7 9
{MM 
entityNN 
.NN 
HasKeyNN 
(NN 
eNN 
=>NN  "
eNN# $
.NN$ %
FeedbackRatingIDNN% 5
)NN5 6
.NN6 7
HasNameNN7 >
(NN> ?
$strNN? _
)NN_ `
;NN` a
entityPP 
.PP 
PropertyPP 
(PP  
ePP  !
=>PP" $
ePP% &
.PP& '
FeedbackRatingIDPP' 7
)PP7 8
.PP8 9
HasColumnNamePP9 F
(PPF G
$strPPG Y
)PPY Z
;PPZ [
entityQQ 
.QQ 
PropertyQQ 
(QQ  
eQQ  !
=>QQ" $
eQQ% &
.QQ& '
CreatedDateQQ' 2
)QQ2 3
.RR 
HasDefaultValueSqlRR '
(RR' (
$strRR( 5
)RR5 6
.SS 
HasColumnTypeSS "
(SS" #
$strSS# -
)SS- .
;SS. /
entityTT 
.TT 
PropertyTT 
(TT  
eTT  !
=>TT" $
eTT% &
.TT& '
MessageTT' .
)TT. /
.TT/ 0
HasColumnTypeTT0 =
(TT= >
$strTT> D
)TTD E
;TTE F
entityUU 
.UU 
PropertyUU 
(UU  
eUU  !
=>UU" $
eUU% &
.UU& '
RestaurantIDUU' 3
)UU3 4
.UU4 5
HasColumnNameUU5 B
(UUB C
$strUUC Q
)UUQ R
;UUR S
entityVV 
.VV 
PropertyVV 
(VV  
eVV  !
=>VV" $
eVV% &
.VV& '
UserIDVV' -
)VV- .
.VV. /
HasColumnNameVV/ <
(VV< =
$strVV= E
)VVE F
;VVF G
entityXX 
.XX 
HasOneXX 
(XX 
dXX 
=>XX  "
dXX# $
.XX$ %

RestaurantXX% /
)XX/ 0
.XX0 1
WithManyXX1 9
(XX9 :
pXX: ;
=>XX< >
pXX? @
.XX@ A
FeedbackRatingsXXA P
)XXP Q
.YY 
HasForeignKeyYY "
(YY" #
dYY# $
=>YY% '
dYY( )
.YY) *
RestaurantIDYY* 6
)YY6 7
.ZZ 
OnDeleteZZ 
(ZZ 
DeleteBehaviorZZ ,
.ZZ, -
ClientSetNullZZ- :
)ZZ: ;
.[[ 
HasConstraintName[[ &
([[& '
$str[[' F
)[[F G
;[[G H
entity]] 
.]] 
HasOne]] 
(]] 
d]] 
=>]]  "
d]]# $
.]]$ %
User]]% )
)]]) *
.]]* +
WithMany]]+ 3
(]]3 4
p]]4 5
=>]]6 8
p]]9 :
.]]: ;
FeedbackRatings]]; J
)]]J K
.^^ 
HasForeignKey^^ "
(^^" #
d^^# $
=>^^% '
d^^( )
.^^) *
UserID^^* 0
)^^0 1
.__ 
OnDelete__ 
(__ 
DeleteBehavior__ ,
.__, -
ClientSetNull__- :
)__: ;
.`` 
HasConstraintName`` &
(``& '
$str``' @
)``@ A
;``A B
}aa 
)aa 
;aa 
modelBuildercc 
.cc 
Entitycc 
<cc  
Menucc  $
>cc$ %
(cc% &
entitycc& ,
=>cc- /
{dd 
entityee 
.ee 
HasKeyee 
(ee 
eee 
=>ee  "
eee# $
.ee$ %
MenuIDee% +
)ee+ ,
.ee, -
HasNameee- 4
(ee4 5
$stree5 Q
)eeQ R
;eeR S
entitygg 
.gg 
ToTablegg 
(gg 
$strgg %
)gg% &
;gg& '
entityii 
.ii 
Propertyii 
(ii  
eii  !
=>ii" $
eii% &
.ii& '
MenuIDii' -
)ii- .
.ii. /
HasColumnNameii/ <
(ii< =
$strii= E
)iiE F
;iiF G
entityjj 
.jj 
Propertyjj 
(jj  
ejj  !
=>jj" $
ejj% &
.jj& '
CreatedDatejj' 2
)jj2 3
.kk 
HasDefaultValueSqlkk '
(kk' (
$strkk( 5
)kk5 6
.ll 
HasColumnTypell "
(ll" #
$strll# -
)ll- .
;ll. /
entitymm 
.mm 
Propertymm 
(mm  
emm  !
=>mm" $
emm% &
.mm& '
Descriptionmm' 2
)mm2 3
.mm3 4
HasColumnTypemm4 A
(mmA B
$strmmB H
)mmH I
;mmI J
entitynn 
.nn 
Propertynn 
(nn  
enn  !
=>nn" $
enn% &
.nn& '
IsActivenn' /
)nn/ 0
.nn0 1
HasDefaultValuenn1 @
(nn@ A
truennA E
)nnE F
;nnF G
entityoo 
.oo 
Propertyoo 
(oo  
eoo  !
=>oo" $
eoo% &
.oo& '
MenuNameoo' /
)oo/ 0
.pp 
HasMaxLengthpp !
(pp! "
$numpp" %
)pp% &
.qq 
	IsUnicodeqq 
(qq 
falseqq $
)qq$ %
;qq% &
entityrr 
.rr 
Propertyrr 
(rr  
err  !
=>rr" $
err% &
.rr& '
RestaurantIDrr' 3
)rr3 4
.rr4 5
HasColumnNamerr5 B
(rrB C
$strrrC Q
)rrQ R
;rrR S
entitytt 
.tt 
HasOnett 
(tt 
dtt 
=>tt  "
dtt# $
.tt$ %

Restauranttt% /
)tt/ 0
.tt0 1
WithManytt1 9
(tt9 :
ptt: ;
=>tt< >
ptt? @
.tt@ A
MenusttA F
)ttF G
.uu 
HasForeignKeyuu "
(uu" #
duu# $
=>uu% '
duu( )
.uu) *
RestaurantIDuu* 6
)uu6 7
.vv 
OnDeletevv 
(vv 
DeleteBehaviorvv ,
.vv, -
ClientSetNullvv- :
)vv: ;
.ww 
HasConstraintNameww &
(ww& '
$strww' ;
)ww; <
;ww< =
}xx 
)xx 
;xx 
modelBuilderzz 
.zz 
Entityzz 
<zz  
MenuItemzz  (
>zz( )
(zz) *
entityzz* 0
=>zz1 3
{{{ 
entity|| 
.|| 
HasKey|| 
(|| 
e|| 
=>||  "
e||# $
.||$ %

MenuItemID||% /
)||/ 0
.||0 1
HasName||1 8
(||8 9
$str||9 Y
)||Y Z
;||Z [
entity~~ 
.~~ 
Property~~ 
(~~  
e~~  !
=>~~" $
e~~% &
.~~& '

MenuItemID~~' 1
)~~1 2
.~~2 3
HasColumnName~~3 @
(~~@ A
$str~~A M
)~~M N
;~~N O
entity 
. 
Property 
(  
e  !
=>" $
e% &
.& '
AvailabilityTime' 7
)7 8
.
ÄÄ 
HasMaxLength
ÄÄ !
(
ÄÄ! "
$num
ÄÄ" $
)
ÄÄ$ %
.
ÅÅ 
	IsUnicode
ÅÅ 
(
ÅÅ 
false
ÅÅ $
)
ÅÅ$ %
;
ÅÅ% &
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ  
e
ÇÇ  !
=>
ÇÇ" $
e
ÇÇ% &
.
ÇÇ& '
Category
ÇÇ' /
)
ÇÇ/ 0
.
ÉÉ 
HasMaxLength
ÉÉ !
(
ÉÉ! "
$num
ÉÉ" $
)
ÉÉ$ %
.
ÑÑ 
	IsUnicode
ÑÑ 
(
ÑÑ 
false
ÑÑ $
)
ÑÑ$ %
;
ÑÑ% &
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ  
e
ÖÖ  !
=>
ÖÖ" $
e
ÖÖ% &
.
ÖÖ& '
CreatedDate
ÖÖ' 2
)
ÖÖ2 3
.
ÜÜ  
HasDefaultValueSql
ÜÜ '
(
ÜÜ' (
$str
ÜÜ( 5
)
ÜÜ5 6
.
áá 
HasColumnType
áá "
(
áá" #
$str
áá# -
)
áá- .
;
áá. /
entity
àà 
.
àà 
Property
àà 
(
àà  
e
àà  !
=>
àà" $
e
àà% &
.
àà& '
Description
àà' 2
)
àà2 3
.
àà3 4
HasColumnType
àà4 A
(
ààA B
$str
ààB H
)
ààH I
;
ààI J
entity
ââ 
.
ââ 
Property
ââ 
(
ââ  
e
ââ  !
=>
ââ" $
e
ââ% &
.
ââ& '
	Discounts
ââ' 0
)
ââ0 1
.
ää 
HasDefaultValue
ää $
(
ää$ %
$num
ää% *
)
ää* +
.
ãã 
HasColumnType
ãã "
(
ãã" #
$str
ãã# 2
)
ãã2 3
;
ãã3 4
entity
åå 
.
åå 
Property
åå 
(
åå  
e
åå  !
=>
åå" $
e
åå% &
.
åå& '
ImageUrl
åå' /
)
åå/ 0
.
çç 
HasMaxLength
çç !
(
çç! "
$num
çç" %
)
çç% &
.
éé 
	IsUnicode
éé 
(
éé 
false
éé $
)
éé$ %
.
èè 
HasColumnName
èè "
(
èè" #
$str
èè# -
)
èè- .
;
èè. /
entity
êê 
.
êê 
Property
êê 
(
êê  
e
êê  !
=>
êê" $
e
êê% &
.
êê& '
IsAvailable
êê' 2
)
êê2 3
.
êê3 4
HasDefaultValue
êê4 C
(
êêC D
true
êêD H
)
êêH I
;
êêI J
entity
ëë 
.
ëë 
Property
ëë 
(
ëë  
e
ëë  !
=>
ëë" $
e
ëë% &
.
ëë& '
	IsInStock
ëë' 0
)
ëë0 1
.
ëë1 2
HasDefaultValue
ëë2 A
(
ëëA B
true
ëëB F
)
ëëF G
;
ëëG H
entity
íí 
.
íí 
Property
íí 
(
íí  
e
íí  !
=>
íí" $
e
íí% &
.
íí& '
ItemName
íí' /
)
íí/ 0
.
ìì 
HasMaxLength
ìì !
(
ìì! "
$num
ìì" %
)
ìì% &
.
îî 
	IsUnicode
îî 
(
îî 
false
îî $
)
îî$ %
;
îî% &
entity
ïï 
.
ïï 
Property
ïï 
(
ïï  
e
ïï  !
=>
ïï" $
e
ïï% &
.
ïï& '
MenuID
ïï' -
)
ïï- .
.
ïï. /
HasColumnName
ïï/ <
(
ïï< =
$str
ïï= E
)
ïïE F
;
ïïF G
entity
ññ 
.
ññ 
Property
ññ 
(
ññ  
e
ññ  !
=>
ññ" $
e
ññ% &
.
ññ& '
NutritionalInfo
ññ' 6
)
ññ6 7
.
óó 
HasMaxLength
óó !
(
óó! "
$num
óó" %
)
óó% &
.
òò 
	IsUnicode
òò 
(
òò 
false
òò $
)
òò$ %
;
òò% &
entity
ôô 
.
ôô 
Property
ôô 
(
ôô  
e
ôô  !
=>
ôô" $
e
ôô% &
.
ôô& '
Price
ôô' ,
)
ôô, -
.
ôô- .
HasColumnType
ôô. ;
(
ôô; <
$str
ôô< L
)
ôôL M
;
ôôM N
entity
öö 
.
öö 
Property
öö 
(
öö  
e
öö  !
=>
öö" $
e
öö% &
.
öö& ' 
SpecialDietaryInfo
öö' 9
)
öö9 :
.
õõ 
HasMaxLength
õõ !
(
õõ! "
$num
õõ" $
)
õõ$ %
.
úú 
	IsUnicode
úú 
(
úú 
false
úú $
)
úú$ %
;
úú% &
entity
ùù 
.
ùù 
Property
ùù 
(
ùù  
e
ùù  !
=>
ùù" $
e
ùù% &
.
ùù& '
	TasteInfo
ùù' 0
)
ùù0 1
.
ûû 
HasMaxLength
ûû !
(
ûû! "
$num
ûû" $
)
ûû$ %
.
üü 
	IsUnicode
üü 
(
üü 
false
üü $
)
üü$ %
;
üü% &
entity
°° 
.
°° 
HasOne
°° 
(
°° 
d
°° 
=>
°°  "
d
°°# $
.
°°$ %
Menu
°°% )
)
°°) *
.
°°* +
WithMany
°°+ 3
(
°°3 4
p
°°4 5
=>
°°6 8
p
°°9 :
.
°°: ;
	MenuItems
°°; D
)
°°D E
.
¢¢ 
HasForeignKey
¢¢ "
(
¢¢" #
d
¢¢# $
=>
¢¢% '
d
¢¢( )
.
¢¢) *
MenuID
¢¢* 0
)
¢¢0 1
.
££ 
OnDelete
££ 
(
££ 
DeleteBehavior
££ ,
.
££, -
ClientSetNull
££- :
)
££: ;
.
§§ 
HasConstraintName
§§ &
(
§§& '
$str
§§' :
)
§§: ;
;
§§; <
}
•• 
)
•• 
;
•• 
modelBuilder
ßß 
.
ßß 
Entity
ßß 
<
ßß  
Order
ßß  %
>
ßß% &
(
ßß& '
entity
ßß' -
=>
ßß. 0
{
®® 
entity
©© 
.
©© 
HasKey
©© 
(
©© 
e
©© 
=>
©©  "
e
©©# $
.
©©$ %
OrderID
©©% ,
)
©©, -
.
©©- .
HasName
©©. 5
(
©©5 6
$str
©©6 T
)
©©T U
;
©©U V
entity
´´ 
.
´´ 
Property
´´ 
(
´´  
e
´´  !
=>
´´" $
e
´´% &
.
´´& '
OrderID
´´' .
)
´´. /
.
´´/ 0
HasColumnName
´´0 =
(
´´= >
$str
´´> G
)
´´G H
;
´´H I
entity
¨¨ 
.
¨¨ 
Property
¨¨ 
(
¨¨  
e
¨¨  !
=>
¨¨" $
e
¨¨% &
.
¨¨& '
CreatedDate
¨¨' 2
)
¨¨2 3
.
≠≠  
HasDefaultValueSql
≠≠ '
(
≠≠' (
$str
≠≠( 5
)
≠≠5 6
.
ÆÆ 
HasColumnType
ÆÆ "
(
ÆÆ" #
$str
ÆÆ# -
)
ÆÆ- .
;
ÆÆ. /
entity
ØØ 
.
ØØ 
Property
ØØ 
(
ØØ  
e
ØØ  !
=>
ØØ" $
e
ØØ% &
.
ØØ& '
DeliveryAddress
ØØ' 6
)
ØØ6 7
.
∞∞ 
HasMaxLength
∞∞ !
(
∞∞! "
$num
∞∞" %
)
∞∞% &
.
±± 
	IsUnicode
±± 
(
±± 
false
±± $
)
±±$ %
;
±±% &
entity
≤≤ 
.
≤≤ 
Property
≤≤ 
(
≤≤  
e
≤≤  !
=>
≤≤" $
e
≤≤% &
.
≤≤& '
DeliveryDate
≤≤' 3
)
≤≤3 4
.
≤≤4 5
HasColumnType
≤≤5 B
(
≤≤B C
$str
≤≤C M
)
≤≤M N
;
≤≤N O
entity
≥≥ 
.
≥≥ 
Property
≥≥ 
(
≥≥  
e
≥≥  !
=>
≥≥" $
e
≥≥% &
.
≥≥& '
	OrderDate
≥≥' 0
)
≥≥0 1
.
≥≥1 2
HasColumnType
≥≥2 ?
(
≥≥? @
$str
≥≥@ J
)
≥≥J K
;
≥≥K L
entity
¥¥ 
.
¥¥ 
Property
¥¥ 
(
¥¥  
e
¥¥  !
=>
¥¥" $
e
¥¥% &
.
¥¥& '
OrderStatus
¥¥' 2
)
¥¥2 3
.
µµ 
HasMaxLength
µµ !
(
µµ! "
$num
µµ" $
)
µµ$ %
.
∂∂ 
	IsUnicode
∂∂ 
(
∂∂ 
false
∂∂ $
)
∂∂$ %
;
∂∂% &
entity
∑∑ 
.
∑∑ 
Property
∑∑ 
(
∑∑  
e
∑∑  !
=>
∑∑" $
e
∑∑% &
.
∑∑& '
PaymentStatus
∑∑' 4
)
∑∑4 5
.
∏∏ 
HasMaxLength
∏∏ !
(
∏∏! "
$num
∏∏" $
)
∏∏$ %
.
ππ 
	IsUnicode
ππ 
(
ππ 
false
ππ $
)
ππ$ %
;
ππ% &
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫  
e
∫∫  !
=>
∫∫" $
e
∫∫% &
.
∫∫& '
RestaurantID
∫∫' 3
)
∫∫3 4
.
∫∫4 5
HasColumnName
∫∫5 B
(
∫∫B C
$str
∫∫C Q
)
∫∫Q R
;
∫∫R S
entity
ªª 
.
ªª 
Property
ªª 
(
ªª  
e
ªª  !
=>
ªª" $
e
ªª% &
.
ªª& '
TotalAmount
ªª' 2
)
ªª2 3
.
ªª3 4
HasColumnType
ªª4 A
(
ªªA B
$str
ªªB R
)
ªªR S
;
ªªS T
entity
ºº 
.
ºº 
Property
ºº 
(
ºº  
e
ºº  !
=>
ºº" $
e
ºº% &
.
ºº& '
UserID
ºº' -
)
ºº- .
.
ºº. /
HasColumnName
ºº/ <
(
ºº< =
$str
ºº= E
)
ººE F
;
ººF G
entity
ææ 
.
ææ 
HasOne
ææ 
(
ææ 
d
ææ 
=>
ææ  "
d
ææ# $
.
ææ$ %

Restaurant
ææ% /
)
ææ/ 0
.
ææ0 1
WithMany
ææ1 9
(
ææ9 :
p
ææ: ;
=>
ææ< >
p
ææ? @
.
ææ@ A
Orders
ææA G
)
ææG H
.
øø 
HasForeignKey
øø "
(
øø" #
d
øø# $
=>
øø% '
d
øø( )
.
øø) *
RestaurantID
øø* 6
)
øø6 7
.
¿¿ 
OnDelete
¿¿ 
(
¿¿ 
DeleteBehavior
¿¿ ,
.
¿¿, -
ClientSetNull
¿¿- :
)
¿¿: ;
.
¡¡ 
HasConstraintName
¡¡ &
(
¡¡& '
$str
¡¡' =
)
¡¡= >
;
¡¡> ?
entity
√√ 
.
√√ 
HasOne
√√ 
(
√√ 
d
√√ 
=>
√√  "
d
√√# $
.
√√$ %
User
√√% )
)
√√) *
.
√√* +
WithMany
√√+ 3
(
√√3 4
p
√√4 5
=>
√√6 8
p
√√9 :
.
√√: ;
Orders
√√; A
)
√√A B
.
ƒƒ 
HasForeignKey
ƒƒ "
(
ƒƒ" #
d
ƒƒ# $
=>
ƒƒ% '
d
ƒƒ( )
.
ƒƒ) *
UserID
ƒƒ* 0
)
ƒƒ0 1
.
≈≈ 
OnDelete
≈≈ 
(
≈≈ 
DeleteBehavior
≈≈ ,
.
≈≈, -
ClientSetNull
≈≈- :
)
≈≈: ;
.
∆∆ 
HasConstraintName
∆∆ &
(
∆∆& '
$str
∆∆' 7
)
∆∆7 8
;
∆∆8 9
}
«« 
)
«« 
;
«« 
modelBuilder
…… 
.
…… 
Entity
…… 
<
……  
OrderDetail
……  +
>
……+ ,
(
……, -
entity
……- 3
=>
……4 6
{
   
entity
ÀÀ 
.
ÀÀ 
HasKey
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  "
e
ÀÀ# $
.
ÀÀ$ %
OrderDetailID
ÀÀ% 2
)
ÀÀ2 3
.
ÀÀ3 4
HasName
ÀÀ4 ;
(
ÀÀ; <
$str
ÀÀ< \
)
ÀÀ\ ]
;
ÀÀ] ^
entity
ÕÕ 
.
ÕÕ 
Property
ÕÕ 
(
ÕÕ  
e
ÕÕ  !
=>
ÕÕ" $
e
ÕÕ% &
.
ÕÕ& '
OrderDetailID
ÕÕ' 4
)
ÕÕ4 5
.
ÕÕ5 6
HasColumnName
ÕÕ6 C
(
ÕÕC D
$str
ÕÕD S
)
ÕÕS T
;
ÕÕT U
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ  
e
ŒŒ  !
=>
ŒŒ" $
e
ŒŒ% &
.
ŒŒ& '

MenuItemID
ŒŒ' 1
)
ŒŒ1 2
.
ŒŒ2 3
HasColumnName
ŒŒ3 @
(
ŒŒ@ A
$str
ŒŒA M
)
ŒŒM N
;
ŒŒN O
entity
œœ 
.
œœ 
Property
œœ 
(
œœ  
e
œœ  !
=>
œœ" $
e
œœ% &
.
œœ& '
OrderID
œœ' .
)
œœ. /
.
œœ/ 0
HasColumnName
œœ0 =
(
œœ= >
$str
œœ> G
)
œœG H
;
œœH I
entity
–– 
.
–– 
Property
–– 
(
––  
e
––  !
=>
––" $
e
––% &
.
––& '
Price
––' ,
)
––, -
.
––- .
HasColumnType
––. ;
(
––; <
$str
––< L
)
––L M
;
––M N
entity
—— 
.
—— 
Property
—— 
(
——  
e
——  !
=>
——" $
e
——% &
.
——& '
Subtotal
——' /
)
——/ 0
.
““ "
HasComputedColumnSql
““ )
(
““) *
$str
““* @
,
““@ A
true
““B F
)
““F G
.
”” 
HasColumnType
”” "
(
””" #
$str
””# 3
)
””3 4
;
””4 5
entity
’’ 
.
’’ 
HasOne
’’ 
(
’’ 
d
’’ 
=>
’’  "
d
’’# $
.
’’$ %
MenuItem
’’% -
)
’’- .
.
’’. /
WithMany
’’/ 7
(
’’7 8
p
’’8 9
=>
’’: <
p
’’= >
.
’’> ?
OrderDetails
’’? K
)
’’K L
.
÷÷ 
HasForeignKey
÷÷ "
(
÷÷" #
d
÷÷# $
=>
÷÷% '
d
÷÷( )
.
÷÷) *

MenuItemID
÷÷* 4
)
÷÷4 5
.
◊◊ 
OnDelete
◊◊ 
(
◊◊ 
DeleteBehavior
◊◊ ,
.
◊◊, -
ClientSetNull
◊◊- :
)
◊◊: ;
.
ÿÿ 
HasConstraintName
ÿÿ &
(
ÿÿ& '
$str
ÿÿ' A
)
ÿÿA B
;
ÿÿB C
entity
⁄⁄ 
.
⁄⁄ 
HasOne
⁄⁄ 
(
⁄⁄ 
d
⁄⁄ 
=>
⁄⁄  "
d
⁄⁄# $
.
⁄⁄$ %
Order
⁄⁄% *
)
⁄⁄* +
.
⁄⁄+ ,
WithMany
⁄⁄, 4
(
⁄⁄4 5
p
⁄⁄5 6
=>
⁄⁄7 9
p
⁄⁄: ;
.
⁄⁄; <
OrderDetails
⁄⁄< H
)
⁄⁄H I
.
€€ 
HasForeignKey
€€ "
(
€€" #
d
€€# $
=>
€€% '
d
€€( )
.
€€) *
OrderID
€€* 1
)
€€1 2
.
‹‹ 
OnDelete
‹‹ 
(
‹‹ 
DeleteBehavior
‹‹ ,
.
‹‹, -
ClientSetNull
‹‹- :
)
‹‹: ;
.
›› 
HasConstraintName
›› &
(
››& '
$str
››' >
)
››> ?
;
››? @
}
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
modelBuilder
‡‡ 
.
‡‡ 
Entity
‡‡ 
<
‡‡  
Payment
‡‡  '
>
‡‡' (
(
‡‡( )
entity
‡‡) /
=>
‡‡0 2
{
·· 
entity
‚‚ 
.
‚‚ 
HasKey
‚‚ 
(
‚‚ 
e
‚‚ 
=>
‚‚  "
e
‚‚# $
.
‚‚$ %
	PaymentID
‚‚% .
)
‚‚. /
.
‚‚/ 0
HasName
‚‚0 7
(
‚‚7 8
$str
‚‚8 X
)
‚‚X Y
;
‚‚Y Z
entity
‰‰ 
.
‰‰ 
Property
‰‰ 
(
‰‰  
e
‰‰  !
=>
‰‰" $
e
‰‰% &
.
‰‰& '
	PaymentID
‰‰' 0
)
‰‰0 1
.
‰‰1 2
HasColumnName
‰‰2 ?
(
‰‰? @
$str
‰‰@ K
)
‰‰K L
;
‰‰L M
entity
ÂÂ 
.
ÂÂ 
Property
ÂÂ 
(
ÂÂ  
e
ÂÂ  !
=>
ÂÂ" $
e
ÂÂ% &
.
ÂÂ& '

AmountPaid
ÂÂ' 1
)
ÂÂ1 2
.
ÂÂ2 3
HasColumnType
ÂÂ3 @
(
ÂÂ@ A
$str
ÂÂA Q
)
ÂÂQ R
;
ÂÂR S
entity
ÊÊ 
.
ÊÊ 
Property
ÊÊ 
(
ÊÊ  
e
ÊÊ  !
=>
ÊÊ" $
e
ÊÊ% &
.
ÊÊ& '
OrderID
ÊÊ' .
)
ÊÊ. /
.
ÊÊ/ 0
HasColumnName
ÊÊ0 =
(
ÊÊ= >
$str
ÊÊ> G
)
ÊÊG H
;
ÊÊH I
entity
ÁÁ 
.
ÁÁ 
Property
ÁÁ 
(
ÁÁ  
e
ÁÁ  !
=>
ÁÁ" $
e
ÁÁ% &
.
ÁÁ& '
PaymentMethod
ÁÁ' 4
)
ÁÁ4 5
.
ËË 
HasMaxLength
ËË !
(
ËË! "
$num
ËË" $
)
ËË$ %
.
ÈÈ 
	IsUnicode
ÈÈ 
(
ÈÈ 
false
ÈÈ $
)
ÈÈ$ %
;
ÈÈ% &
entity
ÍÍ 
.
ÍÍ 
Property
ÍÍ 
(
ÍÍ  
e
ÍÍ  !
=>
ÍÍ" $
e
ÍÍ% &
.
ÍÍ& '
TransactionDate
ÍÍ' 6
)
ÍÍ6 7
.
ÎÎ  
HasDefaultValueSql
ÎÎ '
(
ÎÎ' (
$str
ÎÎ( 5
)
ÎÎ5 6
.
ÏÏ 
HasColumnType
ÏÏ "
(
ÏÏ" #
$str
ÏÏ# -
)
ÏÏ- .
;
ÏÏ. /
entity
ÌÌ 
.
ÌÌ 
Property
ÌÌ 
(
ÌÌ  
e
ÌÌ  !
=>
ÌÌ" $
e
ÌÌ% &
.
ÌÌ& '
TransactionStatus
ÌÌ' 8
)
ÌÌ8 9
.
ÓÓ 
HasMaxLength
ÓÓ !
(
ÓÓ! "
$num
ÓÓ" $
)
ÓÓ$ %
.
ÔÔ 
	IsUnicode
ÔÔ 
(
ÔÔ 
false
ÔÔ $
)
ÔÔ$ %
;
ÔÔ% &
entity
ÒÒ 
.
ÒÒ 
HasOne
ÒÒ 
(
ÒÒ 
d
ÒÒ 
=>
ÒÒ  "
d
ÒÒ# $
.
ÒÒ$ %
Order
ÒÒ% *
)
ÒÒ* +
.
ÒÒ+ ,
WithMany
ÒÒ, 4
(
ÒÒ4 5
p
ÒÒ5 6
=>
ÒÒ7 9
p
ÒÒ: ;
.
ÒÒ; <
Payments
ÒÒ< D
)
ÒÒD E
.
ÚÚ 
HasForeignKey
ÚÚ "
(
ÚÚ" #
d
ÚÚ# $
=>
ÚÚ% '
d
ÚÚ( )
.
ÚÚ) *
OrderID
ÚÚ* 1
)
ÚÚ1 2
.
ÛÛ 
OnDelete
ÛÛ 
(
ÛÛ 
DeleteBehavior
ÛÛ ,
.
ÛÛ, -
ClientSetNull
ÛÛ- :
)
ÛÛ: ;
.
ÙÙ 
HasConstraintName
ÙÙ &
(
ÙÙ& '
$str
ÙÙ' :
)
ÙÙ: ;
;
ÙÙ; <
}
ıı 
)
ıı 
;
ıı 
modelBuilder
˜˜ 
.
˜˜ 
Entity
˜˜ 
<
˜˜  

Restaurant
˜˜  *
>
˜˜* +
(
˜˜+ ,
entity
˜˜, 2
=>
˜˜3 5
{
¯¯ 
entity
˘˘ 
.
˘˘ 
HasKey
˘˘ 
(
˘˘ 
e
˘˘ 
=>
˘˘  "
e
˘˘# $
.
˘˘$ %
RestaurantID
˘˘% 1
)
˘˘1 2
.
˘˘2 3
HasName
˘˘3 :
(
˘˘: ;
$str
˘˘; [
)
˘˘[ \
;
˘˘\ ]
entity
˚˚ 
.
˚˚ 
HasIndex
˚˚ 
(
˚˚  
e
˚˚  !
=>
˚˚" $
e
˚˚% &
.
˚˚& '
Email
˚˚' ,
,
˚˚, -
$str
˚˚. N
)
˚˚N O
.
˚˚O P
IsUnique
˚˚P X
(
˚˚X Y
)
˚˚Y Z
;
˚˚Z [
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝  
e
˝˝  !
=>
˝˝" $
e
˝˝% &
.
˝˝& '
RestaurantID
˝˝' 3
)
˝˝3 4
.
˝˝4 5
HasColumnName
˝˝5 B
(
˝˝B C
$str
˝˝C Q
)
˝˝Q R
;
˝˝R S
entity
˛˛ 
.
˛˛ 
Property
˛˛ 
(
˛˛  
e
˛˛  !
=>
˛˛" $
e
˛˛% &
.
˛˛& '
AddressLine
˛˛' 2
)
˛˛2 3
.
ˇˇ 
HasMaxLength
ˇˇ !
(
ˇˇ! "
$num
ˇˇ" %
)
ˇˇ% &
.
ÄÄ 
	IsUnicode
ÄÄ 
(
ÄÄ 
false
ÄÄ $
)
ÄÄ$ %
;
ÄÄ% &
entity
ÅÅ 
.
ÅÅ 
Property
ÅÅ 
(
ÅÅ  
e
ÅÅ  !
=>
ÅÅ" $
e
ÅÅ% &
.
ÅÅ& '
City
ÅÅ' +
)
ÅÅ+ ,
.
ÇÇ 
HasMaxLength
ÇÇ !
(
ÇÇ! "
$num
ÇÇ" %
)
ÇÇ% &
.
ÉÉ 
	IsUnicode
ÉÉ 
(
ÉÉ 
false
ÉÉ $
)
ÉÉ$ %
;
ÉÉ% &
entity
ÑÑ 
.
ÑÑ 
Property
ÑÑ 
(
ÑÑ  
e
ÑÑ  !
=>
ÑÑ" $
e
ÑÑ% &
.
ÑÑ& '
Country
ÑÑ' .
)
ÑÑ. /
.
ÖÖ 
HasMaxLength
ÖÖ !
(
ÖÖ! "
$num
ÖÖ" %
)
ÖÖ% &
.
ÜÜ 
	IsUnicode
ÜÜ 
(
ÜÜ 
false
ÜÜ $
)
ÜÜ$ %
;
ÜÜ% &
entity
áá 
.
áá 
Property
áá 
(
áá  
e
áá  !
=>
áá" $
e
áá% &
.
áá& '
CreatedDate
áá' 2
)
áá2 3
.
àà  
HasDefaultValueSql
àà '
(
àà' (
$str
àà( 5
)
àà5 6
.
ââ 
HasColumnType
ââ "
(
ââ" #
$str
ââ# -
)
ââ- .
;
ââ. /
entity
ää 
.
ää 
Property
ää 
(
ää  
e
ää  !
=>
ää" $
e
ää% &
.
ää& '
Description
ää' 2
)
ää2 3
.
ää3 4
HasColumnType
ää4 A
(
ääA B
$str
ääB H
)
ääH I
;
ääI J
entity
ãã 
.
ãã 
Property
ãã 
(
ãã  
e
ãã  !
=>
ãã" $
e
ãã% &
.
ãã& '
Email
ãã' ,
)
ãã, -
.
åå 
HasMaxLength
åå !
(
åå! "
$num
åå" %
)
åå% &
.
çç 
	IsUnicode
çç 
(
çç 
false
çç $
)
çç$ %
;
çç% &
entity
éé 
.
éé 
Property
éé 
(
éé  
e
éé  !
=>
éé" $
e
éé% &
.
éé& '
IsActive
éé' /
)
éé/ 0
.
éé0 1
HasDefaultValue
éé1 @
(
éé@ A
true
ééA E
)
ééE F
;
ééF G
entity
èè 
.
èè 
Property
èè 
(
èè  
e
èè  !
=>
èè" $
e
èè% &
.
èè& '
Name
èè' +
)
èè+ ,
.
êê 
HasMaxLength
êê !
(
êê! "
$num
êê" %
)
êê% &
.
ëë 
	IsUnicode
ëë 
(
ëë 
false
ëë $
)
ëë$ %
;
ëë% &
entity
íí 
.
íí 
Property
íí 
(
íí  
e
íí  !
=>
íí" $
e
íí% &
.
íí& '
OperatingHours
íí' 5
)
íí5 6
.
ìì 
HasMaxLength
ìì !
(
ìì! "
$num
ìì" $
)
ìì$ %
.
îî 
	IsUnicode
îî 
(
îî 
false
îî $
)
îî$ %
;
îî% &
entity
ïï 
.
ïï 
Property
ïï 
(
ïï  
e
ïï  !
=>
ïï" $
e
ïï% &
.
ïï& '
PhNo
ïï' +
)
ïï+ ,
.
ññ 
HasMaxLength
ññ !
(
ññ! "
$num
ññ" $
)
ññ$ %
.
óó 
	IsUnicode
óó 
(
óó 
false
óó $
)
óó$ %
;
óó% &
entity
òò 
.
òò 
Property
òò 
(
òò  
e
òò  !
=>
òò" $
e
òò% &
.
òò& '

PostalCode
òò' 1
)
òò1 2
.
ôô 
HasMaxLength
ôô !
(
ôô! "
$num
ôô" %
)
ôô% &
.
öö 
	IsUnicode
öö 
(
öö 
false
öö $
)
öö$ %
;
öö% &
entity
õõ 
.
õõ 
Property
õõ 
(
õõ  
e
õõ  !
=>
õõ" $
e
õõ% &
.
õõ& '
State
õõ' ,
)
õõ, -
.
úú 
HasMaxLength
úú !
(
úú! "
$num
úú" %
)
úú% &
.
ùù 
	IsUnicode
ùù 
(
ùù 
false
ùù $
)
ùù$ %
;
ùù% &
}
ûû 
)
ûû 
;
ûû 
modelBuilder
†† 
.
†† 
Entity
†† 
<
††  
User
††  $
>
††$ %
(
††% &
entity
††& ,
=>
††- /
{
°° 
entity
¢¢ 
.
¢¢ 
HasKey
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢  "
e
¢¢# $
.
¢¢$ %
UserID
¢¢% +
)
¢¢+ ,
.
¢¢, -
HasName
¢¢- 4
(
¢¢4 5
$str
¢¢5 R
)
¢¢R S
;
¢¢S T
entity
§§ 
.
§§ 
HasIndex
§§ 
(
§§  
e
§§  !
=>
§§" $
e
§§% &
.
§§& '
Email
§§' ,
,
§§, -
$str
§§. K
)
§§K L
.
§§L M
IsUnique
§§M U
(
§§U V
)
§§V W
;
§§W X
entity
¶¶ 
.
¶¶ 
Property
¶¶ 
(
¶¶  
e
¶¶  !
=>
¶¶" $
e
¶¶% &
.
¶¶& '
UserID
¶¶' -
)
¶¶- .
.
¶¶. /
HasColumnName
¶¶/ <
(
¶¶< =
$str
¶¶= E
)
¶¶E F
;
¶¶F G
entity
ßß 
.
ßß 
Property
ßß 
(
ßß  
e
ßß  !
=>
ßß" $
e
ßß% &
.
ßß& '
AddressLine
ßß' 2
)
ßß2 3
.
®® 
HasMaxLength
®® !
(
®®! "
$num
®®" %
)
®®% &
.
©© 
	IsUnicode
©© 
(
©© 
false
©© $
)
©©$ %
;
©©% &
entity
™™ 
.
™™ 
Property
™™ 
(
™™  
e
™™  !
=>
™™" $
e
™™% &
.
™™& '
City
™™' +
)
™™+ ,
.
´´ 
HasMaxLength
´´ !
(
´´! "
$num
´´" %
)
´´% &
.
¨¨ 
	IsUnicode
¨¨ 
(
¨¨ 
false
¨¨ $
)
¨¨$ %
;
¨¨% &
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠  
e
≠≠  !
=>
≠≠" $
e
≠≠% &
.
≠≠& '
Country
≠≠' .
)
≠≠. /
.
ÆÆ 
HasMaxLength
ÆÆ !
(
ÆÆ! "
$num
ÆÆ" %
)
ÆÆ% &
.
ØØ 
	IsUnicode
ØØ 
(
ØØ 
false
ØØ $
)
ØØ$ %
;
ØØ% &
entity
∞∞ 
.
∞∞ 
Property
∞∞ 
(
∞∞  
e
∞∞  !
=>
∞∞" $
e
∞∞% &
.
∞∞& '
CreatedDate
∞∞' 2
)
∞∞2 3
.
±±  
HasDefaultValueSql
±± '
(
±±' (
$str
±±( 5
)
±±5 6
.
≤≤ 
HasColumnType
≤≤ "
(
≤≤" #
$str
≤≤# -
)
≤≤- .
;
≤≤. /
entity
≥≥ 
.
≥≥ 
Property
≥≥ 
(
≥≥  
e
≥≥  !
=>
≥≥" $
e
≥≥% &
.
≥≥& '
Email
≥≥' ,
)
≥≥, -
.
¥¥ 
HasMaxLength
¥¥ !
(
¥¥! "
$num
¥¥" %
)
¥¥% &
.
µµ 
	IsUnicode
µµ 
(
µµ 
false
µµ $
)
µµ$ %
;
µµ% &
entity
∂∂ 
.
∂∂ 
Property
∂∂ 
(
∂∂  
e
∂∂  !
=>
∂∂" $
e
∂∂% &
.
∂∂& '
IsActive
∂∂' /
)
∂∂/ 0
.
∂∂0 1
HasDefaultValue
∂∂1 @
(
∂∂@ A
true
∂∂A E
)
∂∂E F
;
∂∂F G
entity
∑∑ 
.
∑∑ 
Property
∑∑ 
(
∑∑  
e
∑∑  !
=>
∑∑" $
e
∑∑% &
.
∑∑& '
Password
∑∑' /
)
∑∑/ 0
.
∏∏ 
HasMaxLength
∏∏ !
(
∏∏! "
$num
∏∏" $
)
∏∏$ %
.
ππ 
	IsUnicode
ππ 
(
ππ 
false
ππ $
)
ππ$ %
;
ππ% &
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫  
e
∫∫  !
=>
∫∫" $
e
∫∫% &
.
∫∫& '
PhNo
∫∫' +
)
∫∫+ ,
.
ªª 
HasMaxLength
ªª !
(
ªª! "
$num
ªª" $
)
ªª$ %
.
ºº 
	IsUnicode
ºº 
(
ºº 
false
ºº $
)
ºº$ %
;
ºº% &
entity
ΩΩ 
.
ΩΩ 
Property
ΩΩ 
(
ΩΩ  
e
ΩΩ  !
=>
ΩΩ" $
e
ΩΩ% &
.
ΩΩ& '

PostalCode
ΩΩ' 1
)
ΩΩ1 2
.
ææ 
HasMaxLength
ææ !
(
ææ! "
$num
ææ" %
)
ææ% &
.
øø 
	IsUnicode
øø 
(
øø 
false
øø $
)
øø$ %
;
øø% &
entity
¿¿ 
.
¿¿ 
Property
¿¿ 
(
¿¿  
e
¿¿  !
=>
¿¿" $
e
¿¿% &
.
¿¿& '
Role
¿¿' +
)
¿¿+ ,
.
¡¡ 
HasMaxLength
¡¡ !
(
¡¡! "
$num
¡¡" $
)
¡¡$ %
.
¬¬ 
	IsUnicode
¬¬ 
(
¬¬ 
false
¬¬ $
)
¬¬$ %
;
¬¬% &
entity
√√ 
.
√√ 
Property
√√ 
(
√√  
e
√√  !
=>
√√" $
e
√√% &
.
√√& '
State
√√' ,
)
√√, -
.
ƒƒ 
HasMaxLength
ƒƒ !
(
ƒƒ! "
$num
ƒƒ" %
)
ƒƒ% &
.
≈≈ 
	IsUnicode
≈≈ 
(
≈≈ 
false
≈≈ $
)
≈≈$ %
;
≈≈% &
entity
∆∆ 
.
∆∆ 
Property
∆∆ 
(
∆∆  
e
∆∆  !
=>
∆∆" $
e
∆∆% &
.
∆∆& '
Username
∆∆' /
)
∆∆/ 0
.
«« 
HasMaxLength
«« !
(
««! "
$num
««" $
)
««$ %
.
»» 
	IsUnicode
»» 
(
»» 
false
»» $
)
»»$ %
;
»»% &
}
…… 
)
…… 
;
…… 
}
ÃÃ 	
}
ÕÕ 
}ŒŒ 